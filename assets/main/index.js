System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./ResourceManager.ts"],(function(n){var t,e,u,r,i,a,o;return{setters:[function(n){t=n.createClass,e=n.asyncToGenerator,u=n.regeneratorRuntime},function(n){r=n.cclegacy,i=n.AudioSource},function(n){a=n.DataManager},function(n){o=n.default}],execute:function(){r._RF.push({},"1313bYFULdHPoBTcUnOKIj8","AudioManager",void 0),n("default",function(){function n(){this.audioSource=null}n.getInstance=function(){return null===this._instance&&(this._instance=new this,this._instance.init()),this._instance};var r=n.prototype;return r.init=function(){this.audioSource=new i,this.audioSource.loop=!0,this.audioSource.volume=.3},r.playMusic=function(){var n=e(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log("playMusic--");case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),r.stopMusic=function(){this.audioSource.stop()},r.playSound=function(){var n=e(u().mark((function n(t,e){var r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.instance.isSoundOn){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,o.instance.getClip(t);case 5:return r=n.sent,n.abrupt("return",this.audioSource.playOneShot(r,1));case 7:case"end":return n.stop()}}),n,this)})));return function(t,e){return n.apply(this,arguments)}}(),r.stopSound=function(n){},t(n,null,[{key:"instance",get:function(){return this.getInstance()}}]),n}())._instance=null,r._RF.pop()}}}));

System.register("chunks:///_virtual/AvatarItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,a,i,c,o,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,c=e._decorator,o=e.Node,l=e.Component}],execute:function(){var s,u,p,f,v;i._RF.push({},"28bc3h3yZBDrJ8ZfYI/YJtQ","AvatarItem",void 0);var d=c.ccclass,m=c.property;e("AvatarItem",(s=d("AvatarItem"),u=m(o),s((v=t((f=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return t=e.call.apply(e,[this].concat(i))||this,n(t,"selectedFrame",v,a(t)),t}return r(t,e),t.prototype.setSelected=function(e){this.selectedFrame.active=e},t}(l)).prototype,"selectedFrame",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/BaseControll.ts",["cc","./DataManager.ts"],(function(t){var n,e;return{setters:[function(t){n=t.cclegacy},function(t){e=t.DataManager}],execute:function(){n._RF.push({},"d5408HrHD1KCaY3WAqv0u4z","BaseControll",void 0);t("default",new(function(){function t(){this.IS_LOGIN=!1,this.IS_SOUND=!0,this.isConnected=!1,this.audio=null,this._socket=null,this.user={},this.vip=1,this.prefab={},this.setting={},this.util={},this.sslPem={},this.daily_list=[],this.listGame=[]}var n=t.prototype;return n.connect=function(t,n,e,o){if(void 0===n&&(n="/"),void 0===e&&(e=!1),void 0===o&&(o=!0),!this.isConnected){var i="wss"+(o?"s":"")+"://"+t+(e?":"+e:"")+n;this._socket=new WebSocket(i),this._socket.onopen=this._onSocketConnect.bind(this),this._socket.onclose=this._onSocketDisconnect.bind(this),this._socket.onmessage=this._onSocketData.bind(this),this._socket.onerror=this._onSocketError.bind(this),this.isConnected=!0}},n.disconnect=function(){var t;this.isConnected=!1,null==(t=this._socket)||t.close()},n.send=function(t){try{this._socket&&this._socket.readyState===WebSocket.OPEN?this._socket.send(this._encodeMessage(t)):console.log("connect send message")}catch(t){console.error("Connection error: ",t)}},n._decodeMessage=function(t){return JSON.parse(t)},n._encodeMessage=function(t){return JSON.stringify(t)},n._onSocketConnect=function(){this.isConnected=!0},n._onSocketDisconnect=function(){this.isConnected=!1,e.instance.wsClient.reconnect()},n._onSocketData=function(t){var n=this._decodeMessage(t.data);e.instance.LoadMain.onData(n)},n._onSocketError=function(t){console.error("WebSocket Error: ",t),e.instance.LoadMain.onSocketClose(t)},n.reconnect=function(){this.connect("poker.moluy.icu","/websocket",!1,!1)},n.init=function(){this.initPrototype()},n.initPrototype=function(){String.prototype.includes||(String.prototype.includes=function(t,n){return void 0===n&&(n=0),-1!==this.indexOf(t,n)})},n.setAutoLogin=function(t){localStorage.setItem("AUTO_LOGIN",String(t))},n.isAutoLogin=function(){return"true"===localStorage.getItem("AUTO_LOGIN")},n.setSoundGame=function(t){localStorage.setItem("SOUND_GAME",String(t))},n.isSoundGame=function(){return"true"===localStorage.getItem("SOUND_GAME")},t}()));n._RF.pop()}}}));

System.register("chunks:///_virtual/BrowserUtil.ts",["cc"],(function(t){var o,s,r;return{setters:[function(t){o=t.cclegacy,s=t.sys,r=t.game}],execute:function(){o._RF.push({},"ec291TuRVpAKY1Rm+JRtFOB","BrowserUtil",void 0);t("BrowserUtil",function(){function t(){}return t.showCursorText=function(){this.isCursorAuto()||this.setCursor("text")},t.showCursorPointer=function(){this.isCursorAuto()||this.setCursor("pointer")},t.showCursorMove=function(){this.isCursorAuto()||this.setCursor("move")},t.showCursorAuto=function(){this.isCursorAuto()||this.setCursor("auto")},t.showCursorFish=function(){s.isBrowser&&(r.canvas.style.cursor="url('/assets/fish_game_arrow.png'), auto")},t.showCursorShoot=function(){if(s.isBrowser){var t=document.getElementById("GameDiv");t&&(t.style.cursor="url('cursors/cursor-shot.png') 5 2, auto")}},t.showCursorAutoForce=function(){s.isBrowser&&this.setCursor("auto")},t.isCursorAuto=function(){var t;return s.isBrowser&&"auto"===(null==(t=document.getElementById("GameDiv"))?void 0:t.style.cursor)},t.setCursor=function(t){s.isBrowser&&(document.body.style.cursor=t)},t.showTooltip=function(t){s.isBrowser&&(document.body.title=t)},t.focusGame=function(){if(s.isBrowser){var t=document.getElementsByTagName("canvas")[0];t&&t.focus()}},t.getHTMLElementByEditBox=function(t){var o;return(null==(o=t._impl)?void 0:o._elem)||null},t.checkEditBoxFocus=function(t){return t.isFocused()},t.focusEditBox=function(t){var o=this.getHTMLElementByEditBox(t);o&&o.focus(),t.focus()},t.unFocusEditBox=function(t){var o=this.getHTMLElementByEditBox(t);o&&o.blur()},t.inputAddEvent=function(t,o,s){var r=this.getHTMLElementByEditBox(t);r&&r.addEventListener(o,s)},t.inputRemoveEvent=function(t,o,s){var r=this.getHTMLElementByEditBox(t);r&&r.removeEventListener(o,s)},t.readOnlyEditBox=function(t){var o=this.getHTMLElementByEditBox(t);o&&(o.readOnly=!0)},t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/CalCard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts"],(function(t){var i,o,n,e,s,r,a,c,h,u,d;return{setters:[function(t){i=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,a=t.Node,c=t.Sprite,h=t.Vec3,u=t.Component},function(t){d=t.DataManager}],execute:function(){var p,l,g,C,f,v,D;s._RF.push({},"4f01cJ4/CJM8r0qjAblgqfA","CalCard",void 0);var T=r.ccclass,m=r.property;t("CalCard",(p=T("CalCard"),l=m(a),g=m(c),p((v=i((f=function(t){function i(){for(var i,o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return i=t.call.apply(t,[this].concat(s))||this,n(i,"up",v,e(i)),n(i,"upSprite",D,e(i)),i.rank=-1,i.suit=-1,i.chooseCard=void 0,i.chooseCardBoard=void 0,i.isDragging=!1,i.startPosition=new h,i}o(i,t);var s=i.prototype;return s.start=function(){this.node.on(a.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(a.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(a.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(a.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.node.on(a.EventType.MOUSE_DOWN,this.onMouseDown,this),this.node.on(a.EventType.MOUSE_MOVE,this.onMouseMove,this)},s.setUp=function(t,i){this.chooseCard=!1,-1!=t&&-1!=i&&(this.upSprite.spriteFrame=d.instance.utilCard.getCard(t,i)),this.up.active=!0,this.rank=t,this.suit=i},s.onClick=function(){this.node.emit("clickCard",this)},s.onClickBroad=function(){this.node.emit("clickBoardCard",this)},s.setCardBoard=function(t,i){-1!=t&&-1!=i?(this.chooseCardBoard=!0,this.up.active=!0,this.upSprite.spriteFrame=d.instance.utilCard.getCard(t,i),this.up.position=new h(0,0,0)):(this.chooseCardBoard=!1,this.up.active=!1,this.upSprite.spriteFrame=null),this.rank=t,this.suit=i},s.scaleCardBoard=function(){this.node.setScale(2,2)},s.onClickUp=function(){this.chooseCard=!0,this.up.setScale(1.5,1.5)},s.disableUp=function(){this.chooseCard=!1,this.up.active=!1,this.up.setScale(1,1)},s.enableUp=function(){this.up.active=!0,this.up.setScale(1,1),this.chooseCard=!1,this.up.position=new h(0,0,0)},s.onMouseMove=function(t){this.chooseCardBoard||1===t.getButton()&&this.isDragging&&this.moveCard(t.getLocation())},s.onTouchStart=function(t){this.chooseCardBoard||this.startDrag(t.getLocation())},s.onMouseDown=function(t){this.chooseCardBoard||(this.isDragging=!0,this.startDrag(t.getLocation()))},s.startDrag=function(t){this.node.emit("dragStartCard",this),this.isDragging=!0;var i=d.instance.camera.main.screenToWorld(new h(t.x,t.y,0));this.up.setWorldPosition(i)},s.onTouchMove=function(t){this.chooseCardBoard||this.isDragging&&this.moveCard(t.getLocation())},s.moveCard=function(t){var i=d.instance.camera.main.screenToWorld(new h(t.x,t.y,0));this.up.setWorldPosition(i)},s.onTouchEnd=function(t){this.chooseCardBoard||this.endDrag()},s.onMouseUp=function(t){console.log("onMouseUp")},s.endDrag=function(){console.log("endDrag"),this.isDragging&&(console.log("endDrag222"),this.isDragging=!1,this.node.emit("dragEndCard",this))},i}(u)).prototype,"up",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(f.prototype,"upSprite",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=f))||C));s._RF.pop()}}}));

System.register("chunks:///_virtual/Calculator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./eventManager.ts","./CalPlayer.ts"],(function(r){var n,t,a,e,i,o,l,s,c,u,d,h,f,g,C,p;return{setters:[function(r){n=r.applyDecoratedDescriptor,t=r.inheritsLoose,a=r.initializerDefineProperty,e=r.assertThisInitialized,i=r.createForOfIteratorHelperLoose},function(r){o=r.cclegacy,l=r._decorator,s=r.Prefab,c=r.Node,u=r.instantiate,d=r.UITransform,h=r.Rect,f=r.Component},function(r){g=r.DataManager},function(r){C=r.eventManager},function(r){p=r.CalPlayer}],execute:function(){var k,v,y,m,b,P,w,U,M,A,S,B,H,D,E;o._RF.push({},"62e047Gg7pEGLIfjGlhCUcN","Calculator",void 0);var x=l.ccclass,z=l.property;r("Calculator",(k=x("Calculator"),v=z(s),y=z(s),m=z(c),b=z(c),P=z(c),w=z([p]),k((A=n((M=function(r){function n(){for(var n,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return n=r.call.apply(r,[this].concat(i))||this,a(n,"cardPrefab",A,e(n)),a(n,"player",S,e(n)),a(n,"bottom",B,e(n)),a(n,"mid",H,e(n)),a(n,"top",D,e(n)),a(n,"players",E,e(n)),n.numPlayer=0,n.boardCards=[],n.allPlayers=[],n.isClickCard=!1,n.card={rank:0,suit:0},n.allCards=void 0,n.draggedCard=void 0,n}t(n,r);var o=n.prototype;return o.onLoad=function(){g.instance.calculator=this},o.onOpen=function(r){var n=this;this.top.removeAllChildren(),this.bottom.removeAllChildren(),this.allCards=[],this.boardCards=[],this.allPlayers=[],this.isClickCard=!1;for(var t=0;t<4;t++)for(var a=t,e=0;e<13;e++){var i=e,o=u(this.cardPrefab);this.bottom.addChild(o);var l=o.getComponent("CalCard");l.setUp(i,a),o.on("clickCard",(function(r){n.clickCard(r)})),o.on("dragStartCard",(function(r){n.onDragStartCard(r)})),o.on("dragEndCard",(function(r){n.onDragEndCard(r)})),this.allCards.push(l)}for(var s=0;s<5;s++){var c=u(this.cardPrefab);this.top.addChild(c);var d=c.getComponent("CalCard");d.scaleCardBoard(),d.setUp(-1,-1),c.on("clickBoardCard",(function(r){n.clickBoardCard(r)})),this.boardCards.push(d)}this.numPlayer=0,this.onAddPlayer()},o.onDragStartCard=function(r){this.draggedCard=r,this.clickCard(r),console.log("Bắt đầu kéo quân bài:",r.rank,r.suit)},o.onDragEndCardToPlayer=function(r){if(r&&r.node){var n=r.up.getWorldPosition(),t={width:0,height:0},a=r.up.getComponent(d);if(a){t=a.contentSize;for(var e=new h(n.x-.5*t.width,n.y-.5*t.height,t.width,t.height),o=0;o<this.boardCards.length;o++){var l=this.boardCards[o],s=l.node;if(s){var c=s.getWorldPosition(),u=s.getComponent(d).contentSize;if(new h(c.x-.5*u.width,c.y-.5*u.height,u.width,u.height).intersects(e))return this.clickBoardCard(l),void(this.draggedCard=null)}}for(var f,g=i(this.allPlayers);!(f=g()).done;){var C=f.value,p=C.upSprite[0].node,k=p.getWorldPosition(),v={width:0,height:0},y=p.getComponent(d);if(y&&(v=y.contentSize),new h(k.x-.5*v.width,k.y-.5*v.height,v.width,v.height).intersects(e))return this.isClickCard=!0,this.onClickCard1(C),void(this.draggedCard=null);var m=C.upSprite[1].node,b=m.getWorldPosition(),P={width:0,height:0},w=m.getComponent(d);if(w&&(P=w.contentSize),new h(b.x-.5*P.width,b.y-.5*P.height,P.width,P.height).intersects(e))return this.isClickCard=!0,this.onClickCard2(C),void(this.draggedCard=null)}r&&r.node&&r.startPosition&&(this.isClickCard=!1,r.enableUp()),this.draggedCard=null}else console.warn("Dragged card không có Sprite hoặc UITransform.")}},o.onDragEndCard=function(r){console.log("onDragEndCard"),this.draggedCard===r&&(this.draggedCard=null,console.log("Kết thúc kéo quân bài:",r.rank,r.suit),this.onDragEndCardToPlayer(r))},o.onReset=function(){this.onOpen(null)},o.backLobby=function(){this.top.removeAllChildren(),this.bottom.removeAllChildren();for(var r=0;r<this.players.length;r++)this.players[r].removeUp1(),this.players[r].removeUp2();this.allCards=[],this.boardCards=[],this.allPlayers=[],this.isClickCard=!1,C.dispatchEvent("ThemeLobby")},o.clickCard=function(r){if(console.log("data:",r),r.up.active){if(this.isClickCard)this.cardOn().enableUp();r.onClickUp(),this.isClickCard=!0,this.card={rank:r.rank,suit:r.suit},console.log("This.card:",this.card)}},o.clickBoardCard=function(r){(-1!=r.rank&&-1!=r.suit&&(this.allCards[13*r.suit+r.rank].enableUp(),r.setCardBoard(-1,-1)),this.isClickCard)&&(this.cardOn().disableUp(),r.setCardBoard(this.card.rank,this.card.suit),this.isClickCard=!1,this.percent())},o.checkPlayersCards=function(){for(var r,n=[],t=i(this.allPlayers);!(r=t()).done;){var a=r.value;if(-1==a.rank[0]&&-1!==a.rank[1]||-1!==a.rank[0]&&-1==a.rank[1])return[];-1==a.rank[0]&&-1==a.rank[1]||n.push(a)}return n},o.checkBoardCards=function(){var r=this.boardCards.filter((function(r){return-1!==r.rank&&-1!==r.suit}));return 0===r.length?(console.log("Không có bài trên board."),[]):(console.log("Bài trên board:",r),r)},o.onAddPlayer=function(){for(var r=this,n=0;n<this.players.length;n++){var t=this.players[n];t.setPercent(0),t.upSprite[0].node.on("clickCard1",(function(n){r.onClickCard1(n)})),t.upSprite[1].node.on("clickCard2",(function(n){r.onClickCard2(n)})),this.allPlayers.push(t)}},o.onMinusPlayer=function(){var r=this;if(!(this.numPlayer<=1)){this.numPlayer--;var n=this.allPlayers[this.allPlayers.length-1];this.allPlayers.pop(),-1!=n.rank[0]&&-1!=n.suit[0]&&this.allCards[13*n.suit[0]+n.rank[0]].enableUp(),-1!=n.rank[1]&&-1!=n.suit[1]&&this.allCards[13*n.suit[1]+n.rank[1]].enableUp(),n.upSprite[0].node.off("clickCard1",(function(n){r.onClickCard1(n)})),n.upSprite[1].node.off("clickCard2",(function(n){r.onClickCard2(n)})),n.node.removeFromParent(),n.node.destroy()}},o.onClickCard1=function(r){console.log("player:",r);var n=r.removeUp1(),t=n.rank,a=n.suit;(-1!=t&&-1!=a&&this.allCards[13*a+t].enableUp(),this.isClickCard)&&(this.cardOn().disableUp(),r.setUp1(this.card.rank,this.card.suit),this.isClickCard=!1,this.percent())},o.onClickCard2=function(r){var n=r.removeUp2(),t=n.rank,a=n.suit;(-1!=t&&-1!=a&&this.allCards[13*a+t].enableUp(),this.isClickCard)&&(this.cardOn().disableUp(),r.setUp2(this.card.rank,this.card.suit),this.isClickCard=!1,this.percent())},o.percent=function(){var r=this;this.scheduleOnce((function(){var n,t=0;if(n=r.checkBoardCards().length<2?r.calculateWinPercentageMonteCarlo(r.checkPlayersCards(),r.checkBoardCards(),8e3):r.calculateExactWinPercentage())for(var a=0;a<r.allPlayers.length;a++)-1!=r.allPlayers[a].rank[0]||-1!=r.allPlayers[a].rank[1]?(r.allPlayers[a].setPercent(n[t]),t++):r.allPlayers[a].setPercent(0);else for(var e=0;e<r.allPlayers.length;e++)r.allPlayers[e].setPercent(0)}),.5)},o.calculateWinPercentageMonteCarlo=function(r,n,t){var a=this;if(void 0===t&&(t=1e4),!(r.length<2)){for(var e=r.length,i=r.map((function(r){return r.getCards()})),o=[].concat(i.flat(),n),l=new Array(e).fill(0),s=new Array(e).fill(0),c=function(){var t=a.getRemainingDeck(r,n),e=a.shuffleArray(t.filter((function(r){return!o.some((function(n){return n.rank===r.rank&&n.suit===r.suit}))}))),c=5-n.length,u=[].concat(n,e.slice(0,c)),d=i.map((function(r){var n=[].concat(r,u);return a.evaluateBestHand(n)})),h=a.determineWinner(d);Array.isArray(h)?h.forEach((function(r){return s[r]++})):-1!==h&&l[h]++},u=0;u<t;u++)c();return l.map((function(r,n){return r/t*100})).map((function(r){return parseFloat(r.toFixed(2))}))}console.log("Không đủ người chơi để tính toán.")},o.cardOn=function(){return this.allCards.filter((function(r){return 1==r.chooseCard}))[0]},o.getRemainingDeck=function(r,n){void 0===r&&(r=[]),void 0===n&&(n=[]);for(var t=[],a=0;a<4;a++)for(var e=0;e<13;e++)t.push({rank:e,suit:a});if(0===r.length&&0===n.length)return t;var i=[].concat(n.filter((function(r){return r&&void 0!==r.rank&&void 0!==r.suit})),r.flatMap((function(r){return r.getCards().filter((function(r){return r&&void 0!==r.rank&&void 0!==r.suit}))})));return t.filter((function(r){return!i.some((function(n){return n.rank===r.rank&&n.suit===r.suit}))}))},o.evaluateHand=function(r){r.sort((function(r,n){return r.rank-n.rank}));var n=r.map((function(r){return r.rank})),t=r.map((function(r){return r.suit})),a=t.every((function(r){return r===t[0]})),e=this.calculateStraightPercentage(n),i={};n.forEach((function(r){i[r]=(i[r]||0)+1}));var o=Object.values(i).sort((function(r,n){return n-r}));return a&&e?{rank:9,highCard:n.includes(0)&&n.includes(9)&&n.includes(10)&&n.includes(11)&&n.includes(12)?0:Math.max.apply(Math,n),cards:r}:a?{rank:6,highCard:Math.max.apply(Math,n),cards:r}:e?{rank:5,highCard:n.includes(0)&&n.includes(1)&&n.includes(2)&&n.includes(3)&&n.includes(4)?5:Math.max.apply(Math,n),cards:r}:4===o[0]?{rank:8,highCard:this.getHighCard(n,i,4),cards:r}:3===o[0]&&2===o[1]?{rank:7,highCard:this.getHighCard(n,i,3),cards:r}:3===o[0]?{rank:4,highCard:this.getHighCard(n,i,3),cards:r}:2===o[0]&&2===o[1]?{rank:3,highCard:this.getHighCard(n,i,2),cards:r}:2===o[0]?{rank:2,highCard:this.getHighCard(n,i,2),cards:r}:{rank:1,highCard:Math.max.apply(Math,n),cards:r}},o.getHighCard=function(r,n,t){return parseInt(Object.keys(n).find((function(r){return n[r]===t})))},o.isStraight=function(r){r.sort((function(r,n){return r-n}));for(var n=0;n<r.length-1;n++)if(r[n]+1!==r[n+1]){var t=r.includes(0)&&r.includes(9)&&r.includes(10)&&r.includes(11)&&r.includes(12),a=r.includes(0)&&r.includes(1)&&r.includes(2)&&r.includes(3)&&r.includes(4);return t||a}return!0},o.calculateStraightPercentage=function(r){r.sort((function(r,n){return r-n}));for(var n=!0,t=0;t<r.length-1;t++)if(r[t]+1!==r[t+1]){n=!1;break}var a=r.includes(0)&&r.includes(9)&&r.includes(10)&&r.includes(11)&&r.includes(12),e=r.includes(0)&&r.includes(1)&&r.includes(2)&&r.includes(3)&&r.includes(4);return n||a||e},o.compareHands=function(r,n){if(r.highCard>n.highCard)return 1;if(r.highCard<n.highCard)return-1;for(var t=r.cards.sort((function(r,n){return n.rank-r.rank})),a=n.cards.sort((function(r,n){return n.rank-r.rank})),e=0;e<t.length;e++){if(t[e].rank>a[e].rank)return 1;if(t[e].rank<a[e].rank)return-1}return 0},o.getCombinations=function(r,n){if(0===n)return[[]];if(0===r.length)return[];var t=r[0],a=r.slice(1);return[].concat(this.getCombinations(a,n),this.getCombinations(a,n-1).map((function(r){return[t].concat(r)})))},o.calculateExactWinPercentage=function(){var r=this,n=this.checkPlayersCards(),t=this.checkBoardCards();if(n.length<2)console.log("Không đủ người chơi để tính toán.");else{var a=n.length,e=5-t.length;if(!(e<0)){var i,o=n.map((function(r){return r.getCards()})),l=[].concat(o.flat(),t),s=this.getRemainingDeck(n,t).filter((function(r){return!l.some((function(n){return n.rank===r.rank&&n.suit===r.suit}))})),c=new Array(a).fill(0),u=0;if(t.length<=3){var d=0===t.length?Math.min(this.getCombinationCount(s.length,e),1e5):this.getCombinationCount(s.length,e);console.log("Chế độ mô phỏng ("+d+" lượt).");for(var h=function(){var n=r.shuffleArray([].concat(s)).slice(0,e),a=[].concat(t,n);if(5!==a.length)return 1;var i=o.map((function(n){var t=[].concat(n,a);return r.evaluateBestHand(t)})),l=r.determineWinner(i);-1!==l&&(Array.isArray(l)?l.forEach((function(r){return c[r]++})):c[l]++),u++},f=0;f<d;f++)h()}else i=this.getCombinations(s,e),console.log("Chế độ tính toán chính xác ("+i.length+" tổ hợp)."),i.forEach((function(n){var a=[].concat(t,n);if(5===a.length){var e=o.map((function(n){var t=[].concat(n,a);return r.evaluateBestHand(t)})),i=r.determineWinner(e);-1!==i&&(Array.isArray(i)?i.forEach((function(r){return c[r]++})):c[i]++),u++}}));var g=c.map((function(r){return u>0?(r/u*100).toFixed(2):"0.00"}));return g.forEach((function(r,n){console.log("Player "+(n+1)+": "+r+"%")})),g}console.log("Số lượng bài chung không hợp lệ.")}},o.getCombinationCount=function(r,n){if(n<0||n>r)return 0;if(0===n||n===r)return 1;n>r/2&&(n=r-n);for(var t=1,a=1;a<=n;++a)t=t*(r-a+1)/a;return t},o.shuffleArray=function(r){for(var n=r.length-1;n>0;n--){var t=Math.floor(Math.random()*(n+1)),a=[r[t],r[n]];r[n]=a[0],r[t]=a[1]}return r},o.evaluateBestHand=function(r){for(var n,t=this.getCombinations(r,5),a=null,e=i(t);!(n=e()).done;){var o=n.value,l=this.evaluateHand(o);(!a||l.rank>a.rank||l.rank===a.rank&&this.compareHands(l,a)>0)&&(a=l)}return a},o.determineWinner=function(r){for(var n=r[0].rank,t=[0],a=1;a<r.length;a++){var e=r[a].rank;if(e>n)n=e,t=[a];else if(e===n){var i=this.compareHands(r[a],r[t[0]]);i>0?t=[a]:0===i&&t.push(a)}}return 1===t.length?t[0]:t},n}(f)).prototype,"cardPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=n(M.prototype,"player",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(M.prototype,"bottom",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(M.prototype,"mid",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(M.prototype,"top",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(M.prototype,"players",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=M))||U));o._RF.pop()}}}));

System.register("chunks:///_virtual/CalendarPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,a,n,i,r,l,o,s,h,c,u,d,p,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.createForOfIteratorHelperLoose},function(t){l=t.cclegacy,o=t._decorator,s=t.Node,h=t.Label,c=t.Button,u=t.instantiate,d=t.Color,p=t.Sprite,g=t.Component}],execute:function(){var D,f,y,C,b,m,v,w,k,T,z;l._RF.push({},"c4bb41uxO1AA5zzaA5pU4Cz","CalendarPopup",void 0);var M=o.ccclass,S=o.property;t("CalendarPopup",(D=M("CalendarPopup"),f=S(s),y=S(s),C=S(h),b=S(c),D((w=e((v=function(t){function e(){for(var e,a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,n(e,"grid",w,i(e)),n(e,"templateDay",k,i(e)),n(e,"labelTitle",T,i(e)),n(e,"btnConfirm",z,i(e)),e.selectedDay=null,e.callback=null,e.startDate=null,e.endDate=null,e.displayYear=null,e.displayMonth=null,e}a(e,t);var l=e.prototype;return l.onEnable=function(){},l.show=function(t,e,a){this.callback=a,this.displayYear=e,this.displayMonth=t,this.generateCalendar(t,e)},l.generateCalendar=function(t,e){var a=this;this.grid.removeAllChildren();for(var n=new Date(e,t,1).getDay(),i=new Date(e,t+1,0).getDate(),r=0;r<n;r++){var l=u(this.templateDay);l.active=!0,l.getComponentInChildren(h).string="",this.grid.addChild(l)}for(var o=function(t){var e=u(a.templateDay);e.active=!0,e.getComponentInChildren(h).string=t.toString(),e.on(s.EventType.TOUCH_END,(function(){console.log("vaodaayyyy"),a.onDayClick(t,a.displayMonth,a.displayYear)})),a.grid.addChild(e)},c=1;c<=i;c++)o(c)},l.highlightSelected=function(t){this.grid.children.forEach((function(t){var e=t.getComponent(h);e&&""!==e.string&&(e.color=new d(255,255,255))}));var e=t.getComponent(h);e&&(e.color=new d(0,255,0))},l.onDayClick=function(t,e,a){var n=new Date(a,e,t);!this.startDate||this.startDate&&this.endDate?(this.startDate=n,this.endDate=null):n<this.startDate?(this.endDate=this.startDate,this.startDate=n):this.endDate=n,this.updateCalendarHighlight(),this.updateLabelTitle()},l.updateCalendarHighlight=function(){for(var t,e=r(this.grid.children);!(t=e()).done;){var a=t.value,n=a.getChildByName("Background"),i=a.getChildByName("Label"),l=null==n?void 0:n.getComponent(p),o=null==i?void 0:i.getComponent(h);if(o&&""!==o.string){var s=parseInt(o.string),c=new Date(this.displayYear,this.displayMonth,s);this.startDate&&this.sameDay(c,this.startDate)||this.endDate&&this.sameDay(c,this.endDate)?l.color=new d(0,200,0,255):this.startDate&&this.endDate&&c>this.startDate&&c<this.endDate?l.color=new d(255,255,100,255):l.color=new d(255,255,255,0)}else l&&(l.color=new d(255,255,255,0))}},l.sameDay=function(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()},l.updateLabelTitle=function(){this.startDate&&this.endDate?this.labelTitle.string="Bắt đầu: "+this.formatDate(this.startDate)+" ⇄ Kết thúc: "+this.formatDate(this.endDate):this.startDate&&!this.endDate?this.labelTitle.string="Chọn ngày kết thúc cho: "+this.formatDate(this.startDate):this.labelTitle.string="Chọn ngày bắt đầu"},l.formatDate=function(t){return t.getFullYear()+"-"+(t.getMonth()+1).toString().padStart(2,"0")+"-"+t.getDate().toString().padStart(2,"0")},l.onConfirmClick=function(){console.log("onConfirmClick---"),this.startDate&&this.endDate&&this.callback&&this.callback({start:this.startDate,end:this.endDate}),this.node.active=!1},e}(g)).prototype,"grid",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(v.prototype,"templateDay",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(v.prototype,"labelTitle",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(v.prototype,"btnConfirm",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=v))||m));l._RF.pop()}}}));

System.register("chunks:///_virtual/CalPlayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts"],(function(t){var i,r,e,n,a,s,u,l,o,c;return{setters:[function(t){i=t.applyDecoratedDescriptor,r=t.inheritsLoose,e=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,u=t.Label,l=t.Sprite,o=t.Component},function(t){c=t.DataManager}],execute:function(){var p,h,f,k,d,m,C,g,y;a._RF.push({},"ff39cnUgFJPt58cmyPxIl9Z","CalPlayer",void 0);var b=s.ccclass,v=s.property;t("CalPlayer",(p=b("CalPlayer"),h=v(u),f=v(u),k=v([l]),p((C=i((m=function(t){function i(){for(var i,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return i=t.call.apply(t,[this].concat(a))||this,e(i,"percent",C,n(i)),e(i,"nameLabel",g,n(i)),e(i,"upSprite",y,n(i)),i.rank=[-1,-1],i.suit=[-1,-1],i}r(i,t);var a=i.prototype;return a.onClickCard1=function(){this.upSprite[0].node.emit("clickCard1",this)},a.onClickCard2=function(){this.upSprite[1].node.emit("clickCard2",this)},a.setUp1=function(t,i){console.log("rank:",t,"suit:",i),this.upSprite[0].spriteFrame=c.instance.utilCard.getCard(t,i),this.rank[0]=t,this.suit[0]=i},a.setUp2=function(t,i){this.upSprite[1].spriteFrame=c.instance.utilCard.getCard(t,i),this.rank[1]=t,this.suit[1]=i},a.removeUp1=function(){this.upSprite[0].spriteFrame=null;var t=this.rank[0],i=this.suit[0];return this.rank[0]=-1,this.suit[0]=-1,{rank:t,suit:i}},a.removeUp2=function(){this.upSprite[1].spriteFrame=null;var t=this.rank[1],i=this.suit[1];return this.rank[1]=-1,this.suit[1]=-1,{rank:t,suit:i}},a.setPercent=function(t){this.percent.string="win: "+t+"%"},a.setName=function(t){this.nameLabel.string=t},a.hasValidCards=function(){return-1!==this.rank[0]&&-1!==this.suit[0]||-1!==this.rank[1]&&-1!==this.suit[1]},a.getCards=function(){var t=[];return-1!==this.rank[0]&&-1!==this.suit[0]&&t.push({rank:this.rank[0],suit:this.suit[0]}),-1!==this.rank[1]&&-1!==this.suit[1]&&t.push({rank:this.rank[1],suit:this.suit[1]}),t},i}(o)).prototype,"percent",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=i(m.prototype,"nameLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=i(m.prototype,"upSprite",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=m))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/CardBxx.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./CardSlot.ts"],(function(t){var n,e,i,o,r,a,s,d,l,h,u,c,C,f,p,g;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createForOfIteratorHelperLoose},function(t){a=t.cclegacy,s=t._decorator,d=t.Sprite,l=t.SpriteFrame,h=t.Vec3,u=t.UITransform,c=t.Input,C=t.tween,f=t.Component},function(t){p=t.DataManager},function(t){g=t.CardSlot}],execute:function(){var S,v,y,T,b,m,x;a._RF.push({},"ab48chSLKhKDoLeMy7L4Lb+","CardBxx",void 0);var E=s.ccclass,I=s.property;t("CardBxx",(S=E("CardBxx"),v=I(d),y=I(l),S((m=n((b=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,i(n,"bgCard",m,o(n)),i(n,"cardDefault",x,o(n)),n.spriteCardCurrent=null,n.DataCard=void 0,n.type=void 0,n.cardSlot=void 0,n.originalParent=null,n.originalPosition=new h,n.offset=new h,n.isDragging=!1,n.sibilinhCurrent=0,n}e(n,t);var a=n.prototype;return a.SetUp=function(t,n,e){this.spriteCardCurrent=n,1==e?null!=p.instance.UIBXXGame.uidFantady&&p.instance.UIBXXGame.uidFantady==p.instance.userData.id||(this.bgCard.spriteFrame=n,this.AddEvent()):this.bgCard.spriteFrame=this.cardDefault,this.DataCard=t},a.SetSize=function(t){this.node.getComponent(u).setContentSize(t)},a.AddEvent=function(){this.node.on(c.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(c.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(c.EventType.TOUCH_END,this.TouchEnd,this),this.node.on(c.EventType.TOUCH_CANCEL,this.TouchEnd,this)},a.DeleteEvent=function(){this.node.off(c.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(c.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(c.EventType.TOUCH_END,this.TouchEnd,this),this.node.off(c.EventType.TOUCH_CANCEL,this.TouchEnd,this)},a.onTouchStart=function(t){this.sibilinhCurrent=this.node.getSiblingIndex(),this.node.setSiblingIndex(99),this.isDragging=!0,this.originalParent=this.node.parent,this.originalPosition.set(this.node.position);var n=t.getUILocation(),e=this.node.getComponent(u).convertToWorldSpaceAR(h.ZERO);this.offset.set(n.x-e.x,n.y-e.y,0)},a.onTouchMove=function(t){if(this.isDragging){var n=t.getUILocation(),e=new h(n.x-this.offset.x,n.y-this.offset.y,0),i=this.node.parent;if(i){var o,r=null==(o=i.getComponent(u))?void 0:o.convertToNodeSpaceAR(e);r&&this.node.setPosition(r)}}},a.TouchEnd=function(){this.resetCardState();var t=this.findTargetSlot();t?t.isCardSlot?this.handleCardSlot(t.slot):this.handleHandSlot(t.slot):this.Return()},a.resetCardState=function(){this.node.setSiblingIndex(this.sibilinhCurrent),this.isDragging=!1},a.findTargetSlot=function(){var t=p.instance.UIBXXGame.players[0].cardSlotsPlayer,n=p.instance.UIBXXGame.players[0].handCards.children,e=this.isNodeInsideAnyRegion(this.node,t);if(e)return{slot:e.getComponent(g),isCardSlot:!0};if(1!=p.instance.UIBXXGame.turnCurrent){var i=this.isNodeInsideAnyRegion(this.node,n);if(i)return{slot:i.getComponent(g),isCardSlot:!1}}return null},a.handleCardSlot=function(t){var n=p.instance.UIBXXGame,e=t.cardConnect&&!t.isHandCard&&!this.cardSlot.isHandCard;if(!t.isBlock&&1==t.node.active&&(n.numberCardSelect<n.numberMax||null!=t.cardConnect||!0===t.isHandCard||!1===this.cardSlot.isHandCard)){if(1!==n.turnCurrent&&null==t.cardConnect&&1==this.cardSlot.isHandCard&&n.numberCardSelect++,e)return this.node.setSiblingIndex(this.sibilinhCurrent),n.setCardToSlot(this,t),void(null!=n.uidFantady&&n.players[0].UpdateHand());this.node.setSiblingIndex(this.sibilinhCurrent),n.setCardToSlot(this,t),null!=n.uidFantady&&n.players[0].UpdateHand()}else this.Return()},a.handleHandSlot=function(t){var n=p.instance.UIBXXGame;t.isBlock||1!=t.node.active?this.Return():(1!=p.instance.UIBXXGame.turnCurrent&&null==t.cardConnect&&!1===this.cardSlot.isHandCard&&n.numberCardSelect--,this.node.setSiblingIndex(this.sibilinhCurrent),n.setCardToSlot(this,t),null!=n.uidFantady&&n.players[0].UpdateHand())},a.Return=function(){this.originalPosition&&this.node.setPosition(this.originalPosition)},a.isNodeInsideAnyRegion=function(t,n){var e=t.getComponent(u);if(!e)return null;for(var i,o=e.getBoundingBoxToWorld(),a=new h(o.x+o.width/2,o.y+o.height/2,0),s=r(n);!(i=s()).done;){var d=i.value,l=d.getComponent(u);if(l){var c=l.getBoundingBoxToWorld();if(a.x>=c.x&&a.x<=c.x+c.width&&a.y>=c.y&&a.y<=c.y+c.height)return d}}return null},a.RemoveCardSlot=function(){this.cardSlot=null},a.FlipCard=function(t,n){var e=this;this.DataCard=t,this.FXFLipCard((function(){e.bgCard.spriteFrame=n}))},a.FXFLipCard=function(t){C(this.node).to(.2,{scale:new h(0,1,0)}).call(t).to(.2,{scale:new h(1,1,1)}).start()},n}(f)).prototype,"bgCard",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(b.prototype,"cardDefault",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=b))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/CardGameCommon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts"],(function(r){var i,t,e,a,n,c,o,l,u;return{setters:[function(r){i=r.applyDecoratedDescriptor,t=r.inheritsLoose,e=r.initializerDefineProperty,a=r.assertThisInitialized},function(r){n=r.cclegacy,c=r._decorator,o=r.SpriteFrame,l=r.Component},function(r){u=r.DataManager}],execute:function(){var d,s,f,p,b,h,m,g,y,z,w,C,v,M,B,D,_,F,G,L,P,j,k,R,S,x,A,E,H,I,J,K,Q,T,U;n._RF.push({},"c8170QvCLhKvpCjkaWJY/Ev","CardGameCommon",void 0);var W=c.ccclass,Y=c.property;r("default",(d=W("CardGameCommon"),s=Y([o]),f=Y([o]),p=Y([o]),b=Y([o]),h=Y([o]),m=Y([o]),g=Y([o]),y=Y([o]),z=Y([o]),w=Y([o]),C=Y([o]),v=Y([o]),M=Y([o]),B=Y(o),D=Y(o),_=Y(Boolean),d((L=i((G=function(r){function i(){for(var i,t=arguments.length,n=new Array(t),c=0;c<t;c++)n[c]=arguments[c];return i=r.call.apply(r,[this].concat(n))||this,e(i,"card1",L,a(i)),e(i,"card2",P,a(i)),e(i,"card3",j,a(i)),e(i,"card4",k,a(i)),e(i,"card5",R,a(i)),e(i,"card6",S,a(i)),e(i,"card7",x,a(i)),e(i,"card8",A,a(i)),e(i,"card9",E,a(i)),e(i,"card10",H,a(i)),e(i,"card11",I,a(i)),e(i,"card12",J,a(i)),e(i,"card13",K,a(i)),e(i,"cardB1",Q,a(i)),e(i,"cardB2",T,a(i)),e(i,"red",U,a(i)),i.card=[],i}t(i,r);var n=i.prototype;return n.init=function(){var r=this;this.card=[this.card1,this.card2,this.card3,this.card4,this.card5,this.card6,this.card7,this.card8,this.card9,this.card10,this.card11,this.card12,this.card13],Promise.all(this.card).then((function(i){r.card=i,u.instance.cardCommon=r.card}))},n.config=function(){console.log("Util card common"),u.instance.utilCard||(u.instance.utilCard=this,this.red=!0,this.init())},n.getCard=function(r,i){return void 0===r&&(r=0),void 0===i&&(i=0),this.card&&0!==this.card.length||(this.card=u.instance.cardCommon),this.card[r][i]},n.random=function(r){return void 0===r&&(r=13),this.card&&0!==this.card.length||(this.card=u.instance.cardCommon),this.card[Math.floor(Math.random()*r)][Math.floor(4*Math.random())]},i}(l)).prototype,"card1",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=i(G.prototype,"card2",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=i(G.prototype,"card3",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=i(G.prototype,"card4",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=i(G.prototype,"card5",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=i(G.prototype,"card6",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=i(G.prototype,"card7",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=i(G.prototype,"card8",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=i(G.prototype,"card9",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=i(G.prototype,"card10",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=i(G.prototype,"card11",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=i(G.prototype,"card12",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=i(G.prototype,"card13",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=i(G.prototype,"cardB1",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(G.prototype,"cardB2",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(G.prototype,"red",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=G))||F));n._RF.pop()}}}));

System.register("chunks:///_virtual/Cards.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var e,a,t,i,n,o,c,s,u,l,d;return{setters:[function(r){e=r.applyDecoratedDescriptor,a=r.inheritsLoose,t=r.initializerDefineProperty,i=r.assertThisInitialized,n=r.createForOfIteratorHelperLoose},function(r){o=r.cclegacy,c=r._decorator,s=r.Prefab,u=r.Node,l=r.instantiate,d=r.Component}],execute:function(){var h,f,p,v,y,_,g,C,b;o._RF.push({},"eccc1j7mRxNaJQAgSGOrZlc","Cards",void 0);var D=c.ccclass,m=c.property;r("Cards",(h=D("Cards"),f=m({type:s}),p=m({type:u}),v=m({type:u}),h((g=e((_=function(r){function e(){for(var e,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n))||this,t(e,"cardPrefab",g,i(e)),t(e,"playerNodes",C,i(e)),t(e,"mainCardNode",b,i(e)),e.cardDeck=[],e}a(e,r);var o=e.prototype;return o.start=function(){},o.initCardDeck=function(){this.cardDeck=[];for(var r=[0,1,2,3,4,5,6,7,8,9,10,11,12],e=0,a=[0,1,2,3];e<a.length;e++)for(var t,i=a[e],o=n(r);!(t=o()).done;){var c=t.value;this.cardDeck.push({type:i,card:c})}return this.shuffle(this.cardDeck),this.cardDeck},o.shuffle=function(r){for(var e=r.length-1;e>0;e--){var a=Math.floor(Math.random()*(e+1)),t=[r[a],r[e]];r[e]=t[0],r[a]=t[1]}},o.chiaBai=function(r){console.log("numCardsPerPlayer:",r);for(var e=[],a=1;a<6;a++){for(var t=[],i=0;i<r;i++){var n=this.cardDeck.pop();n&&t.push(n)}console.log("playerCardData____",t),e.push(t)}return console.log("cardData___________:",this.cardDeck.length),e},o.chiaBaiChung=function(r){if(this.mainCardNode)for(var e=0;e<r;e++){var a=this.cardDeck.pop();a&&this.createCardNode(a,this.mainCardNode)}},o.createCardNode=function(r,e){var a=l(this.cardPrefab);a&&a.setParent(e)},o.startRound=function(){this.chiaBai(2),this.chiaBaiChung(3)},o.nextRound=function(){this.chiaBaiChung(1)},e}(d)).prototype,"cardPrefab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(_.prototype,"playerNodes",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=e(_.prototype,"mainCardNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=_))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/CardSlot.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,r,o,c;return{setters:[function(t){n=t.inheritsLoose},function(t){r=t.cclegacy,o=t._decorator,c=t.Component}],execute:function(){var e;r._RF.push({},"abe15bzgsxLuLP5w5hNzG0k","CardSlot",void 0);var a=o.ccclass;o.property,t("CardSlot",a("CardSlot")(e=function(t){function r(){for(var n,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(n=t.call.apply(t,[this].concat(o))||this).cardConnect=null,n.isBlock=!1,n.isHandCard=!1,n}n(r,t);var o=r.prototype;return o.SetCardConnect=function(t){this.cardConnect=t},o.Reset=function(){this.isBlock=!1,this.cardConnect=null},r}(c))||e);r._RF.pop()}}}));

System.register("chunks:///_virtual/CareerHistoryItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,a,i,l,n,o,u,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,n=e._decorator,o=e.Label,u=e.Color,s=e.Component}],execute:function(){var c,b,p,m,g,y,f,h,d,H,v;l._RF.push({},"c651aOCXKtLG6T0b3JAAVdr","CareerHistoryItem",void 0);var C=n.ccclass,w=n.property;e("CareerHistoryItem",(c=C("CareerHistoryItem"),b=w(o),p=w(o),m=w(o),g=w(o),c((h=t((f=function(e){function t(){for(var t,r=arguments.length,l=new Array(r),n=0;n<r;n++)l[n]=arguments[n];return t=e.call.apply(e,[this].concat(l))||this,a(t,"gameName",h,i(t)),a(t,"labelGame",d,i(t)),a(t,"labelHand",H,i(t)),a(t,"labelResult",v,i(t)),t}return r(t,e),t.prototype.setData=function(e){this.gameName.string=e.gameType,this.labelGame.string="Trò chơi: "+e.game,this.labelHand.string="Tay bài: "+e.handId;var t=e.result>=0;this.labelResult.string=(t?"+":"-")+Math.abs(e.result).toLocaleString(),this.labelResult.color=new u(t?65280:16711680)},t}(s)).prototype,"gameName",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(f.prototype,"labelGame",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(f.prototype,"labelHand",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(f.prototype,"labelResult",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=f))||y));l._RF.pop()}}}));

System.register("chunks:///_virtual/CashierRequestItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts"],(function(e){var t,n,i,a,r,u,l,o,c,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,u=e._decorator,l=e.Label,o=e.Button,c=e.Component},function(e){s=e.DataManager}],execute:function(){var b,p,f,m,g,h,y,C,L,d,q,v,R,w,D;r._RF.push({},"1da70KczXJBi4WPQhjMJA4f","CashierRequestItem",void 0);var z=u.ccclass,A=u.property;e("CashierRequestItem",(b=z("CashierRequestItem"),p=A(l),f=A(l),m=A(l),g=A(l),h=A(o),y=A(o),b((d=t((L=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return t=e.call.apply(e,[this].concat(r))||this,i(t,"nameLabel",d,a(t)),i(t,"uidLabel",q,a(t)),i(t,"timeLabel",v,a(t)),i(t,"amountLabel",R,a(t)),i(t,"btnAccept",w,a(t)),i(t,"btnCancel",D,a(t)),t.requestData=null,t}n(t,e);var r=t.prototype;return r.init=function(e,t){var n=this;this.requestData=e,this.nameLabel.string=e.username,this.uidLabel.string="UID: "+e.uid,this.amountLabel.string="Yêu cầu: "+e.amount.toLocaleString(),this.timeLabel.string=new Date(e.time).toLocaleString(),this.btnAccept.node.on(o.EventType.CLICK,(function(){null==n.onApproveRequest||n.onApproveRequest(e)})),this.btnCancel.node.on(o.EventType.CLICK,(function(){null==n.onCancelRequest||n.onCancelRequest(e)}))},r.onApproveRequest=function(e){console.log("✅ Duyệt yêu cầu:",e),s.instance.wsClient.send({scene:"Club",g:{club:{cashier_request_approve:{uid:e.uid,amount:e.amount}}}})},r.onCancelRequest=function(e){console.log("❌ Huỷ yêu cầu:",e),s.instance.wsClient.send({scene:"Club",g:{club:{cashier_request_cancel:{uid:e.uid}}}})},t}(c)).prototype,"nameLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(L.prototype,"uidLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(L.prototype,"timeLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(L.prototype,"amountLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(L.prototype,"btnAccept",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(L.prototype,"btnCancel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=L))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/CheckCard.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var n,e;return{setters:[function(r){n=r.createForOfIteratorHelperLoose},function(r){e=r.cclegacy}],execute:function(){e._RF.push({},"daaeafyQ3VLaJp+l4ZssBXs","CheckCard",void 0);var t=r("HAND_STRENGTH",function(r){return r[r.HIGH_CARD=1]="HIGH_CARD",r[r.PAIR=2]="PAIR",r[r.TWO_PAIRS=3]="TWO_PAIRS",r[r.THREE_OF_A_KIND=4]="THREE_OF_A_KIND",r[r.STRAIGHT=5]="STRAIGHT",r[r.FLUSH=6]="FLUSH",r[r.FULL_HOUSE=7]="FULL_HOUSE",r[r.FOUR_OF_A_KIND=8]="FOUR_OF_A_KIND",r[r.STRAIGHT_FLUSH=9]="STRAIGHT_FLUSH",r[r.STRAIGHT_FLUSH_ROYAL=10]="STRAIGHT_FLUSH_ROYAL",r}(t||{}));r("ComboChecker",function(){function r(){}return r.getPossibleCombos=function(r){var e=[],a=r.filter((function(r){return-1===r.card&&-1===r.type})),c=r.filter((function(r){return!(-1===r.card&&-1===r.type)})),u=[],o=a.length,s=[],f=Math.max(0,5-o);c.length>=f&&function r(n,e,t,a,c){if(n.length!==t)for(var u=e;u<a.length;u++)n.push(a[u]),r(n,u+1,t,a,c),n.pop();else c.push([].concat(n))}([],0,f,c,s);for(var i=function(){var r=_[p],e=[].concat(r),t=5-e.length;if(0===t)u.push({cards:e,jokersUsed:0});else{for(var a=new Set(e.map((function(r){return r.card+"-"+r.type}))),c=[],o=0;o<13;o++)for(var s=0;s<4;s++){var f=o+"-"+s;a.has(f)||c.push({card:o,type:s})}for(var i,h=function r(n,e,t,a){if(0===e)return[n];for(var c=[],u=t;u<a.length;u++){var o=r([].concat(n,[a[u]]),e-1,u+1,a);c.push.apply(c,o)}return c}([],t,0,c),l=n(h);!(i=l()).done;){var d=i.value,H=[].concat(e,d);u.push({cards:H,jokersUsed:t})}}},p=0,_=s;p<_.length;p++)i();for(var h=function(){var r=d[l],a=r.cards,c=(r.jokersUsed,new Array(13).fill(0)),u=new Array(4).fill(0),o=a.map((function(r){return r.card>=0&&c[r.card]++,r.type>=0&&u[r.type]++,0===r.card?14:r.card+2})),s=[].concat(c);c.sort((function(r,n){return n-r}));for(var f=!1,i=0;i<4;i++)if(u[i]>=5){f=!0;break}for(var p=[].concat(o).sort((function(r,n){return r-n})),_=!1,h=1;h<p.length;h++){if(p[h]-p[h-1]!=1){_=!1;break}_=!0}var H=a.map((function(r){return 0===r.card?1:r.card+2})).sort((function(r,n){return r-n}));[[1,2,3,4,5],[2,3,4,5,14]].some((function(r){return r.join(",")===H.join(",")}))&&(_=!0);var v=f&&_&&"10,11,12,13,14"===p.join(",")?"STRAIGHT_FLUSH_ROYAL":f&&_?"STRAIGHT_FLUSH":4===c[0]?"FOUR_OF_A_KIND":3===c[0]&&2===c[1]?"FULL_HOUSE":f?"FLUSH":_?"STRAIGHT":3===c[0]?"THREE_OF_A_KIND":2===c[0]&&2===c[1]?"TWO_PAIRS":2===c[0]?"PAIR":"HIGH_CARD",A=t[v],R=function(r,e,t){var a=[],c=r.filter((function(r){return-1===r.card&&-1===r.type})).length,u=r.filter((function(r){return!(-1===r.card&&-1===r.type)})),o=0,s=function(r,e){for(var t,a=[],s=n(u);!(t=s()).done;){var f=t.value;f.card===r&&a.length<e&&a.push(f)}for(;a.length<e&&o<c;)a.push({card:-1,type:-1}),o++;return a};switch(e){case"FOUR_OF_A_KIND":var f=t.findIndex((function(r){return r+c>=4}));a.push.apply(a,s(f,4));break;case"FULL_HOUSE":var i=t.findIndex((function(r){return r+c>=3})),p=t.findIndex((function(r,n){return n!==i&&r+(c-o)>=2}));a.push.apply(a,s(i,3)),a.push.apply(a,s(p,2));break;case"THREE_OF_A_KIND":var _=t.findIndex((function(r){return r+c>=3}));a.push.apply(a,s(_,3));break;case"TWO_PAIRS":for(var h=[],l=12;l>=0&&h.length<2;l--)t[l]+(c-o)>=2&&h.push(l);for(var d=0,H=h;d<H.length;d++){var v=H[d];a.push.apply(a,s(v,2))}break;case"PAIR":var A=t.findIndex((function(r){return r+c>=2}));a.push.apply(a,s(A,2));break;case"HIGH_CARD":var R=[].concat(u).sort((function(r,n){return n.card+2-(r.card+2)}));R.length>0?a.push(R[0]):c>0&&a.push({card:-1,type:-1});break;case"STRAIGHT":case"STRAIGHT_FLUSH":case"STRAIGHT_FLUSH_ROYAL":case"FLUSH":default:return r}return a}(a,v,s);e.push({name:v,strength:A,involvedCards:R})},l=0,d=u;l<d.length;l++)h();var H=[],v=new Set;e.sort((function(r,n){return n.strength-r.strength}));for(var A=0,R=e;A<R.length;A++){var I=R[A];v.has(I.name)||(v.add(I.name),H.push(I))}return H},r}());e._RF.pop()}}}));

System.register("chunks:///_virtual/ChoiceLanguage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./LanguageData.ts"],(function(n){var e,a,t,c,o,i,u;return{setters:[function(n){e=n.inheritsLoose},function(n){a=n.cclegacy,t=n._decorator,c=n.Component},function(n){o=n.DataManager},function(n){i=n.init,u=n.updateSceneRenderers}],execute:function(){var r;a._RF.push({},"f65aex/eE1H/JgEpbkmnR8t","ChoiceLanguage",void 0);var s=t.ccclass;t.property,n("ChoiceLanguage",s("ChoiceLanguage")(r=function(n){function a(){return n.apply(this,arguments)||this}e(a,n);var t=a.prototype;return t.start=function(){},t.onEnable=function(){},t.onChoiceLanguage=function(n,e){i(e),o.instance.languages=e,o.instance.save(),u()},t.onBack=function(){o.instance.UILobby.content.getChildByName("choiceLanguage").active=!1},a}(c))||r);a._RF.pop()}}}));

System.register("chunks:///_virtual/ClubCashierUserItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,i,t,n,a,l,o,u,s,c;return{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.Label,u=e.Toggle,s=e.Sprite,c=e.Component}],execute:function(){var p,b,h,g,f,d,C,m,y,L,v,I,U;a._RF.push({},"ae5d9wUopxAeYOOE4TsnnwZ","ClubCashierUserItem",void 0);var w=l.ccclass,z=l.property;e("ClubCashierUserItem",(p=w("ClubCashierUserItem"),b=z(o),h=z(o),g=z(o),f=z(u),d=z(s),p((y=r((m=function(e){function r(){for(var r,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=e.call.apply(e,[this].concat(a))||this,t(r,"usernameLabel",y,n(r)),t(r,"uidLabel",L,n(r)),t(r,"balanceLabel",v,n(r)),t(r,"selectToggle",I,n(r)),t(r,"avatarSprite",U,n(r)),r.uid="",r.parentCashier=null,r}i(r,e);var a=r.prototype;return a.init=function(e,r){this.uid=e.uid,this.usernameLabel.string=e.username,this.uidLabel.string="UID: "+e.userInfo.UID,this.balanceLabel.string=""+e.userInfo.chipRed.toLocaleString(),this.parentCashier=r,this.selectToggle.isChecked=!1},a.onToggleChange=function(e){var r=e.isChecked;this.parentCashier&&this.parentCashier.onUserSelected&&this.parentCashier.onUserSelected(this.uid,r)},r}(c)).prototype,"usernameLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=r(m.prototype,"uidLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=r(m.prototype,"balanceLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=r(m.prototype,"selectToggle",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=r(m.prototype,"avatarSprite",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=m))||C));a._RF.pop()}}}));

System.register("chunks:///_virtual/ClubItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./eventManager.ts"],(function(e){var t,n,a,i,r,l,u,o,c,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,u=e.Label,o=e.Component},function(e){c=e.DataManager},function(e){s=e.eventManager}],execute:function(){var b,p,f,g,h,m,C;r._RF.push({},"b315fkFt/1N1a0Li2caw+sx","ClubItem",void 0);var d=l.ccclass,v=l.property;e("ClubItem",(b=d("ClubItem"),p=v(u),f=v(u),b((m=t((h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,a(t,"nameLabel",m,i(t)),a(t,"idCLub",C,i(t)),t.clubData=null,t}n(t,e);var r=t.prototype;return r.init=function(e){this.clubData=e,this.nameLabel.string=e.name+" ",this.idCLub.string="(ID: "+e.id+")"},r.onClickItem=function(){console.log("Clicked Club:",this.clubData),c.instance.UIClubManager.showClub(this.clubData),s.dispatchEvent("ThemeClubManager")},t}(o)).prototype,"nameLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(h.prototype,"idCLub",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=h))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/ClubList.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClubItem.ts"],(function(e){var t,n,i,r,o,a,l,u,c,s,p,b,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.PageView,u=e.Node,c=e.Prefab,s=e.instantiate,p=e.UITransform,b=e.Component},function(e){f=e.ClubItem}],execute:function(){var g,d,h,m,C,w,P,y,v;o._RF.push({},"f8fe080DktMLaRblkSyXcP6","ClubList",void 0);var z=a.ccclass,V=a.property;e("ClubList",(g=z("ClubList"),d=V(l),h=V(u),m=V(c),g((P=t((w=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"pageView",P,r(t)),i(t,"content",y,r(t)),i(t,"clubItemPrefab",v,r(t)),t}return n(t,e),t.prototype.showClubPages=function(e){var t=this,n=this.content.getChildByName("findClubNode"),i=null;n&&(i=s(n)),this.pageView.content.removeAllChildren();var r=this.pageView.node.getComponent(p).contentSize;(e.forEach((function(e){var n=new u;n.addComponent(p).setContentSize(r);var i=s(t.clubItemPrefab);i.setParent(n),i.setPosition(0,0),i.getComponent(f).init(e),t.pageView.addPage(n)})),n&&i)&&(i.addComponent(p).setContentSize(r),this.pageView.addPage(i));this.pageView.scrollToPage(0,.2)},t}(b)).prototype,"pageView",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(w.prototype,"content",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(w.prototype,"clubItemPrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=w))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/ClubMemberItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./ResourceManager.ts"],(function(e){var t,n,a,r,i,l,o,u,c,s,b,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,o=e.Sprite,u=e.Label,c=e.Node,s=e.Component},function(e){b=e.DataManager},function(e){m=e.default}],execute:function(){var p,f,v,d,g,h,D,I,M,C,y,L,w;i._RF.push({},"0a982l2JUxOoohPI4xbFxKo","ClubMemberItem",void 0);var z=l.ccclass,R=l.property;e("ClubMemberItem",(p=z("ClubMemberItem"),f=R(o),v=R(u),d=R(u),g=R(c),h=R(c),p((M=t((I=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,a(t,"avatar",M,r(t)),a(t,"nameLabel",C,r(t)),a(t,"statusLabel",y,r(t)),a(t,"btnAccept",L,r(t)),a(t,"btnRemove",w,r(t)),t.memberData=[],t}n(t,e);var i=t.prototype;return i.onLoad=function(){},i.init=function(e){var t;console.log("userInfo--:,",e.userInfo.avatar),this.memberData=e,this.nameLabel.string=e.username,this.statusLabel.string=e.status;var n="request"===e.status;this.btnAccept.active=n,this.avatar.spriteFrame=m.instance.getSprite("avatar"+(null!=(t=e.userInfo.avatar)?t:1))},i.onDetailUser=function(){console.log("onDetail:",this.memberData),b.instance.UIClubMember.nodeUserDetail.active=!0,b.instance.UIClubMember.nodeMain.active=!1,b.instance.UIClubMemberDetail.init(this.memberData)},i.onClickAccept=function(){console.log("memberData:",this.memberData),b.instance.wsClient.send({scene:"Club",g:{club:{clubMemberAccepJoin:!0,acceptJoin:!0,uid:this.memberData.uid,clubId:this.memberData.clubId}}})},i.onClickRemove=function(){b.instance.wsClient.send({scene:"Club",g:{club:{clubMemberRemove:!0,removeMember:!0,uid:this.memberData.uid,clubId:this.memberData.clubId}}})},t}(s)).prototype,"avatar",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(I.prototype,"nameLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(I.prototype,"statusLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(I.prototype,"btnAccept",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(I.prototype,"btnRemove",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=I))||D));i._RF.pop()}}}));

System.register("chunks:///_virtual/ClubTableItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts"],(function(e){var a,t,n,i,l,r,o,b,s;return{setters:[function(e){a=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,r=e._decorator,o=e.Label,b=e.Component},function(e){s=e.DataManager}],execute:function(){var c,u,p,g,m,y,f,d,L;l._RF.push({},"74f44BoicFICZudAmXyoaof","ClubTableItem",void 0);var T=r.ccclass,h=r.property;e("ClubTableItem",(c=T("ClubTableItem"),u=h(o),p=h(o),g=h(o),c((f=a((y=function(e){function a(){for(var a,t=arguments.length,l=new Array(t),r=0;r<t;r++)l[r]=arguments[r];return a=e.call.apply(e,[this].concat(l))||this,n(a,"tableNameLabel",f,i(a)),n(a,"gameTypeLabel",d,i(a)),n(a,"blindsLabel",L,i(a)),a.tableData=void 0,a}t(a,e);var l=a.prototype;return l.init=function(e){var a;this.tableData=e,this.tableNameLabel.string=e.tableName,this.gameTypeLabel.string="Game: "+e.gameType;var t=(null==(a=e.settings)?void 0:a.blinds)||"1/2";this.blindsLabel.string="Blinds: "+t},l.onJoinClicked=function(){console.log("Join Table:",this.tableData),console.log("DataManager.instance.UIPokerLobby.gameType:",s.instance.UIPokerLobby.gameType),s.instance.originJoinTable="club",s.instance.wsClient.send({g:{poker:{reg:{room:100,red:!0,balans:4e3,auto:!0,dataRoom:this.tableData},gameType:s.instance.UIPokerLobby.gameType}}})},a}(b)).prototype,"tableNameLabel",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=a(y.prototype,"gameTypeLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=a(y.prototype,"blindsLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=y))||m));l._RF.pop()}}}));

System.register("chunks:///_virtual/CustomToggle.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,n,o,a,s,u,l,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Sprite,u=e.SpriteFrame,l=e.Node,c=e.Component}],execute:function(){var p,f,g,h,d,b,m,y,S;o._RF.push({},"f3343FGxd5PBaZtm3HBSBOc","CustomToggle",void 0);var C=a.ccclass,v=a.property;e("CustomToggle",(p=C("CustomToggle"),f=v(s),g=v(u),h=v(u),p((m=t((b=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"bg",m,n(t)),r(t,"onSprite",y,n(t)),r(t,"offSprite",S,n(t)),t.isChecked=!1,t}i(t,e);var o=t.prototype;return o.start=function(){this.node.on(l.EventType.TOUCH_END,this.toggleState,this),this.updateVisual()},o.toggleState=function(){this.isChecked=!this.isChecked,this.updateVisual()},o.updateVisual=function(){this.bg.spriteFrame=this.isChecked?this.onSprite:this.offSprite},t}(c)).prototype,"bg",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(b.prototype,"onSprite",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(b.prototype,"offSprite",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=b))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/DailyLogin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts"],(function(t){var e,n,i,a,r,o,c,s,u,l,y,f,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){c=t.cclegacy,s=t._decorator,u=t.Node,l=t.Label,y=t.Button,f=t.Component},function(t){h=t.DataManager}],execute:function(){var p,d,g,b,m,v,L,D,I;c._RF.push({},"9b27aB5XtJIU4b5zVfkP1tM","DailyLogin",void 0);var T=s.ccclass,k=s.property;t("DailyLogin",(p=T("DailyLogin"),d=k([u]),g=k(l),b=k(y),p((L=e((v=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,i(e,"dayItems",L,a(e)),i(e,"infoLabel",D,a(e)),i(e,"claimButton",I,a(e)),e.uid="",e.currentDay=0,e.claimedToday=!1,e.page="",e}n(e,t);var c=e.prototype;return c.start=function(){this.uid=h.instance.userData.UID,this.checkStatusOnly()},c.onEnable=function(){this.infoLabel.string=""},c.init=function(t){this.page=t.page},c.checkStatusOnly=function(){var t=r(o().mark((function t(){var e,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(h.HTTP_API+"/dailylogin?uid="+this.uid,{method:"POST"});case 2:return e=t.sent,t.next=5,e.json();case 5:if(n=t.sent){t.next=8;break}return t.abrupt("return");case 8:this.currentDay=n.day,this.claimedToday=!n.success,this.updateUI(this.currentDay,this.getGiftByDay(this.currentDay),this.claimedToday);case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.loadDailyStatus=function(){var t=r(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c.onClickClaim=function(){var t=r(o().mark((function t(){var e,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.claimedToday){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,fetch(h.HTTP_API+"/dailylogin?uid="+this.uid,{method:"POST"});case 4:return e=t.sent,t.next=7,e.json();case 7:(n=t.sent).success&&void 0!==n.day?(this.claimedToday=!0,this.updateUI(n.day,n.gift,!0)):console.warn("Không nhận được day từ server!");case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.updateUI=function(t,e,n){var i=this;void 0===n&&(n=!1),this.dayItems.forEach((function(t,e){var n,a=t.getChildByName("titleDay").getComponent(l);a&&(a.string="Ngày "+(e+1));var r=null==(n=t.getChildByName("money"))?void 0:n.getComponent(l);r&&(r.string=""+i.getGiftText(e+1))})),this.infoLabel.string=n?"Đã nhận hôm nay - Ngày "+t:"Nhận quà ngày "+t+": +"+this.formatMoney(e)+" VNĐ"},c.getGiftText=function(t){return""+this.formatMoney([8e4,8e4,9e4,1e5,1e5,12e4,15e4][t-1])},c.getGiftByDay=function(t){return[8e4,8e4,9e4,1e5,1e5,12e4,15e4][t-1]||0},c.formatMoney=function(t){return t.toLocaleString("vi-VN")},c.onBack=function(){console.log("this.page:",this.page),"lobby"==this.page?h.instance.UILobby.dailyLogin.active=!1:"polerLobby"==this.page?h.instance.UIPokerLobby.btnCloseDailyLogin():(h.instance.UIPokerLobby.dailyLogin.active=!1,h.instance.UIPokerLobby.mainLobby.active=!0)},e}(f)).prototype,"dayItems",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=e(v.prototype,"infoLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(v.prototype,"claimButton",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=v))||m));c._RF.pop()}}}));

System.register("chunks:///_virtual/DataManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts"],(function(i){var t,n,s,e;return{setters:[function(i){t=i.createClass},function(i){n=i.cclegacy,s=i.sys},function(i){e=i.CURRENT_SCENCE}],execute:function(){n._RF.push({},"7f67eh/QzVIuqETIwHUquio","DataManager",void 0);var l="pokerrr",u=i("DataManager",function(){function i(){this.loadingRate=0,this._music=.7,this._languages="vn",this._isMusicOn=!0,this._isSoundOn=!0,this.wsClient=null,this.openid="",this.username="NoLogin",this.sign="",this.refcode="",this.UID=0,this.userData=null,this.friends=[],this.inGame=void 0,this.calculator=void 0,this.UIBXXGame=null,this.camera=void 0,this.practice=void 0,this.CurrentScence=e.UILOBBY,this.boss=null,this.UILobby=null,this.UIMadCar=null,this.UIMargeCar=null,this.UIWALLET=null,this.UISHOP=null,this.UIMARKET=null,this.UIMISSION=null,this.UILogin=null,this.UIPokerLobby=null,this.UIPokerGame=null,this.UICreateClub=null,this.UIClubManager=null,this.UIClubMember=null,this.UIMenuRoom=null,this.UIMessage=null,this.UICareer=null,this.UIProfile=null,this.UIMenuGame=null,this.FriendRoom=null,this.UICreateTable=null,this.UIClubCashier=null,this.UIClubMemberDetail=null,this.walletInfo=null,this.PokerChat=null,this.PokerLogTable=null,this.PokerHistoryRealtime=null,this.MissionObj=null,this.LoadMain=null,this.utilCard=null,this.cardCommon=null,this.gameType="NLH",this.clubTableOptions=null,this.originJoinTable=""}i.getInstance=function(){return null===this._instance&&(this._instance=new this),this._instance};var n=i.prototype;return n.save=function(){s.localStorage.setItem(l,JSON.stringify({isSoundOn:this.isSoundOn,music:this.music}))},n.restore=function(){var i=s.localStorage.getItem(l);try{var t=JSON.parse(i);this.music=(null==t?void 0:t.music)<=1?t.music:.5,this.isSoundOn=!1!==(null==t?void 0:t.isSoundOn),this.originJoinTable=""}catch(i){this.music=.6,this.isSoundOn=!0}},t(i,[{key:"isMusicOn",get:function(){return this._isMusicOn},set:function(i){this._isMusicOn=i}},{key:"isSoundOn",get:function(){return this._isSoundOn},set:function(i){this._isSoundOn=i}},{key:"languages",get:function(){return this._languages},set:function(i){this._languages=i}},{key:"music",get:function(){return this._music},set:function(i){this._music=i}}],[{key:"instance",get:function(){return this.getInstance()}}]),i}());u._instance=null,u.HTTP_API="http://localhost:8081",n._RF.pop()}}}));

System.register("chunks:///_virtual/DragAndDropHandler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventHandlerList.ts"],(function(t){var n,o,i,e,s,r,a,h,c,d,u,l;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,a=t.CCBoolean,h=t.Vec3,c=t.Input,d=t.UITransform,u=t.Component},function(t){l=t.EventHandlerList}],execute:function(){var p,f,T,g,v,y,E;s._RF.push({},"81d7d2QI6tGoKjZgHXmgZUK","DragAndDropHandler",void 0);var H=r.ccclass,C=r.property;t("DragAndDropHandler",(p=H("DragAndDropHandler"),f=C({type:a}),T=C({type:l}),p((y=n((v=function(t){function n(){for(var n,o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return n=t.call.apply(t,[this].concat(s))||this,i(n,"isReturn",y,e(n)),n.offset=new h,n.originalPosition=new h,n.isDragging=!1,i(n,"dropHandlerList",E,e(n)),n}o(n,t);var s=n.prototype;return s.initEvents=function(){this.node.on(c.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(c.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(c.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(c.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},s.onTouchStart=function(t){this.node.setSiblingIndex(99),this.isDragging=!0,this.originalPosition.set(this.node.position);var n=t.getUILocation(),o=this.node.getComponent(d).convertToWorldSpaceAR(h.ZERO);this.offset.set(n.x-o.x,n.y-o.y,0)},s.onTouchMove=function(t){if(this.isDragging){var n=t.getUILocation(),o=new h(n.x-this.offset.x,n.y-this.offset.y,0),i=this.node.parent;if(i){var e,s=null==(e=i.getComponent(d))?void 0:e.convertToNodeSpaceAR(o);s&&this.node.setPosition(s)}}},s.onTouchEnd=function(){this.node.setSiblingIndex(1),this.isDragging=!1,this.dropHandlerList.invoke(null),1==this.isReturn&&this.resetPosition()},s.resetPosition=function(){this.node.setPosition(this.originalPosition)},s.RemoveEvent=function(){this.node.off(c.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(c.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(c.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(c.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},n}(u)).prototype,"isReturn",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=n(v.prototype,"dropHandlerList",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=v))||g));s._RF.pop()}}}));

System.register("chunks:///_virtual/EffectUIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e,c;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy,c=n._decorator}],execute:function(){e._RF.push({},"e572bZWdvJAVZ/CI9kR3is1","EffectUIManager",void 0);c.ccclass,c.property;n("EffectUIManager",function(){function n(){}return n.getInstance=function(){return null===this._instance&&(this._instance=new this),this._instance},t(n,null,[{key:"instance",get:function(){return this.getInstance()}}]),n}())._instance=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/Enum.ts",["cc"],(function(t){var e,r,a,n,o,i;return{setters:[function(t){e=t.cclegacy,r=t.AudioClip,a=t.Prefab,n=t.SpriteFrame,o=t.SpriteAtlas,i=t.JsonAsset}],execute:function(){e._RF.push({},"942999MhoBKbYQL4aPanH5Y","Enum",void 0);t("ENUM_GAME_MODE",function(t){return t.SINGLE="SINGLE",t.MULTIPLE="MULTIPLE",t}({})),t("ENUM_GAME_STATUS",function(t){return t.UNRUNING="UNRUNING",t.RUNING="RUNING",t}({})),t("ENUM_PORKER_STATUS",function(t){return t.XEM="xem",t.THEO="theo",t.TO="to",t.ALL="all",t.HUY="huy",t.LOST="lost",t.WIN="win",t.HOA="hoa",t.NAP="nap",t}({})),t("ENUM_AUDIO_CLIP",function(t){return t.CLICK="click",t.LOSE="lose",t.WIN="win",t.DICE="dice",t.FLY="fly",t.ENDPOINT="endpoint",t.BOMB="bomb",t}({})),t("CURRENT_SCENCE",function(t){return t.UILOBBY="UILOBBY",t.UILOGIN="UILOGIN",t.UIPokerLobby="UIPokerLobby",t.UIPOKER_GAME="UIPOKER_GAME",t.UI_CLUB_MANAGER="UI_CLUB_MANAGER",t.UI_MESSAGE="UI_MESSAGE",t.UI_CAREER="UI_CAREER",t.UI_SHOP="UI_SHOP",t.UI_PROFILE="UI_PROFILE",t.UI_MENU_GAME="UI_MENU_GAME",t.UI_PRACTICE="UI_PRACTICE",t}({})),t("GAME_TYPE",function(t){return t.NLH="NLH",t.SixPlus="SixPlus",t.PLO="PLO",t.OFC="OFX",t.MBVN="MBVN",t}({})),t("ENUM_UI_TYPE",function(t){return t.MENU="MenuLayer",t.DAILY_GIFT="DailyGiftLayer",t.SETTING_MENU="SettingMenuLayer",t.SETTING_MAIN="SettingMainLayer",t.READY="ReadyLayer",t.OVER="OverLayer",t.MORE="MoreLayer",t.RANK="RankLayer",t.SKIN="SkinLayer",t.CHAT="ChatLayer",t.AUTH_NOTICE="AuthNoticeLayer",t.HALL="HallLayer",t.ROOM="RoomLayer",t.ROOM_CREATE="RoomCreateLayer",t.ROOM_JOIN="RoomJoinLayer",t.ROOM_JOIN_NUM="RoomJoinNumLayer",t.SHARE="ShareLayer",t.SHOP="ShopLayer",t.MAIN="MainLayer",t}({})),t("ZONE_GAME",function(t){return t.CLUB="club",t.FRIEND="friend",t.NORMAL="normal",t}({})),t("ENUM_GAME_EVENT",function(t){return{}}()),t("ENUM_RESOURCE_TYPE",[{content:r,path:"audio",type:"audio",ratio:.4},{content:a,path:"animation/boss",type:"prefab",ratio:.2},{content:a,path:"prefab/toast",type:"prefab",ratio:.2},{content:n,path:"sprite/Poker/action",type:"sprite",ratio:.3},{content:n,path:"sprite/title_game",type:"sprite",ratio:.3},{content:n,path:"sprite/Poker/cardMain",type:"sprite",ratio:.3},{content:n,path:"sprite/Poker/cards/card1",type:"sprite",ratio:.3},{content:n,path:"sprite/Poker/cards/card2",type:"sprite",ratio:.3},{content:n,path:"sprite/Poker/cards/card3",type:"sprite",ratio:.3},{content:n,path:"sprite/Poker/cards/card4",type:"sprite",ratio:.3},{content:n,path:"sprite/Poker/table",type:"sprite",ratio:.3},{content:n,path:"chat/animation",type:"sprite",ratio:.3},{content:n,path:"chat/emoji",type:"sprite",ratio:.3},{content:n,path:"chat/icon",type:"sprite",ratio:.3},{content:n,path:"avatar",type:"sprite",ratio:.3},{content:o,path:"atlas",type:"atlas",ratio:.1},{content:i,path:"json",type:"json",ratio:.5}]);e._RF.pop()}}}));

System.register("chunks:///_virtual/EventHandlerList.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,c,r,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){c=t.cclegacy,r=t._decorator,l=t.EventHandler}],execute:function(){var a,i,o,s,u;c._RF.push({},"88e6dOj2TpKpYMH8YTME2I/","EventHandlerList",void 0);var p=r.ccclass,f=r.property;t("EventHandlerList",(a=p("EventHandlerList"),i=f({type:[l]}),a((u=e((s=function(){function t(){n(this,"callbacks",u,this)}var e=t.prototype;return e.add=function(t,e,n,c){void 0===c&&(c="");var r=new l;r.target=t,r.component=e,r.handler=n,r.customEventData=c,console.log(r),this.callbacks.push(r)},e.remove=function(t){this.callbacks=this.callbacks.filter((function(e){return e.handler!==t}))},e.clear=function(){this.callbacks.length=0},e.invoke=function(t){},e.getAll=function(){return this.callbacks},e.setAll=function(t){this.callbacks=t},t}()).prototype,"callbacks",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=s))||o));c._RF.pop()}}}));

System.register("chunks:///_virtual/eventManager.ts",["cc"],(function(r){var e,n;return{setters:[function(r){e=r.cclegacy,n=r._decorator}],execute:function(){var a,t;e._RF.push({},"43b71a4+0FH9bJo7u6rkp5H","eventManager",void 0);var c=n.ccclass;n.property,r("eventManager",c("eventManager")(((t=function(){function r(){}return r.on=function(e,n,a){var t={handler:n,target:a},c=r._handlers[e];c||(c=[],r._handlers[e]=c);for(var o=0;o<c.length;o++)if(!c[o])return c[o]=t,o;return c.push(t),c.length},r.off=function(e,n,a){var t=r._handlers[e];if(t)for(var c=0;c<t.length;c++){var o=t[c];if(o.handler===n&&(!a||a===o.target)){t.splice(c,1);break}}},r.dispatchEvent=function(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),t=1;t<n;t++)a[t-1]=arguments[t];var c,o=r._handlers[e],h=[];for(c=1;c<arguments.length;c++)h.push(arguments[c]);if(o)for(c=0;c<o.length;c++){var l=o[c];l.handler&&l.handler.apply(l.target,h)}},r}())._handlers={},a=t))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/FindClub.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./NoticeManager.ts"],(function(n){var e,t,i,u,a,l,o,r,c,b,s,d,f;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,u=n.assertThisInitialized},function(n){a=n.cclegacy,l=n._decorator,o=n.EditBox,r=n.Label,c=n.Button,b=n.Node,s=n.Component},function(n){d=n.DataManager},function(n){f=n.NoticeManager}],execute:function(){var p,C,m,g,y,F,I,h,v,w,L,z,D;a._RF.push({},"409bbH5tQ9ML5arydv2etFT","FindClub",void 0);var G=l.ccclass,M=l.property;n("FindClub",(p=G("FindClub"),C=M(o),m=M(o),g=M(r),y=M(c),F=M(b),p((v=e((h=function(n){function e(){for(var e,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return e=n.call.apply(n,[this].concat(a))||this,i(e,"clubIdInput",v,u(e)),i(e,"clubNameInput",w,u(e)),i(e,"resultLabel",L,u(e)),i(e,"findButton",z,u(e)),i(e,"nodeFindClub",D,u(e)),e}t(e,n);var a=e.prototype;return a.onLoad=function(){},a.onEnable=function(){d.instance.inGame.findClub=this},a.onFindClicked=function(){var n=this.clubIdInput.string.trim();n?d.instance.wsClient.send({scene:"Club",g:{club:{findClub:!0,clubId:n}}}):f.instance.show("Please enter a club ID!")},a.onFoundClub=function(n){d.instance.inGame.findClub.nodeFindClub.active=!1,d.instance.inGame.joinClub.nodeJoinClub.active=!0,console.log("onFoundClub data:",n),n&&n.found?(d.instance.inGame.joinClub.clubNameLabel.string="✅ Found Club: "+n.club.name,d.instance.inGame.joinClub.usernameInput.string=d.instance.userData.name,d.instance.inGame.joinClub.setClubInfo(n.club)):f.instance.show("❌ Club not found.")},e}(s)).prototype,"clubIdInput",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(h.prototype,"clubNameInput",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(h.prototype,"resultLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(h.prototype,"findButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(h.prototype,"nodeFindClub",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=h))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/FriendRoom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./AudioManager.ts","./FriendRoomItem.ts"],(function(o){var n,e,t,i,r,a,c,l,u,s,p,f,m;return{setters:[function(o){n=o.applyDecoratedDescriptor,e=o.inheritsLoose,t=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){r=o.cclegacy,a=o._decorator,c=o.Prefab,l=o.Node,u=o.instantiate,s=o.Component},function(o){p=o.DataManager},function(o){f=o.default},function(o){m=o.FriendRoomItem}],execute:function(){var d,b,h,y,R,g,v;r._RF.push({},"627a6oUo8ZM6qc8Fr3vsZss","FriendRoom",void 0);var F=a.ccclass,P=a.property;o("FriendRoom",(d=F("FriendRoom"),b=P(c),h=P(l),d((g=n((R=function(o){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=o.call.apply(o,[this].concat(r))||this,t(n,"roomItemPrefab",g,i(n)),t(n,"content",v,i(n)),n}e(n,o);var r=n.prototype;return r.onLoad=function(){p.instance.FriendRoom=this},r.onClickRoom=function(o){console.log("onClickRoom----:"),f.instance.playSound("click"),p.instance.UIPokerLobby.popupNap.getComponent("PokerNap").init(this,o),p.instance.UIPokerLobby.popupNap.active=!0},r.updateRooms=function(o){var n=this;this.content.removeAllChildren(),o.forEach((function(o){var e=u(n.roomItemPrefab);e.getComponent(m).init(o,(function(o){n.onClickRoom(o)})),n.content.addChild(e)}))},n}(s)).prototype,"roomItemPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=n(R.prototype,"content",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=R))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/FriendRoomItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./DataManager.ts"],(function(e){var t,n,i,a,r,o,s,l,u,c,m,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,s=e.Sprite,l=e.Label,u=e.Node,c=e.Component},function(e){m=e.formatCurrency},function(e){b=e.DataManager}],execute:function(){var g,p,f,d,y,h,D,L,v,w,z,I,R;r._RF.push({},"55629aVncVNP7Sw1PZA2c5J","FriendRoomItem",void 0);var F=o.ccclass,P=o.property;e("FriendRoomItem",(g=F("FriendRoomItem"),p=P(s),f=P(l),d=P(l),y=P(l),h=P(u),g((v=t((L=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i(t,"gameName",v,a(t)),i(t,"blindsLabel",w,a(t)),i(t,"feeLabel",z,a(t)),i(t,"playersLabel",I,a(t)),i(t,"suggestedBadge",R,a(t)),t.roomData=void 0,t}n(t,e);var r=t.prototype;return r.clickItem=function(){this.roomData.blinds={min:this.roomData.settings.blinds,max:2*this.roomData.settings.blinds},this.roomData.fee={min:this.roomData.settings.ante,max:20*this.roomData.settings.ante},b.instance.originJoinTable="friend",b.instance.wsClient.send({g:{poker:{reg:{room:100,red:!0,balans:4e3,auto:!0,friend:!0,dataRoom:this.roomData},gameType:b.instance.UIPokerLobby.gameType}}})},r.init=function(e,t){this.roomData=e,this.blindsLabel.string=m(e.settings.blinds)+"/"+m(2*e.settings.blinds),this.feeLabel.string=m(e.settings.ante)+"-"+m(20*e.settings.ante),this.playersLabel.string=""+e.settings.maxPlayers},t}(c)).prototype,"gameName",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(L.prototype,"blindsLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(L.prototype,"feeLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(L.prototype,"playersLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(L.prototype,"suggestedBadge",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=L))||D));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameBXX.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./CardGameCommon.ts","./PlayerBXX.ts","./CardBxx.ts","./CardSlot.ts","./OptionFantasy.ts","./CheckCard.ts","./HandAnalyzer.ts","./GameConstant.ts"],(function(a){var t,e,r,n,o,d,i,s,c,l,u,p,C,h,y,f,m,v,S,g,D,F,b,w,P,G,E;return{setters:[function(a){t=a.applyDecoratedDescriptor,e=a.inheritsLoose,r=a.initializerDefineProperty,n=a.assertThisInitialized,o=a.createForOfIteratorHelperLoose},function(a){d=a.cclegacy,i=a._decorator,s=a.Prefab,c=a.Node,l=a.instantiate,u=a.Vec3,p=a.UITransform,C=a.tween,h=a.v3,y=a.Sprite,f=a.Color,m=a.Tween,v=a.Component},function(a){S=a.DataManager},function(a){g=a.default},function(a){D=a.PlayerBXX},function(a){F=a.CardBxx},function(a){b=a.CardSlot},function(a){w=a.OptionFantasy},function(a){P=a.ComboChecker},function(a){G=a.HandAnalyzer},function(a){E=a.GAME_MODE}],execute:function(){var T,A,U,R,X,B,_,k,O,x,H,z,L,N,M;d._RF.push({},"08ee5V0V+JHI6y8ITkAVwNy","GameBXX",void 0);var V=i.ccclass,I=i.property;a("GameBXX",(T=V("GameBXX"),A=I({type:s,group:{name:"Prefab"}}),U=I({type:s,group:{name:"Prefab"}}),R=I({type:c,group:{name:"tools"}}),X=I({type:[D]}),B=I(c),_=I(c),T((x=t((O=function(a){function t(){for(var t,e=arguments.length,o=new Array(e),d=0;d<e;d++)o[d]=arguments[d];return t=a.call.apply(a,[this].concat(o))||this,r(t,"cardCommonPrefab",x,n(t)),r(t,"cardPrefab",H,n(t)),r(t,"cardSpawn",z,n(t)),r(t,"players",L,n(t)),t.cardCommon=null,t.discarded=null,r(t,"optionFantasy",N,n(t)),r(t,"btnAccept",M,n(t)),t.mode=void 0,t.turnCurrent=0,t.dataFantasy=null,t.uidFantady=null,t.numberCardSelect=0,t.findMatchingOptions=function(a,t){var e=t.map((function(a){return a.name}));return a.filter((function(a){return e.includes(a.typeOption)}))},t.sche=null,t.numberMax=2,t}e(t,a);var d=t.prototype;return d.onLoad=function(){S.instance.UIBXXGame=this,this.initCardCommon()},d.init=function(){this.node.active=!0,S.instance.inGame=this,S.instance.wsClient.send({scene:"poker",g:{poker:{ingame:!0}}}),this.optionFantasy.active=!1},d.update=function(a){this.turnCurrent<=1||(2==this.numberCardSelect||13==this.numberCardSelect&&this.uidFantady==S.instance.userData.id?this.btnAccept.active=!0:this.btnAccept.active=!1)},d.onData=function(a){var t=this;switch(a.type){case"SERVER_PLAYER_JOIN_ROOM_BXX":this.handlePlayerJoin(a.data.players);break;case"SERVER_SEND_DEAL_CARDS_BXX":this.mode=E.ULTIMATE,(null==this.uidFantady||this.uidFantady!=S.instance.userData.id)&&(this.numberCardSelect=0),this.scheduleOnce((function(){t.handleDealCard(a.data)}),.7);break;case"SERVER_FANTASY_STATUS_BXX":a.data.fantasyPlayers.forEach((function(e){1==e.isFantasy&&(t.dataFantasy=a.data)}));break;case"SEVER_CARDS_ARRANGED_BXX":this.arrangeCards(a.data);break;case"SERVER_GAME_RESULT_BXX":this.btnAccept.active=!1,this.optionFantasy.active=!1,this.numberCardSelect=0,this.turnCurrent=0,this.dataFantasy=null,this.numberMax=2,this.uidFantady=null,this.scheduleOnce((function(){t.players[0].DestroyHandCard(),t.ServerSendResultCard(a.data)}),.7)}},d.initCardCommon=function(){this.cardCommon=l(this.cardCommonPrefab).getComponent(g),this.cardCommon.node.active=!1},d.handlePlayerJoin=function(a){for(var t,e=this,r=function(){var a=t.value;if(a.uid===S.instance.userData.id)return e.players[0].dataUser||e.players[0].SetUp(a),0;if(e.players.some((function(t){var e;return(null==(e=t.dataUser)?void 0:e.uid)===a.uid})))return 0;var r=e.players.slice(1).find((function(a){return!a.dataUser}));r&&(r.node.active=!0,r.SetUp(a))},n=o(a);!(t=n()).done;)r()},d.handleDealCard=function(a){this.players.forEach((function(a){a.timeTurn.fillRange=0})),this.turnCurrent=a.turn,1===a.turn?(this.ResetBoard(),this.dealFirstTurn(a)):this.dealNextTurn(a),this.uidFantady==S.instance.userData.id&&4==a.turn&&(this.optionFantasy.active=!0)},d.ResetBoard=function(){this.cardSpawn.destroyAllChildren(),this.players[0].Reset(),this.players[1].Reset(),this.players[2].Reset()},d.dealFirstTurn=function(a){var t=this;null==this.dataFantasy&&this.players[0].AddCardSlotToHand(3),this.players.forEach((function(e){e.dataUser&&(e.EnabledGroups(),t.scheduleOnce((function(){null!=t.dataFantasy?t.dataFantasy.fantasyPlayers.forEach((function(r){e.dataUser.uid==r.uid&&(1==r.isFantasy?(t.uidFantady=r.uid,r.uid==S.instance.userData.id?(t.players[0].AddCardSlotToHand(a.cards.length),t.numberMax=13,t.scheduleOnce((function(){t.DealCardGalaxyToUser(a.cards)}),.2)):e.playerShowFantasy()):(e.CoundownTimeTurn(a.timeLimit),r.uid==S.instance.userData.id&&(t.players[0].AddCardSlotToHand(3),t.btnAccept.active=!0),t.dealCardsToPlayer(e,a.cards)))})):(e.CoundownTimeTurn(a.timeLimit),t.dealCardsToPlayer(e,a.cards),t.btnAccept.active=!0)}),.2),e.discardedCards.active=!0)}))},d.dealCardsToPlayer=function(a,t){for(var e=0;e<a.cardGroups[2].children.length;e++){var r=a.cardGroups[2].children[e],n=this.createCard(t[e],a);a.playerCards.push(n),this.assignCardToSlot(n,r),this.animateCard(n.node,r,e)}},d.createCard=function(a,t){var e=this.SpawnCard();this.cardSpawn.addChild(e),e.setScale(new u(0,0,1)),e.setWorldPosition(this.cardSpawn.worldPosition.clone());var r=this.cardCommon.getComponent(g).getCard(a.card,a.type),n=e.getComponent(F),o=t.dataUser.uid===S.instance.userData.id;return n.SetUp(o?a:null,r,o),n},d.assignCardToSlot=function(a,t){var e=t.getComponent(b);a.cardSlot=e,a.SetSize(t.getComponent(p).contentSize),e.SetCardConnect(a)},d.animateCard=function(a,t,e){C(a).to(.1*e,{worldPosition:t.worldPosition}).start(),C(a).to(.1*e,{scale:h(1,1,1)}).start()},d.dealNextTurn=function(a){var t=this;4==this.turnCurrent&&this.uidFantady==S.instance.userData.id&&this.EnabledCardsFantaxy(),this.players.forEach((function(e){if(e.dataUser&&(null==t.dataFantasy||null!=t.dataFantasy&&t.uidFantady!=e.dataUser.uid)){e.CoundownTimeTurn(a.timeLimit),e.DestroyHandCard();for(var r=0;r<3;r++)for(var n,d=e.dataUser.uid===S.instance.userData.id,i=d?e.handCards.children:e.cardSlotsPlayer,s=o(i);!(n=s()).done;){var c=n.value,l=c.getComponent(b);if(!l.cardConnect){var u=t.SpawnCard();t.cardSpawn.addChild(u);var p=u.getComponent(F),C=t.cardCommon.getComponent(g).getCard(a.cards[r].card,a.cards[r].type);p.SetUp(a.cards[r],C,d),0==d?(p.SetUp(null,C,d),e.playerCards.push(p)):p.SetUp(a.cards[r],C,d),t.assignCardToSlot(p,c),t.setCardToSlotEmpty(p,l,.5);break}}}}))},d.EnabledCardsFantaxy=function(){this.players[0].handCards.children.forEach((function(a){var t=a.getComponent(b).cardConnect;null!=t&&(t.FlipCard(t.DataCard,t.spriteCardCurrent),t.AddEvent())}))},d.arrangeCards=function(a){var t=this;this.players[0].SetPlayersCards(),a.arrangedHands.forEach((function(a){var e=t.players.find((function(t){var e;return(null==(e=t.dataUser)?void 0:e.uid)===a.uid}));if(e){e.StopCountDown(),t.Discard(a,e),e.ResetCard(),e.ResetCardSlot();var r=a.hands,n=r.front,o=r.middle,d=r.back,i=[].concat(n,o,d),s=a.uid!==S.instance.userData.id?.4:0;a.uid==S.instance.userData.id&&t.SetStatusChi(a.hands),t.assignDataCards(e.playerCards,i,e),t.scheduleOnce((function(){t.arrangeCardGroup(e,n,e.cardGroups[0]),t.arrangeCardGroup(e,o,e.cardGroups[1]),t.arrangeCardGroup(e,d,e.cardGroups[2])}),s)}}))},d.assignDataCards=function(a,t,e){for(var r,n=new Set,d=[],i=o(a);!(r=i()).done;){var s=r.value;s.DataCard&&n.add("type:"+s.DataCard.type+",card:"+s.DataCard.card)}for(var c,l=o(a);!(c=l()).done;){var u=c.value;if(!u.DataCard){var p=t.find((function(a){return!n.has("type:"+a.type+",card:"+a.card)}));if(p){var C=this.cardCommon.getComponent(g).getCard(p.card,p.type);u.FlipCard(p,C),n.add("type:"+p.type+",card:"+p.card)}}}for(var h,y=o(t);!(h=y()).done;){var f=h.value;n.has("type:"+f.type+",card:"+f.card)||d.push(f)}for(var m=[].concat(a),v=0,D=d;v<D.length;v++){var w=D[v],P=this.SpawnCard();this.cardSpawn.addChild(P);var G=P.getComponent(F),E=this.cardCommon.getComponent(g).getCard(w.card,w.type),T=e.dataUser.uid===S.instance.userData.id;G.SetUp(w,E,T),e.playerCards.push(G),m.push(G),G.bgCard.spriteFrame=E;for(var A,U=T?e.handCards.children:e.cardSlotsPlayer,R=o(U);!(A=R()).done;){var X=A.value,B=X.getComponent(b);if(!B.cardConnect){this.assignCardToSlot(G,X),this.setCardToSlotEmpty(G,B,.5);break}}}this.removeUnusedCardsByCards(m,e,t)},d.removeUnusedCardsByCards=function(a,t,e){for(var r,n=new Set,d=o(e);!(r=d()).done;){var i=r.value;n.add("type:"+i.type+",card:"+i.card)}for(var s,c=o(a);!(s=c()).done;){var l,u=s.value,p=u.DataCard,C=p&&!n.has("type:"+p.type+",card:"+p.card);if(null==p||C)null==(l=u.cardSlot)||l.Reset(),u.node.destroy(),t.removePlayerCard(u)}},d.findCardNodeByData=function(a){for(var t,e=o(this.players);!(t=e()).done;)for(var r,n=t.value,d=o(n.playerCards);!(r=d()).done;){var i,s,c=r.value;if((null==(i=c.DataCard)?void 0:i.type)===a.type&&(null==(s=c.DataCard)?void 0:s.card)===a.card)return c.node}return null},d.arrangeCardGroup=function(a,t,e){for(var r=0;r<t.length;r++){var n=e.children[r].getComponent(b),o=a.FindCard(t[r]);if(!o){o=this.createCard(t[r],a);var d=a.cardSlotsPlayer.find((function(a){return null==a.getComponent(b).cardConnect}));d&&this.assignCardToSlot(o,d)}this.setCardToSlotEmpty(o,n,.5),n.isBlock=!0,o.DeleteEvent()}},d.SpawnCard=function(){return l(this.cardPrefab)},d.setCardToSlot=function(a,t){t.cardConnect?this.swapCards(a,t.cardConnect):this.setCardToSlotEmpty(a,t),this.uidFantady==S.instance.userData.id&&this.SetTrueFalsePlayer()},d.setCardToSlotEmpty=function(a,t,e){void 0===e&&(e=0),C(a.node).to(e,{worldPosition:t.node.getWorldPosition().clone()}).start(),a.cardSlot&&(a.cardSlot.cardConnect=null),t.SetCardConnect(a),a.cardSlot=t,this.uidFantady==S.instance.userData.id&&this.SetTrueFalsePlayer()},d.swapCards=function(a,t){var e=a.cardSlot,r=t.cardSlot,n=e.node.worldPosition.clone(),o=r.node.worldPosition.clone();C(a.node).to(.2,{worldPosition:o}).start(),C(t.node).to(.2,{worldPosition:n}).start(),e.SetCardConnect(t),r.SetCardConnect(a),a.cardSlot=r,t.cardSlot=e,this.uidFantady==S.instance.userData.id&&this.SetTrueFalsePlayer()},d.BtnAcceptCard=function(){if(null!=this.uidFantady&&this.uidFantady==S.instance.userData.id){if(this.turnCurrent<4)return;if(13!=this.numberCardSelect)return}var a={g:{poker:{type:"CLIENT_CARDS_ARRANGED_BXX",data:{arrangement:{front:this.players[0].GetDataCardForGroup(this.players[0].cardGroups[0]),middle:this.players[0].GetDataCardForGroup(this.players[0].cardGroups[1]),back:this.players[0].GetDataCardForGroup(this.players[0].cardGroups[2])},discarded:this.GetDiscardPlayer()}}}};console.log("data: "+JSON.stringify(a)),this.discarded=null,S.instance.wsClient.send(a),this.players[0].SetPlayersCards()},d.GetDiscardPlayer=function(){for(var a,t=[],e=o(this.players[0].handCards.children);!(a=e()).done;){var r=a.value.getComponent(b);null!=r.cardConnect&&t.push(r.cardConnect.DataCard)}return t},d.Discard=function(a,t){var e,r=this;if(null!=a.discarded){var n=a.discarded.filter((function(a){return!t.listDisCard.some((function(t){return t.card===a.card&&t.type===a.type}))}));(e=t.listDisCard).push.apply(e,n),console.log("123123132 "+JSON.stringify(n)),n.forEach((function(a){var e=r.FindDiscard(a),n=t.discardedCards;if(null==e){e=r.SpawnCard(),r.cardSpawn.addChild(e);var o=e.getComponent(F),d=r.cardCommon.getComponent(g).getCard(a.card,a.type);o.SetUp(a,d,!0),o.bgCard.spriteFrame=d}e.getComponent(F).DeleteEvent(),e.getComponent(F).RemoveCardSlot(),C(e).to(.2,{worldPosition:n.worldPosition.clone()}).call((function(){e.removeFromParent(),n.addChild(e),t.dataUser.uid!=S.instance.userData.id&&r.scheduleOnce((function(){})),t.ResetHandCardSlot()})).start()}))}},d.FindDiscard=function(a){var t=this.players[0].FindDisCard(a);return null==t?null:t.node},d.DealCardGalaxyToUser=function(a){var t=this,e=this.players[0];a.forEach((function(a){for(var r,n=e.dataUser.uid===S.instance.userData.id,d=n?e.handCards.children:e.cardSlotsPlayer,i=o(d);!(r=i()).done;){var s=r.value,c=s.getComponent(b);if(!c.cardConnect){var l=t.SpawnCard();t.cardSpawn.addChild(l);var u=l.getComponent(F),p=t.cardCommon.getComponent(g).getCard(a.card,a.type);u.SetUp(a,p,n),0==n?(u.SetUp(null,p,n),e.playerCards.push(u)):u.SetUp(a,p,n),t.assignCardToSlot(u,s),t.setCardToSlotEmpty(u,c,.5);break}}})),this.SetOptionFantasy()},d.SetOptionFantasy=function(){var a=this,t=this.players[0].GetDataCardInHand(),e=P.getPossibleCombos(t);this.optionFantasy.children.forEach((function(a){a.getComponent(w).cards=[],a.getComponent(y).color=new f(255,255,255,255)}));for(var r,n=function(){var t=r.value;a.optionFantasy.children.forEach((function(a){a.getComponent(w).typeOption==t.strength&&(a.getComponent(w).cards=t.involvedCards,a.getComponent(y).color=new f(255,144,144,255))}))},d=o(e);!(r=d()).done;)n()},d.ChooseOptionCard=function(a){var t=this;this.sche&&this.unschedule(this.sche);var e=[];this.players[0].handCards.children.forEach((function(a){var t=a.getComponent(b);t.cardConnect&&C(t.cardConnect.node).to(.1,{worldPosition:new u(t.node.worldPosition.x,t.node.worldPosition.y)}).start()})),a.forEach((function(a){var r=!1;t.players[0].handCards.children.forEach((function(t){var n=t.getComponent(b);n.cardConnect&&n.cardConnect.DataCard.card===a.card&&n.cardConnect.DataCard.type===a.type&&(r=!0,e.push(n.cardConnect),m.stopAllByTarget(n.cardConnect.node),C(n.cardConnect.node).to(.1,{worldPosition:new u(n.node.worldPosition.x,n.node.worldPosition.y+30)}).start())})),0==r&&(console.log(a),t.players[0].handCards.children.forEach((function(a){var t=a.getComponent(b);t.cardConnect&&-1===t.cardConnect.DataCard.card&&-1===t.cardConnect.DataCard.type&&(e.push(t.cardConnect),m.stopAllByTarget(t.cardConnect.node),C(t.cardConnect.node).to(.1,{worldPosition:new u(t.node.worldPosition.x,t.node.worldPosition.y+30)}).start())})))})),this.sche=function(){t.FillCardFantasy(e)},this.scheduleOnce(this.sche,1)},d.FillCardFantasy=function(a){for(var t,e=this,r=this.players[0].cardGroups,n=function(){for(var t=[],n=0,d=0;d<r[o].children.length;d++){var i=r[o].children[d].getComponent(b);null==i.cardConnect&&(n++,t.push(i))}return n<a.length?0:(e.numberCardSelect+=a.length,a.forEach((function(a,r){e.setCardToSlotEmpty(a,t[r])})),1)},o=0;o<r.length&&(0===(t=n())||1!==t);o++);this.scheduleOnce((function(){e.SetTrueFalsePlayer(),e.players[0].UpdateHand()}),.1)},d.UpdateLayout=function(){},d.SetStatusChi=function(a){3==a.front.length&&this.players[0].SetChi(G.analyzeHand(a.front,this.mode,"front"),this.players[0].statusChis[0]),5==a.middle.length&&this.players[0].SetChi(G.analyzeHand(a.middle,this.mode,"middle"),this.players[0].statusChis[1]),5==a.back.length&&this.players[0].SetChi(G.analyzeHand(a.back,this.mode,"back"),this.players[0].statusChis[2])},d.SetTrueFalsePlayer=function(){var a={front:this.players[0].GetDataCardForGroup(this.players[0].cardGroups[0]),middle:this.players[0].GetDataCardForGroup(this.players[0].cardGroups[1]),back:this.players[0].GetDataCardForGroup(this.players[0].cardGroups[2])},t=G.isValidArrangement(a,this.mode);null!=t&&this.players[0].SetTrueFalseChi(t)},d.ServerSendResultCard=function(a){var t=this;a.finalResults.forEach((function(a){t.players.forEach((function(e){if(e.dataUser.uid==a.uid){e.SetScoreChi(e.statusChis[0],a.details.back),e.SetScoreChi(e.statusChis[1],a.details.middle),e.SetScoreChi(e.statusChis[2],a.details.front);var r={front:t.players[0].GetDataCardForGroup(e.cardGroups[0]),middle:t.players[0].GetDataCardForGroup(e.cardGroups[1]),back:t.players[0].GetDataCardForGroup(e.cardGroups[2])};G.isValidArrangement(r,t.mode)}}))}))},t}(v)).prototype,"cardCommonPrefab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(O.prototype,"cardPrefab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(O.prototype,"cardSpawn",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(O.prototype,"players",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=t(O.prototype,"optionFantasy",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(O.prototype,"btnAccept",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=O))||k));d._RF.pop()}}}));

System.register("chunks:///_virtual/GameConstant.ts",["cc"],(function(_){var A;return{setters:[function(_){A=_.cclegacy}],execute:function(){A._RF.push({},"d03a7CAPZdCIZxX/s2H0sVP","GameConstant",void 0);_("SPECIAL_HANDS",{DRAGON_WRAP:{name:"Rồng cuốn",multiplier:24},DRAGON_STRAIGHT:{name:"Sảnh rồng",multiplier:12},FIVE_PAIRS_TRIPLE:{name:"Năm đôi 1 sám",multiplier:6},SIX_PAIRS:{name:"Lục phé bôn",multiplier:3},THREE_FLUSHES:{name:"Ba thùng",multiplier:3},THREE_STRAIGHTS:{name:"Ba sảnh",multiplier:3}}),_("GAME_STATES",{WAITING:"waiting",DEALING:"dealing",ARRANGING:"arranging",COMPARING:"comparing",FINISHED:"finished"}),_("ENUMS",{MIN_PLAYER:2,MAX_PLAYER:3,WAITING_TIME:5e3,ROUND_TIME:120,TURN_TIME:30,TURN_NUMBER:5}),_("HAND_STRENGTH",{HIGH_CARD:1,PAIR:2,TWO_PAIRS:3,THREE_OF_A_KIND:4,STRAIGHT:5,FLUSH:6,FULL_HOUSE:7,FOUR_OF_A_KIND:8,STRAIGHT_FLUSH:9,STRAIGHT_FLUSH_ROYAL:10}),_("CHI_SCORES",{FRONT:{THREE_OF_A_KIND:[10,11,12,13,14,15,16,17,18,19,20,21,22],PAIR:[1,2,3,4,5,6,7,8,9],HIGH_CARD:0},MIDDLE:{STRAIGHT_FLUSH_ROYAL:50,STRAIGHT_FLUSH:30,FOUR_OF_A_KIND:20,FULL_HOUSE:12,FLUSH:8,STRAIGHT:4,THREE_OF_A_KIND:2,CONSECUTIVE_PAIRS:0,HIGH_CARD:0},BACK:{STRAIGHT_FLUSH_ROYAL:25,STRAIGHT_FLUSH:15,FOUR_OF_A_KIND:10,FULL_HOUSE:6,FLUSH:4,STRAIGHT:2,THREE_OF_A_KIND:0,CONSECUTIVE_PAIRS:0,HIGH_CARD:0}}),_("GAME_MODE",{NORMAL:"normal",FANTASY:"fantasy",PROGRESSIVE:"progressive",ULTIMATE:"ultimate"});A._RF.pop()}}}));

System.register("chunks:///_virtual/GameModeSetting.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Helper.ts"],(function(e){var i,t,n,o,l,r,a,u,s,d,b,m,g,c;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,l=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy,u=e._decorator,s=e.Toggle,d=e.Node,b=e.Slider,m=e.Label,g=e.Component},function(e){c=e.Helper}],execute:function(){var p,h,f,B,P,y,T,S,w,M,v,z,H,G,A,C,q,k,x,_,V,L,R,D,E,I,U,F,j,J,N,Q,X,K,O,W,Y,Z,$,ee,ie,te,ne,oe,le,re,ae,ue,se,de,be,me,ge;a._RF.push({},"d48aaQ/X7dLHr/PpJ1U+Pcd","GameModeSetting",void 0);var ce,pe=u.ccclass,he=u.property;p=pe("GameModeSetting"),h=he(s),f=he(s),B=he(s),P=he(s),y=he(d),T=he(d),S=he(d),w=he(b),M=he(m),v=he(b),z=he(m),H=he(b),G=he(m),A=he(d),C=he(s),q=he(m),k=he(b),x=he(s),_=he(d),V=he(b),L=he(m),R=he(b),D=he(m),E=he(b),I=he(m),ce=p((j=i((F=function(e){function i(){for(var i,t=arguments.length,l=new Array(t),r=0;r<t;r++)l[r]=arguments[r];return i=e.call.apply(e,[this].concat(l))||this,n(i,"toggleTeamMode",j,o(i)),n(i,"toggleSquidGame",J,o(i)),n(i,"toggleBombPot",N,o(i)),n(i,"toggleSevenTwo",Q,o(i)),n(i,"nodeSquidGame",X,o(i)),n(i,"nodeBombPot",K,o(i)),n(i,"nodeSevenTwo",O,o(i)),n(i,"squidValueSlider",W,o(i)),n(i,"labelSquidValue",Y,o(i)),n(i,"sliderBombPotAnte_min",Z,o(i)),n(i,"labelBombPotAnte_min",$,o(i)),n(i,"sliderBombPotAnte",ee,o(i)),n(i,"labelBombPotAnte",ie,o(i)),n(i,"nodeHandsGroup",te,o(i)),n(i,"toggleBombPotByHands",ne,o(i)),n(i,"labelHandBombPotAnte",oe,o(i)),n(i,"sliderBombPotByHand",le,o(i)),n(i,"toggleByTime",re,o(i)),n(i,"nodeTimeGroup",ae,o(i)),n(i,"sliderMinTime",ue,o(i)),n(i,"labeTimeMinBombpot",se,o(i)),n(i,"sliderMaxTime",de,o(i)),n(i,"labeTimeMaxBombpot",be,o(i)),n(i,"slider72",me,o(i)),n(i,"labeSlider72",ge,o(i)),i}t(i,e);var a=i.prototype;return a.onEnable=function(){this.init()},a.init=function(){console.log("onEnable create club table "),this.addSliderEvents(),this.updateBombPotUI(),this.toggleBombPotByHands.node.on("toggle",this.onToggleBombPotChanged,this),this.toggleByTime.node.on("toggle",this.onToggleBombPotChanged,this)},a.onDisable=function(){this.toggleBombPotByHands.node.off("toggle",this.onToggleBombPotChanged,this),this.toggleByTime.node.off("toggle",this.onToggleBombPotChanged,this)},a.addSliderEvents=function(){var e=this;this.toggleSquidGame.node.on("toggle",(function(i){e.nodeSquidGame.active=i.isChecked})),this.toggleBombPot.node.on("toggle",(function(i){e.nodeBombPot.active=i.isChecked})),this.toggleSevenTwo.node.on("toggle",(function(i){e.nodeSevenTwo.active=i.isChecked})),this.squidValueSlider.node.on("slide",(function(){e.labelSquidValue.string=c.mapSlider(e.squidValueSlider,1,10)+" BB"})),this.sliderBombPotAnte_min.node.on("slide",(function(i){e.labelBombPotAnte_min.string=c.mapSlider(e.sliderBombPotAnte_min,1,5)+" BB"})),this.sliderBombPotAnte.node.on("slide",(function(i){e.labelBombPotAnte.string=c.mapSlider(e.sliderBombPotAnte,5,10)+" BB"})),this.sliderBombPotByHand.node.on("slide",(function(){e.labelHandBombPotAnte.string=c.mapSlider(e.sliderBombPotByHand,1,60)+" Hands"})),this.sliderMinTime.node.on("slide",(function(){e.labeTimeMinBombpot.string=c.mapSlider(e.sliderMinTime,1,30)+" phút"})),this.sliderMaxTime.node.on("slide",(function(){e.labeTimeMaxBombpot.string=c.mapSlider(e.sliderMaxTime,30,60)+" phút"})),this.slider72.node.on("slide",(function(){e.labeSlider72.string=c.mapSlider(e.slider72,1,60)+" BB"}))},a.onLoadCreateTable=function(){var e=l(r().mark((function e(i){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=i.settings,i.advanced,console.log("onLoadCreateTable------",i),this.toggleTeamMode.isChecked=t.teamMode.includes(!0),this.toggleSquidGame.isChecked=t.squidGame.includes(!1),this.toggleBombPot.isChecked=t.bombPot.includes(!1),this.toggleSevenTwo.isChecked=t.seventyTwo.includes(!1),this.sliderBombPotAnte_min.progress=3,this.sliderBombPotAnte.progress=7,this.sliderBombPotByHand.progress=10,this.sliderMinTime.progress=10,this.sliderMaxTime.progress=50,this.slider72.progress=30;case 13:case"end":return e.stop()}}),e,this)})));return function(i){return e.apply(this,arguments)}}(),a.updateBombPotUI=function(){var e=this.toggleBombPotByHands.isChecked,i=this.toggleByTime.isChecked;this.nodeHandsGroup&&(this.nodeHandsGroup.active=e),this.nodeTimeGroup&&(this.nodeTimeGroup.active=i)},a.onToggleBombPotChanged=function(){this.updateBombPotUI()},a.getSettings=function(){var e=this.toggleSquidGame.isChecked?Math.round(9*this.squidValueSlider.progress)+1:0,i=this.toggleBombPot.isChecked?Math.round(9*this.sliderBombPotAnte.progress)+1:0,t="",n=0;if(this.toggleBombPotByHands.isChecked){t="hands";var o=Math.round(59*this.sliderBombPotByHand.progress)+1;n={min:Math.min(2,o),max:Math.max(2,o)}}else if(this.toggleByTime.isChecked){t="time";var l=Math.round(59*this.sliderMinTime.progress)+1,r=Math.round(59*this.sliderMaxTime.progress)+1;n={min:Math.min(l,r),max:Math.max(l,r)}}var a=this.toggleSevenTwo.isChecked?Math.round(9*this.slider72.progress)+1:0,u={squidValueBB:e,bombPotAnte:i,bombPot:{mode:t,value:n},rule72BB:a,enableSquidGame:e>0,enableBombPot:i>0,enableRule72:a>0};return console.log("dataResulte:",u),u},i}(g)).prototype,"toggleTeamMode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=i(F.prototype,"toggleSquidGame",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(F.prototype,"toggleBombPot",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=i(F.prototype,"toggleSevenTwo",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=i(F.prototype,"nodeSquidGame",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=i(F.prototype,"nodeBombPot",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(F.prototype,"nodeSevenTwo",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(F.prototype,"squidValueSlider",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=i(F.prototype,"labelSquidValue",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=i(F.prototype,"sliderBombPotAnte_min",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(F.prototype,"labelBombPotAnte_min",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=i(F.prototype,"sliderBombPotAnte",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=i(F.prototype,"labelBombPotAnte",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=i(F.prototype,"nodeHandsGroup",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=i(F.prototype,"toggleBombPotByHands",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=i(F.prototype,"labelHandBombPotAnte",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=i(F.prototype,"sliderBombPotByHand",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=i(F.prototype,"toggleByTime",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=i(F.prototype,"nodeTimeGroup",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=i(F.prototype,"sliderMinTime",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=i(F.prototype,"labeTimeMinBombpot",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=i(F.prototype,"sliderMaxTime",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=i(F.prototype,"labeTimeMaxBombpot",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=i(F.prototype,"slider72",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=i(F.prototype,"labeSlider72",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=F))||U,e({GameModeSetting:ce,default:ce});a._RF.pop()}}}));

System.register("chunks:///_virtual/HandAnalyzer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameConstant.ts"],(function(r){var n,t,e,u;return{setters:[function(r){n=r.createForOfIteratorHelperLoose},function(r){t=r.cclegacy},function(r){e=r.HAND_STRENGTH,u=r.GAME_MODE}],execute:function(){var a;t._RF.push({},"a747acPlmlE0rPx12QFI6vU","HandAnalyzer",void 0),r("HandAnalyzer",function(){function r(){}return r.analyzeHand=function(r,n,t){var a=this,i="front"===t?3:5,c=this.validCards(r);if(c.length!==i)return{strength:0,cardCounts:[],isFlush:!1,isStraight:!1,values:[]};var o=c.filter((function(r){return-1===r.card&&-1===r.type})),s=c.filter((function(r){return-1!==r.card||-1!==r.type})),l=function(r){var n=r.map((function(r){return a.cardToValue(r.card)})).sort((function(r,n){return r-n})),t=r.map((function(r){return r.type})),u=new Array(13).fill(0);r.forEach((function(r){return u[r.card]++}));for(var c=t.every((function(r){return r===t[0]})),o=!0,s=1;s<n.length;s++)if(n[s]!==n[s-1]+1){o=!1;break}5===i&&"2,3,4,5,14"===n.join(",")&&(o=!0);var l=u.filter((function(r){return r>0})).sort((function(r,n){return n-r}));return 5===i?c&&o&&14===n[4]?e.STRAIGHT_FLUSH_ROYAL:c&&o?e.STRAIGHT_FLUSH:4===l[0]?e.FOUR_OF_A_KIND:3===l[0]&&2===l[1]?e.FULL_HOUSE:c?e.FLUSH:o?e.STRAIGHT:3===l[0]?e.THREE_OF_A_KIND:2===l[0]&&2===l[1]?e.TWO_PAIRS:2===l[0]?e.PAIR:e.HIGH_CARD:3===l[0]?e.THREE_OF_A_KIND:2===l[0]?e.PAIR:e.HIGH_CARD},f=e.HIGH_CARD,d=[],h=[],H=!1,g=!1;if(n===u.ULTIMATE&&o.length>0){for(var A=[],_=0;_<13;_++)for(var v=0;v<4;v++)A.push({card:_,type:v});for(var p=function(){var r=y[R],n=[].concat(s,[r]),t=l(n),e=n.map((function(r){return a.cardToValue(r.card)})).sort((function(r,n){return n-r}));if(t>f||t===f&&e.join(",")>d.join(",")){f=t,d=e,h=new Array(13).fill(0),n.forEach((function(r){return h[r.card]++}));var u=n.map((function(r){return r.type}));H=u.every((function(r){return r===u[0]}));var c=e.slice().sort((function(r,n){return r-n}));g=!0;for(var o=1;o<c.length;o++)if(c[o]!==c[o-1]+1){g=!1;break}5===i&&"2,3,4,5,14"===c.join(",")&&(g=!0)}},R=0,y=A;R<y.length;R++)p()}else{f=l(c),d=c.map((function(r){return a.cardToValue(r.card)})).sort((function(r,n){return n-r})),h=new Array(13).fill(0),c.forEach((function(r){return h[r.card]++}));var I=c.map((function(r){return r.type}));H=I.every((function(r){return r===I[0]}));var T=d.slice().sort((function(r,n){return r-n}));g=!0;for(var F=1;F<T.length;F++)if(T[F]!==T[F-1]+1){g=!1;break}5===i&&"2,3,4,5,14"===T.join(",")&&(g=!0)}return{strength:f,cardCounts:h,isFlush:H,isStraight:g,values:d}},r.cardToValue=function(r){return[14,2,3,4,5,6,7,8,9,10,11,12,13][r]||r},r.validCards=function(r){return Array.isArray(r)?r.filter((function(r){return r&&"number"==typeof r.card&&"number"==typeof r.type})):[]},r.isValidArrangement=function(r,n){var t=function(r){return Array.isArray(r)&&r.every((function(r){return null===r||r&&"number"==typeof r.card&&"number"==typeof r.type}))};if(!(r&&t(r.front)&&t(r.middle)&&t(r.back)))return{front:!1,middle:!1,back:!1};var e=this.analyzeHand(r.front,n,"front"),u=this.analyzeHand(r.middle,n,"middle"),a=this.analyzeHand(r.back,n,"back"),i=e.strength,c=u.strength,o=a.strength;if(0===i&&0===c&&0===o)return null;var s=this.compareHands(e,u)<=0,l=this.compareHands(u,a)<=0;return{front:s,middle:s&&l,back:l}},r.compareHands=function(r,n){if(r.strength!==n.strength)return r.strength-n.strength;switch(r.strength){case e.FOUR_OF_A_KIND:var t=this.getNKindValue(r.cardCounts,4),u=this.getNKindValue(n.cardCounts,4);return t!==u?t-u:this.getHighestExcept(r.cardCounts,t)-this.getHighestExcept(n.cardCounts,u);case e.FULL_HOUSE:var a=this.getNKindValue(r.cardCounts,3),i=this.getNKindValue(n.cardCounts,3);return a!==i?a-i:this.getNKindValue(r.cardCounts,2)-this.getNKindValue(n.cardCounts,2);case e.THREE_OF_A_KIND:var c=this.getNKindValue(r.cardCounts,3),o=this.getNKindValue(n.cardCounts,3);return c!==o?c-o:this.compareHighCards(r.values,n.values);case e.TWO_PAIRS:var s=this.getAllPairs(r.cardCounts),l=this.getAllPairs(n.cardCounts);return s.sort((function(r,n){return n-r})),l.sort((function(r,n){return n-r})),s[0]!==l[0]?s[0]-l[0]:s[1]!==l[1]?s[1]-l[1]:this.getHighestExcept.apply(this,[r.cardCounts].concat(s))-this.getHighestExcept.apply(this,[n.cardCounts].concat(l));case e.PAIR:var f=this.getNKindValue(r.cardCounts,2),d=this.getNKindValue(n.cardCounts,2);if(f!==d)return f-d;var h=this.getAllExcept(r.values,f),H=this.getAllExcept(n.values,d);return this.compareHighCards(h,H);default:return this.compareHighCards(r.values,n.values)}},r.compareHighCards=function(r,n){for(var t=0;t<r.length;t++)if(r[t]!==n[t])return r[t]-n[t];return 0},r.getNKindValue=function(r,n){for(var t=r.length-1;t>=0;t--)if(r[t]===n)return t;return-1},r.getAllPairs=function(r){for(var n=[],t=0;t<r.length;t++)2===r[t]&&n.push(t);return n},r.getHighestExcept=function(r){for(var n=arguments.length,t=new Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];for(var u=r.length-1;u>=0;u--)if(!t.includes(u)&&r[u]>0)return u;return-1},r.getAllExcept=function(r){for(var n=arguments.length,t=new Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];return r.filter((function(r){return!t.includes(r)}))},r}()).HandEvaluationStrategies=((a={})[e.STRAIGHT_FLUSH_ROYAL]=function(r,n,t,u,a){return t&&u&&"10,11,12,13,14"===a.join(",")?e.STRAIGHT_FLUSH_ROYAL:null},a[e.STRAIGHT_FLUSH]=function(r,n,t,u){return t&&u?e.STRAIGHT_FLUSH:null},a[e.FOUR_OF_A_KIND]=function(r,n){return n.includes(4)?e.FOUR_OF_A_KIND:null},a[e.FULL_HOUSE]=function(r,n){return n.includes(3)&&n.includes(2)?e.FULL_HOUSE:null},a[e.FLUSH]=function(r,n){return n?e.FLUSH:null},a[e.STRAIGHT]=function(r,n){return n?e.STRAIGHT:null},a[e.THREE_OF_A_KIND]=function(r,n){return n.includes(3)?e.THREE_OF_A_KIND:null},a[e.TWO_PAIRS]=function(r,t){for(var u,a=0,i=n(t);!(u=i()).done;){2===u.value&&a++}return a>=2?e.TWO_PAIRS:null},a[e.PAIR]=function(r,n){return n.includes(2)?e.PAIR:null},a[e.HIGH_CARD]=function(r,n,t,u){return t||u||n.includes(4)||n.includes(3)||n.includes(2)?null:e.HIGH_CARD},a),t._RF.pop()}}}));

System.register("chunks:///_virtual/Helper.ts",["cc","./Enum.ts"],(function(e){var n,t,r;return{setters:[function(e){n=e.cclegacy,t=e.Vec3},function(e){r=e.ZONE_GAME}],execute:function(){n._RF.push({},"d1d86REbLxMxqMLmYF1DvOw","Helper",void 0);e("Helper",function(){function e(){}return e.isEmpty=function(e){return!e||0===e.length},e.validateEmail=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},e.checkPhoneValid=function(e){return/^[\+]?(?:[(][0-9]{1,3}[)]|)[0-9]{7,30}$/im.test(e)},e.numberWithCommas=function(e){return e?e.toLocaleString("en-US").replace(/,/g,"."):"0"},e.getOnlyNumberInString=function(e){var n=e.match(/\d+/g);return n?n.join(""):""},e.numberToTime=function(e){return e=Math.max(0,Math.floor(e)),Math.floor(e/60).toString().padStart(2,"0")+":"+(e%60).toString().padStart(2,"0")},e.numberPad=function(e,n){return e.toString().padStart(n,"0")},e.getStringDateByTime=function(e){var n=new Date(e);return n.getHours().toString().padStart(2,"0")+":"+n.getMinutes().toString().padStart(2,"0")+" "+n.getDate().toString().padStart(2,"0")+"/"+(n.getMonth()+1).toString().padStart(2,"0")+"/"+n.getFullYear()},e.getDateByTime=function(e){var n=new Date(e);return n.getDate()+"/"+(n.getMonth()+1)+"/"+n.getFullYear()},e.getStringHourByTime=function(e){var n=new Date(e);return n.getHours().toString().padStart(2,"0")+":"+n.getMinutes().toString().padStart(2,"0")+":"+n.getSeconds().toString().padStart(2,"0")},e.anPhanTram=function(e,n,t,r){void 0===r&&(r=!1);var a=e*n,i=r?a:e;return a-Math.ceil(i*t/100)},e.addZero10=function(e){return e<10?"0"+e:e.toString()},e.mapSlider=function(e,n,t,r){void 0===r&&(r=!1);var a=r?1-e.progress:e.progress;return Math.round(a*(t-n)+n)},e.setSliderProgressByValue=function(e,n,t){var r=t.indexOf(n);return-1!==r?(e.progress=r/(t.length-1),console.log("slider.progress",e.progress)):console.warn("Giá trị không tồn tại trong blindSteps"),e.progress},e.getSliderProgressFromValue=function(e,n,t,r){void 0===r&&(r=!1);var a=(Math.max(n,Math.min(e,t))-n)/(t-n);return r?1-a:a},e.seatPositions=function(){var e={2:[new t(0,-300,0),new t(0,300,0)],3:[new t(-300,-200,0),new t(0,300,0),new t(300,-200,0)],4:[new t(-300,-200,0),new t(-300,200,0),new t(300,200,0),new t(300,-200,0)],5:[new t(-300,-220,0),new t(-320,100,0),new t(0,280,0),new t(320,100,0),new t(300,-220,0)],6:[new t(-320,-220,0),new t(-350,50,0),new t(-120,280,0),new t(120,280,0),new t(350,50,0),new t(320,-220,0)],7:[new t(-350,-220,0),new t(-380,0,0),new t(-200,250,0),new t(0,300,0),new t(200,250,0),new t(380,0,0),new t(350,-220,0)],8:[new t(-380,-220,0),new t(-420,-30,0),new t(-250,220,0),new t(-50,300,0),new t(50,300,0),new t(250,220,0),new t(420,-30,0),new t(380,-220,0)],9:[new t(-380,-220,0),new t(-420,-60,0),new t(-280,150,0),new t(-100,280,0),new t(0,300,0),new t(100,280,0),new t(280,150,0),new t(420,-60,0),new t(380,-220,0)]};return e},e.getMoneyType=function(e){switch(e){case r.CLUB:return"chipBlue";case r.FRIEND:return"chipRed";case r.NORMAL:default:return"xu"}},e.getMoneyName=function(e){switch(e){case"chipBlue":return"Chip Blue";case"chipRed":return"Chip Red";case"xu":default:return"Gold"}},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/Http.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"2219appHshD/7khDsc37EgL","Http",void 0),t("Api",function(){function t(){}return t.get=function(t,e){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==n.readyState&&n.status>=200&&n.status<400){var t=n.responseText;console.log("response"+t),e&&e(JSON.parse(t))}else console.log("Error")},n.open("GET",t,!0),n.send(),cc.log("URL",t)},t.post=function(t,e,n){var s=new XMLHttpRequest;s.open("POST",t,!0),s.onreadystatechange=function(){if(4==s.readyState&&s.status>=200&&s.status<400){var t=JSON.parse(s.responseText);cc.log(s.responseText),n&&n(t)}},s.onerror=function(t){console.log("post onerror",t),n&&n(null)},s.send(JSON.stringify(e)),console.log("URL",t,"SENT",e)},t.request=function(t,e,n,s){var o=new XMLHttpRequest;o.open(e,t,!0),o.onreadystatechange=function(){if(4==o.readyState&&o.status>=200&&o.status<400){var t=JSON.parse(o.responseText);s&&s(t)}},o.onerror=function(t){console.log("post onerror",t),s&&s(null)},o.send(JSON.stringify(n)),console.log("JSON.stringify(params)",JSON.stringify(n))},t}()).URL_API="https://apictyxssl.chanthieny.com/FbSolitaireGrand/",e._RF.pop()}}}));

System.register("chunks:///_virtual/Infotable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./DataManager.ts"],(function(t){var n,i,e,o,l,r,a,s,u,c,b,m;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){l=t.cclegacy,r=t._decorator,a=t.Label,s=t.tween,u=t.Vec3,c=t.Component},function(t){b=t.numberFormat},function(t){m=t.DataManager}],execute:function(){var f,d,g,h,p,B,v,y,P,D,_,I,N;l._RF.push({},"a95bd/j2UhHO4NW+JL75GHA","Infotable",void 0);var w=r.ccclass,A=r.property;t("infotable",(f=w("infotable"),d=A(a),g=A(a),h=A(a),p=A(a),B=A(a),f((P=n((y=function(t){function n(){for(var n,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return n=t.call.apply(t,[this].concat(l))||this,e(n,"lblBombPot",P,o(n)),e(n,"lblBlind",D,o(n)),e(n,"lblID",_,o(n)),e(n,"lblPot",I,o(n)),e(n,"game_bet",N,o(n)),n.minBlind=0,n.maxBlind=0,n.currentRoundName="",n}i(n,t);var l=n.prototype;return l.onEnable=function(){this.clearData(),m.instance.inGame.infoTable=this},l.start=function(){},l.onDisable=function(){this.clearData()},l.resetData=function(){this.lblPot.string="",this.game_bet.string=""},l.clearData=function(){this.lblBombPot.string="",this.lblBlind.string="",this.lblID.string="",this.lblPot.string="",this.game_bet.string=""},l.init=function(t){if(t.pot||t.game_bet){var n=b(t.pot),i=b(t.game_bet);this.lblPot.string=n,this.game_bet.string=i,console.log("data.roundName:",this.currentRoundName,t.roundName),this.currentRoundName=t.roundName,null!=t.nextRound&&t.nextRound&&this.moveAllChipsToPot()}else{var e=b(t.bombAmount),o=b(t.blind),l=b(2*t.blind);this.minBlind=o,this.lblBombPot.string="Bomb Pot: sau "+t.countBomb+" tay bài nữa ("+e+")",this.lblBlind.string="Blinds: "+o+"/"+l,this.lblID.string="ID: "+t.idTable}},l.moveAllChipsToPot=function(){var t=m.instance.inGame.player;t&&(Array.isArray(t)||(t=Object.values(t)),t.forEach((function(t){var n=t.coinBet.getPosition().clone(),i=t.coinBet.getWorldPosition(),e=m.instance.inGame.moneyRound.getWorldPosition(),o=t.coinBet;o.addChild(t.coinInfoNode),t.coinBet.setWorldPosition(i),s(t.coinBet).to(.5,{position:o.inverseTransformPoint(new u,e)},{easing:"sineOut"}).call((function(){var i=o.getChildByName("money");i&&(i.active=!1),t.coinInfoNode.active=!1,t.notice.active=!1,t.coinBet.setPosition(n)})).start(),setTimeout((function(){t.status.removeAllChildren()}),1500)})))},l.update=function(t){},n}(c)).prototype,"lblBombPot",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(y.prototype,"lblBlind",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(y.prototype,"lblID",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(y.prototype,"lblPot",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(y.prototype,"game_bet",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=y))||v));l._RF.pop()}}}));

System.register("chunks:///_virtual/InGameMenu.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts"],(function(n){var e,t,o,a,i;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,o=n._decorator,a=n.Component},function(n){i=n.DataManager}],execute:function(){var c;t._RF.push({},"5d8a242ZlxN1Kbmfzst0qUc","InGameMenu",void 0);var s=o.ccclass;o.property,n("InGameMenu",s("InGameMenu")(c=function(n){function t(){return n.apply(this,arguments)||this}e(t,n);var o=t.prototype;return o.onLoad=function(){i.instance.inGame.InGameMenu=this},o.onEnable=function(){console.log("onEnable get ingame menu")},o.btnClose=function(){console.log("btnClose:"),this.node.active=!0,i.instance.UIPokerGame.hideInGameMenu()},o.onNap=function(){console.log("toggleNap---"),this.btnClose(),i.instance.inGame.toggleNap()},o.onSetupTable=function(){this.btnClose(),i.instance.inGame.onOpenSettingTable()},o.onSetupTopic=function(){this.btnClose(),i.instance.inGame.onOpenSettingTopic()},o.onExit=function(){i.instance.inGame.backLobby()},o.onClickStandUp=function(){i.instance.wsClient.send({scene:"Poker",g:{poker:{stand:!0}}})},t}(a))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/JoinClub.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./NoticeManager.ts"],(function(n){var e,i,t,o,u,l,a,r,c,s,b,p,d;return{setters:[function(n){e=n.applyDecoratedDescriptor,i=n.inheritsLoose,t=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){u=n.cclegacy,l=n._decorator,a=n.Label,r=n.EditBox,c=n.Button,s=n.Node,b=n.Component},function(n){p=n.DataManager},function(n){d=n.NoticeManager}],execute:function(){var f,C,g,h,m,y,I,v,J,w,L;u._RF.push({},"1cc7fCXn/5OZoQ3+ThaB2GF","JoinClub",void 0);var B=l.ccclass,N=l.property;n("JoinClub",(f=B("JoinClub"),C=N(a),g=N(r),h=N(c),m=N(s),f((v=e((I=function(n){function e(){for(var e,i=arguments.length,u=new Array(i),l=0;l<i;l++)u[l]=arguments[l];return e=n.call.apply(n,[this].concat(u))||this,t(e,"clubNameLabel",v,o(e)),t(e,"usernameInput",J,o(e)),t(e,"joinButton",w,o(e)),t(e,"nodeJoinClub",L,o(e)),e.clubId="",e}i(e,n);var u=e.prototype;return u.onLoad=function(){this.joinButton.node.on(c.EventType.CLICK,this.onJoinClicked,this)},u.onEnable=function(){p.instance.inGame.joinClub=this},u.setClubInfo=function(n){console.log("setClubInfo id",n.id),this.clubId=n.id,this.clubNameLabel.string="Tên Club: "+n.name},u.onJoinClicked=function(){var n=this.usernameInput.string.trim();n?(console.log("this.clubId:",this.clubId),p.instance.wsClient.send({scene:"Club",g:{club:{requestJoin:!0,clubId:this.clubId,username:n,nameclub:this.clubNameLabel.string}}})):console.warn("Vui lòng nhập tên người dùng!")},u.onData=function(n){n.success&&(d.instance.show("Join Club Success,please watting approved"),p.instance.inGame.findClub.nodeFindClub.active=!0,p.instance.inGame.joinClub.nodeJoinClub.active=!1)},e}(b)).prototype,"clubNameLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(I.prototype,"usernameInput",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(I.prototype,"joinButton",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(I.prototype,"nodeJoinClub",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=I))||y));u._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageData.ts",["cc"],(function(e){var n,a;return{setters:[function(e){n=e.cclegacy,a=e.director}],execute:function(){e({init:t,t:function(e){var n=window;if(!n.languages)return e;for(var a=e.split("."),t=n.languages[r],u=0;u<a.length;u++)if(!(t=t[a[u]]))return"";return t||""},updateSceneRenderers:u}),n._RF.push({},"b3f01X4Ik5LEbIPKXZr3JWD","LanguageData",void 0);var r=e("_language","zh");e("ready",!1);function t(n){e("ready",!0),r=e("_language",n)}function u(){for(var e=a.getScene().children,n=[],r=0;r<e.length;++r){var t=e[r].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(n,t)}for(var u=0;u<n.length;++u){var i=n[u];i.node.active&&i.updateLabel()}for(var o=[],g=0;g<e.length;++g){var c=e[g].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(o,c)}for(var l=0;l<o.length;++l){var p=o[l];p.node.active&&p.updateSprite()}}window._languageData={get language(){return r},init:function(e){t(e)},updateSceneRenderers:function(){u()}},n._RF.pop()}}}));

System.register("chunks:///_virtual/LayoutCustom.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,o,r,a,u,p,s,h,c,l,y,g,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,u=t.v3,p=t.Enum,s=t.CCBoolean,h=t.CCInteger,c=t.UITransform,l=t.Vec3,y=t.tween,g=t.Size,d=t.Component}],execute:function(){var L,f,b,m,I,R,v,C,O,w,z,T,A,N,E,D,S,H,G,Z,V,P,Y;r._RF.push({},"b7397OGl+xI8Y6LYa9IkRdB","LayoutCustom",void 0);var B=a.ccclass,X=a.property,x=t("Direction",function(t){return t[t.NONE=0]="NONE",t[t.HORIZOLTAL=1]="HORIZOLTAL",t[t.VERTICAL=2]="VERTICAL",t[t.GRID=3]="GRID",t}({})),M=t("Mode",function(t){return t[t.NONE=0]="NONE",t[t.CONTAINER=1]="CONTAINER",t}({})),_=[],F=u();u();p(x),p(M);t("LayoutCustom",(L=B("LayoutCustom"),f=X({type:x}),b=X({type:M}),m=X({type:s}),I=X({type:h,visible:function(){return this.typeLayout==x.HORIZOLTAL||this.typeLayout==x.GRID}}),R=X({type:h,visible:function(){return this.typeLayout==x.HORIZOLTAL||this.typeLayout==x.GRID}}),v=X({type:h,visible:function(){return this.typeLayout==x.VERTICAL||this.typeLayout==x.GRID}}),C=X({type:h,visible:function(){return this.typeLayout==x.VERTICAL||this.typeLayout==x.GRID}}),O=X({type:h,visible:function(){return this.typeLayout==x.HORIZOLTAL||this.typeLayout==x.GRID}}),w=X({type:h,visible:function(){return this.typeLayout==x.VERTICAL||this.typeLayout==x.GRID}}),z=X({type:h}),L((N=e((A=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"typeLayout",N,o(e)),n(e,"mode",E,o(e)),n(e,"align",D,o(e)),n(e,"paddingLeft",S,o(e)),n(e,"paddingRight",H,o(e)),n(e,"paddingTop",G,o(e)),n(e,"paddingBot",Z,o(e)),n(e,"spacingX",V,o(e)),n(e,"spacingY",P,o(e)),n(e,"moveDuration",Y,o(e)),e}i(e,t);var r=e.prototype;return r.AddItemAt=function(t,e){this.InsertNode(t,e),this.mode==M.CONTAINER&&this.updateContensize(),this.updateLayout()},r.updateLayout=function(){var t=this.node.children;if(0!==t.length){var e=this.typeLayout===x.HORIZOLTAL,i=t.filter((function(t){return t.active})).length;if(e){var n=(Math.max(3,Math.min(i,16))-3)/13;this.spacingX=-10-50*n}for(var o=e?this.spacingX:this.spacingY,r=this.node.getComponent(c),a=r.anchorPoint,u=r.contentSize,p=-u.width*a.x,s=-u.height*a.y,h=0,g=t.filter((function(t){return t.active})),d=0;d<g.length;d++){var L=g[d].getComponent(c);h+=e?L.contentSize.width:L.contentSize.height}for(var f=-(h+=o*(g.length-1))/2,b=0;b<g.length;b++){var m=g[b],I=m.getComponent(c).contentSize,R=I.width/2,v=I.height/2,C=void 0;e?(C=new l(p+u.width/2+f+R,s+u.height/2,0),f+=I.width+o):(C=new l(p+u.width/2,s+u.height/2+f+v,0),f+=I.height+o),y(m).to(this.moveDuration,{position:C},{easing:"cubicOut"}).start()}}},r.updateContensize=function(){var t=0,e=0;_=this.node.children;for(var i=0;i<_.length;i++){var n=_[i].getComponent(c);this.typeLayout===x.HORIZOLTAL&&(t+=n.contentSize.width+this.spacingX),this.typeLayout===x.VERTICAL&&(e+=n.contentSize.height+this.spacingY)}this.typeLayout===x.HORIZOLTAL&&(t=t+this.paddingLeft+this.paddingRight-this.spacingX,e=this.node.getComponent(c).contentSize.height),this.typeLayout===x.VERTICAL&&(e=e+this.paddingBot+this.paddingTop-this.spacingY,t=this.node.getComponent(c).contentSize.width),this.node.getComponent(c).setContentSize(new g(t,e))},r.InsertNode=function(t,e){F=t.getWorldPosition().clone(),null!=t.parent?t.removeFromParent():F=this.node.worldPosition,this.node.insertChild(t,e),t.setWorldPosition(F)},e}(d)).prototype,"typeLayout",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x.HORIZOLTAL}}),E=e(A.prototype,"mode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.NONE}}),D=e(A.prototype,"align",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(A.prototype,"paddingLeft",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),H=e(A.prototype,"paddingRight",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=e(A.prototype,"paddingTop",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Z=e(A.prototype,"paddingBot",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),V=e(A.prototype,"spacingX",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=e(A.prototype,"spacingY",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Y=e(A.prototype,"moveDuration",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=A))||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,i,n,o,a,s,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Label,c=t.Component}],execute:function(){var l,u,f,p,h;o._RF.push({},"38211rLw09HSruP8FiwaMvG","LoadingEffect",void 0);var d=a.ccclass,g=a.property;t("LoadingEffect",(l=d("LoadingEffect"),u=g(s),l((h=e((p=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"label",h,n(e)),e.loadingText="Loading",e.maxDots=3,e.currentDots=0,e}r(e,t);var o=e.prototype;return o.start=function(){this.schedule(this.updateDots,.5)},o.updateDots=function(){if(this.label){this.currentDots=(this.currentDots+1)%(this.maxDots+1);var t=".".repeat(this.currentDots);this.label.string=""+this.loadingText+t}},e}(c)).prototype,"label",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=p))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/LoadMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./eventManager.ts","./Enum.ts","./ResourceManager.ts","./BaseControll.ts","./NoticeManager.ts","./LanguageData.ts","./ToastManager.ts"],(function(e){var n,t,a,i,o,r,l,u,c,s,h,d,m,b,f,g,I,U,C,p,y,v,T;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){l=e.cclegacy,u=e._decorator,c=e.Prefab,s=e.Node,h=e.SystemEvent,d=e.Component,m=e.instantiate},function(e){b=e.DataManager},function(e){f=e.eventManager},function(e){g=e.CURRENT_SCENCE,I=e.ENUM_RESOURCE_TYPE},function(e){U=e.default},function(e){C=e.default},function(e){p=e.NoticeManager},function(e){y=e.init,v=e.updateSceneRenderers},function(e){T=e.default}],execute:function(){var M,L,w,B,N,z,k,P,E,D,G,S,_,A,R,x,O,X,H,F,K,Y,j,J,W,Z,q,Q,V,$,ee,ne,te,ae,ie,oe,re,le,ue,ce,se;l._RF.push({},"ad4d6XxoZBFuaGFJHtsi1Ff","LoadMain",void 0);var he=u.ccclass,de=u.property;e("LoadMain",(M=he("LoadMain"),L=de(c),w=de(c),B=de(c),N=de(c),z=de(c),k=de(c),P=de(c),E=de(c),D=de(c),G=de(c),S=de(c),_=de(c),A=de(c),R=de(c),x=de(c),O=de(c),X=de(c),H=de(s),F=de(c),M((j=n((Y=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return n=e.call.apply(e,[this].concat(o))||this,a(n,"loading",j,i(n)),a(n,"game",J,i(n)),a(n,"lobby",W,i(n)),a(n,"loginUI",Z,i(n)),a(n,"PokerLobbyUI",q,i(n)),a(n,"ClubUI",Q,i(n)),a(n,"creatorClubUI",V,i(n)),a(n,"UIClubManager",$,i(n)),a(n,"UICalculator",ee,i(n)),a(n,"UIPractice",ne,i(n)),a(n,"UIMessage",te,i(n)),a(n,"UICareerHistory",ae,i(n)),a(n,"UIShop",ie,i(n)),a(n,"UIProfile",oe,i(n)),a(n,"UIMenuGame",re,i(n)),a(n,"UICreateTable",le,i(n)),a(n,"UIClubMember",ue,i(n)),a(n,"UILoading",ce,i(n)),a(n,"UIGameBXX",se,i(n)),n}t(n,e);var l=n.prototype;return l.onLoad=function(){this.node.on(h.EventType.KEY_DOWN,this.catchBack,this),this.loadUI(),this.getSocket(),b.instance.LoadMain=this,b.instance.restore(),y(b.instance.languages),v()},l.getSocket=function(){var e=o(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b.instance.wsClient=C,b.instance.wsClient.reconnect(),e.next=4,this.getData();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.getData=function(){var e=o(r().mark((function e(){var n,t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("load resource"),e.t0=r().keys(I);case 2:if((e.t1=e.t0()).done){e.next=9;break}return n=e.t1.value,t=I[n],e.next=7,U.instance.loadRes(t);case 7:e.next=2;break;case 9:localStorage.getItem("username")&&b.instance.userData?f.dispatchEvent("ThemeLobby"):f.dispatchEvent("ThemeLogin"),this.hideUILoading();case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.catchBack=function(e){console.log(e.keyCode)},l.loadUI=function(){var e=o(r().mark((function e(){var n,t,a,i,o,l,u,c,s,h,d,b,g,I,U,C,p,y,v=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=m(this.lobby)).name="lobby",(t=m(this.loading)).name="loading",(a=m(this.PokerLobbyUI)).name="PokerLobby",(i=m(this.loginUI)).name="login",(o=m(this.UIGameBXX)).name="gamebxx",(l=m(this.game)).name="game",(u=m(this.creatorClubUI)).name="creatorClub",(c=m(this.ClubUI)).name="ClubUI",(s=m(this.UIClubManager)).name="UIClubManager",(h=m(this.UICalculator)).name="UICalculator",(d=m(this.UIPractice)).name="UIPractice",(b=m(this.UIMessage)).name="UIMessage",(g=m(this.UICareerHistory)).name="UICareerHistory",(I=m(this.UIShop)).name="UIShop",(U=m(this.UIProfile)).name="UIProfile",(C=m(this.UIMenuGame)).name="UIMenuGame",(p=m(this.UICreateTable)).name="UICreateTable",(y=m(this.UIClubMember)).name="UIClubMember",this.node.getChildByName("UI").addChild(n),this.node.getChildByName("UI").addChild(l),this.node.getChildByName("UI").addChild(t),this.node.getChildByName("UI").addChild(i),this.node.getChildByName("UI").addChild(a),this.node.getChildByName("UI").addChild(u),this.node.getChildByName("UI").addChild(c),this.node.getChildByName("UI").addChild(s),this.node.getChildByName("UI").addChild(h),this.node.getChildByName("UI").addChild(d),this.node.getChildByName("UI").addChild(b),this.node.getChildByName("UI").addChild(g),this.node.getChildByName("UI").addChild(I),this.node.getChildByName("UI").addChild(U),this.node.getChildByName("UI").addChild(C),this.node.getChildByName("UI").addChild(p),this.node.getChildByName("UI").addChild(y),this.node.getChildByName("UI").addChild(o),f.on("ThemeLoading",(function(){v.activeTheme(t.name)}),this),f.on("ThemeLobby",(function(){v.activeTheme(n.name)}),this),f.on("ThemeGame",(function(){v.activeTheme(l.name)}),this),f.on("ThemeLogin",(function(){v.activeTheme(i.name)}),this),f.on("ThemePokerLobby",(function(){v.activeTheme(a.name)}),this),f.on("creatorClub",(function(){v.activeTheme(u.name)}),this),f.on("ThemeClub",(function(){v.activeTheme(c.name)}),this),f.on("ThemeClubManager",(function(){v.activeTheme(s.name)}),this),f.on("ThemeCalculator",(function(){v.activeTheme(h.name)}),this),f.on("ThemePractice",(function(){v.activeTheme(d.name)}),this),f.on("ThemeMessage",(function(){v.activeTheme(b.name)}),this),f.on("ThemeCareer",(function(){v.activeTheme(g.name)}),this),f.on("ThemeShop",(function(){v.activeTheme(I.name)}),this),f.on("ThemeProfile",(function(){v.activeTheme(U.name)}),this),f.on("ThemeMenuGame",(function(){v.activeTheme(C.name)}),this),f.on("ThemeCreatorTable",(function(){v.activeTheme(p.name)}),this),f.on("ThemeClubMember",(function(){v.activeTheme(y.name)}),this);case 71:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.activeTheme=function(e){console.log("activeTheme",e),this.node.getChildByName("UI").children.forEach((function(n){n.active=!1,n.name===e&&(n.active=!0)}))},l.start=function(){var e=this.node.getChildByName("NoticeLayer");new p(e)},l.onData=function(e){switch(console.log("ondata MainGame ",e),void 0!==e.unauth&&this.unAuthorized(e.unauth),void 0!==e.Authorized&&this.AuthorizedOK(e.Authorized,e.user),e.user,(e.toGame||e.UIPokerLobby)&&b.instance.UIPokerLobby.onData(e),b.instance.CurrentScence){case g.UIPOKER_GAME:b.instance.UIPokerGame.onData(e);break;case g.UILOBBY:b.instance.UILobby.onData(e);break;case g.UI_CLUB_MANAGER:b.instance.UIClubManager.onData(e);break;case g.UILOGIN:b.instance.inGame.onData(e);break;case g.UI_PRACTICE:break;default:b.instance.userData&&b.instance.inGame.onData(e)}e.notice&&(e.notice.load&&f.dispatchEvent("ThemeLobby"),T.instance.show(e.notice.text)),e.room_invalid&&this.pingpong(e.room_invalid)},l.onSocketClose=function(e){console.log("ondata MainGame ",e),f.dispatchEvent("ThemeLogin")},l.unAuthorized=function(e){console.log("unAuthorized----:")},l.AuthorizedOK=function(e,n){console.log("Authorized-----:",e),e?(b.instance.userData=n,console.log("DataManager.instance.data:",b.instance.userData),b.instance.UILobby&&b.instance.UILobby.setInfo(),f.dispatchEvent("ThemeLobby")):b.instance.UILogin.onShowSignName()},l.hideUILoading=function(){this.UILoading.active=!1},l.pingpong=function(e){e.invalid||(console.warn("❌ Phòng đã bị huỷ hoặc không còn"),f.dispatchEvent("ThemeLobby"))},l.update=function(e){},n}(d)).prototype,"loading",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=n(Y.prototype,"game",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(Y.prototype,"lobby",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=n(Y.prototype,"loginUI",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=n(Y.prototype,"PokerLobbyUI",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=n(Y.prototype,"ClubUI",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=n(Y.prototype,"creatorClubUI",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=n(Y.prototype,"UIClubManager",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=n(Y.prototype,"UICalculator",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=n(Y.prototype,"UIPractice",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=n(Y.prototype,"UIMessage",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=n(Y.prototype,"UICareerHistory",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=n(Y.prototype,"UIShop",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=n(Y.prototype,"UIProfile",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=n(Y.prototype,"UIMenuGame",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=n(Y.prototype,"UICreateTable",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=n(Y.prototype,"UIClubMember",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=n(Y.prototype,"UILoading",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=n(Y.prototype,"UIGameBXX",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=Y))||K));l._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizedLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageData.ts"],(function(e){var t,i,r,n,o,a,l,c,s,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,l=e._decorator,c=e.Component},function(e){s=e.ready,u=e.init,p=e.t}],execute:function(){var y,d,b,f,h,L;a._RF.push({},"edf98QH2D1AUoCrtQlbxFrU","LocalizedLabel",void 0);var g=l.ccclass,v=l.property,k=l.executeInEditMode;e("LocalizedLabel",(y=g("LocalizedLabel"),d=v({visible:!1}),b=v({displayName:"Key",visible:!0}),y(f=k((L=t((h=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))||this).label=null,r(t,"key",L,n(t)),t}i(t,e);var a=t.prototype;return a.onLoad=function(){s||u("zh"),this.fetchRender()},a.fetchRender=function(){var e=this.getComponent("cc.Label");if(e)return this.label=e,void this.updateLabel()},a.updateLabel=function(){this.label&&(this.label.string=p(this.key))},o(t,[{key:"_key",get:function(){return this.key},set:function(e){this.updateLabel(),this.key=e}}]),t}(c)).prototype,"key",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),t(h.prototype,"_key",[b],Object.getOwnPropertyDescriptor(h.prototype,"_key"),h.prototype),f=h))||f)||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizedSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageData.ts"],(function(e){var t,i,r,n,a,o,p,s,c,u,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,r=e.inheritsLoose,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,p=e.SpriteFrame,s=e.Component},function(e){c=e.ready,u=e.init,l=e._language}],execute:function(){var f,h,d,g,y,z,L,m,b,v,S;a._RF.push({},"c05c25C4xNAupWYMB93tIzp","LocalizedSprite",void 0);var F=o.ccclass,_=o.property,w=o.executeInEditMode,D=(f=F("LocalizedSpriteItem"),h=_({type:p}),f((y=t((g=function(){i(this,"language",y,this),i(this,"spriteFrame",z,this)}).prototype,"language",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"zh"}}),z=t(g.prototype,"spriteFrame",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=g))||d);e("LocalizedSprite",(L=F("LocalizedSprite"),m=_({type:D}),L(b=w((S=t((v=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).sprite=null,i(t,"spriteList",S,n(t)),t}r(t,e);var a=t.prototype;return a.onLoad=function(){c||u("zh"),this.fetchRender()},a.fetchRender=function(){var e=this.getComponent("cc.Sprite");if(e)return this.sprite=e,void this.updateSprite()},a.updateSprite=function(){for(var e=0;e<this.spriteList.length;e++){var t=this.spriteList[e];if(t.language===l){this.sprite.spriteFrame=t.spriteFrame;break}}},t}(s)).prototype,"spriteList",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=v))||b)||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/MadCarManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts"],(function(n){var a,e,t,r,s;return{setters:[function(n){a=n.createClass,e=n.asyncToGenerator,t=n.regeneratorRuntime},function(n){r=n.cclegacy},function(n){s=n.DataManager}],execute:function(){r._RF.push({},"529abtps/dBgqBp5X9LLY+2","MadCarManager",void 0),n("default",function(){function n(){}var r=n.prototype;return r.BuyCar=function(){var n=e(t().mark((function n(a){var e,r,c,o;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=s.instance.openid,r={data:{openid:e,type:"buycar"}},n.next=4,s.instance.wsClient.callApi("MadCar",r);case 4:c=n.sent,console.log("BuyCar rs:",c),o={status:!0,data:c.res,msg:""},a&&a(o);case 8:case"end":return n.stop()}}),n)})));return function(a){return n.apply(this,arguments)}}(),r.getMyMadCar=function(){var n=e(t().mark((function n(a){var e,r,c,o;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=s.instance.openid,r={data:{openid:e,type:"getMyMadCar"}},n.next=4,s.instance.wsClient.callApi("MadCar",r);case 4:c=n.sent,console.log("getMyMadCar rs:",c),o={status:!0,data:c.res,msg:""},a&&a(o);case 8:case"end":return n.stop()}}),n)})));return function(a){return n.apply(this,arguments)}}(),r.getMyMargeCar=function(){var n=e(t().mark((function n(a){var e,r,c,o;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=s.instance.openid,r={data:{openid:e,type:"getMyMargeCar"}},n.next=4,s.instance.wsClient.callApi("MadCar",r);case 4:c=n.sent,console.log("getMyMargeCar rs:",c),o={status:!0,data:c.res,msg:""},a&&a(o);case 8:case"end":return n.stop()}}),n)})));return function(a){return n.apply(this,arguments)}}(),r.BuyMarge=function(){var n=e(t().mark((function n(a){var e,r,c,o;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=s.instance.openid,r={data:{openid:e,type:"buymarge"}},n.next=4,s.instance.wsClient.callApi("MadCar",r);case 4:c=n.sent,console.log("BuyMarge rs:",c),o={status:!0,data:c.res,msg:""},a&&a(o);case 8:case"end":return n.stop()}}),n)})));return function(a){return n.apply(this,arguments)}}(),r.sellItem=function(){var n=e(t().mark((function n(a,e,r,c,o,i,u){var l,p,d,g;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("DataManager.instance.data.user",s.instance.data.user),l=s.instance.data.user.UID,console.log("DataManager.instance.data.UID ",s.instance.data.user.UID),console.log("type:",a),console.log("id:",e),p={data:{UID:l,type:a,id:e,carid:r,margeID:i,price:c,amount:o}},n.next=8,s.instance.wsClient.callApi("MadCar",p);case 8:d=n.sent,console.log("Buy rs:",d),g={status:!0,data:d.res,msg:""},u&&u(g);case 12:case"end":return n.stop()}}),n)})));return function(a,e,t,r,s,c,o){return n.apply(this,arguments)}}(),r.margeToCar=function(){var n=e(t().mark((function n(a,e,r){var c,o,i,u;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=s.instance.data.user.UID,console.log("DataManager.instance.data.UID ",s.instance.data.user.UID),o={data:{UID:c,type:a,marges:e}},console.log("paramsmeme:",o),n.next=6,s.instance.wsClient.callApi("MadCar",o);case 6:i=n.sent,console.log("Buy rs:",i),u={status:!0,data:i.res,msg:""},r&&r(u);case 10:case"end":return n.stop()}}),n)})));return function(a,e,t){return n.apply(this,arguments)}}(),a(n,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new n),this._instance}}]),n}())._instance=null,r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./telegram-web.ts","./CardBxx.ts","./CardSlot.ts","./CheckCard.ts","./GameBXX.ts","./GameConstant.ts","./HandAnalyzer.ts","./OptionFantasy.ts","./PlayerBXX.ts","./BaseControll.ts","./CalCard.ts","./CalPlayer.ts","./ClubItem.ts","./ClubList.ts","./ClubMemberItem.ts","./ClubTableItem.ts","./FindClub.ts","./GameModeSetting.ts","./JoinClub.ts","./UIClubMemberDetail.ts","./UICreateTable.ts","./CashierRequestItem.ts","./ClubCashierUserItem.ts","./PopupCashierConfirm.ts","./Enum.ts","./LoadMain.ts","./MainCamera.ts","./Message_item.ts","./Calculator.ts","./Cards.ts","./FriendRoom.ts","./FriendRoomItem.ts","./InGameMenu.ts","./Infotable.ts","./MenuRoom.ts","./MenuRoomItem.ts","./Poker.ts","./PokerChat.ts","./PokerHistoryRealTime.ts","./PokerLogTable.ts","./PokerNapGame.ts","./PokerTo.ts","./PokerToPractice.ts","./Poker_Player.ts","./Poker_Player_Practice.ts","./Practice.ts","./CalendarPopup.ts","./CareerHistoryItem.ts","./PokerChatIcon.ts","./PokerChatItem.ts","./StatusLabel.ts","./playerInfo.ts","./PokerGameModeHandler.ts","./PokerGameModeUI.ts","./pokerSetupTopic.ts","./PokerSettingTable.ts","./PokerSettingTopic.ts","./PokerThemeItem.ts","./AvatarItem.ts","./PokerUserInfoPopup.ts","./ShopItem.ts","./DragAndDropHandler.ts","./EventHandlerList.ts","./LayoutCustom.ts","./SignName.ts","./SignUp.ts","./UICalculator.ts","./UICareerHistoryPanel.ts","./UIClub.ts","./UIClubCashier.ts","./UIClubManager.ts","./UIClubMember.ts","./UIConfirm.ts","./UICreateClub.ts","./UIGame.ts","./UIInvite.ts","./UILobby.ts","./UILogin.ts","./UIMenuGame.ts","./UIMessage.ts","./UIPokerLobby.ts","./UIPractice.ts","./UIProfile.ts","./UIShop.ts","./UIWallet.ts","./tip.ts","./BrowserUtil.ts","./CardGameCommon.ts","./CustomToggle.ts","./Helper.ts","./LoadingEffect.ts","./Notice.ts","./NoticeManager.ts","./PokerItemHistoryRealtime.ts","./PokerLogTableItem.ts","./PopupVideo.ts","./Utils.ts","./types.ts","./AudioManager.ts","./DataManager.ts","./EffectUIManager.ts","./MadCarManager.ts","./MarketManager.ts","./MissionManager.ts","./PoolManager.ts","./ResourceManager.ts","./SdkManager.ts","./ToastManager.ts","./eventManager.ts","./Http.ts","./NativeBridge.ts","./UIScrollControl.ts","./showavatar.ts","./ChoiceLanguage.ts","./DailyLogin.ts","./Mission.ts","./Mission_item.ts","./PokerNap.ts","./Settings.ts","./testHttp.ts","./testgame.ts","./MsgGameRefresh.ts","./PtlCmdCommon.ts","./PtlConnect.ts","./PtlConnectLeave.ts","./PtlGameSync.ts","./PtlGetinforUser.ts","./PtlLogin.ts","./PtlMadCar.ts","./PtlRankGet.ts","./PtlRankSet.ts","./PtlRefGet.ts","./PtlRefSet.ts","./PtlRoomCreate.ts","./PtlRoomGet.ts","./PtlRoomJoin.ts","./PtlRoomLeave.ts","./PtlSignup.ts","./PtlUpdatememeCoin.ts","./serviceProto.ts","./LanguageData.ts","./LocalizedLabel.ts","./LocalizedSprite.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts"],(function(a){var e,r,n,t,i,o,c,s,l;return{setters:[function(a){e=a.applyDecoratedDescriptor,r=a.inheritsLoose,n=a.initializerDefineProperty,t=a.assertThisInitialized},function(a){i=a.cclegacy,o=a._decorator,c=a.Camera,s=a.Component},function(a){l=a.DataManager}],execute:function(){var u,p,f,m,h;i._RF.push({},"33512KrdoJFdpQZ24SaSMhw","MainCamera",void 0);var y=o.ccclass,d=o.property;a("MainCamera",(u=y("MainCamera"),p=d(c),u((h=e((m=function(a){function e(){for(var e,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=a.call.apply(a,[this].concat(i))||this,n(e,"main",h,t(e)),e}return r(e,a),e.prototype.onLoad=function(){l.instance.camera=this},e}(s)).prototype,"main",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=m))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/MarketManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts"],(function(t){var n,e,a,r,s;return{setters:[function(t){n=t.createClass,e=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){s=t.DataManager}],execute:function(){r._RF.push({},"2d6e0uw3BhH5JEfbh16BCnn","MarketManager",void 0),t("default",function(){function t(){}var r=t.prototype;return r.getMarket=function(){var t=e(a().mark((function t(n,e,r){var c,u,i,o,l;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!s.instance.data||!s.instance.data.user){t.next=11;break}return c=s.instance.data.user.UID,u={data:{UID:c,type:n,page:e}},t.next=5,s.instance.wsClient.callApi("MadCar",u);case 5:i=t.sent,console.log("markets:",i),o={status:!0,data:i.res,msg:""},r&&r(o),t.next=13;break;case 11:l={status:!0,data:{},msg:""},r&&r(l);case 13:case"end":return t.stop()}}),t)})));return function(n,e,a){return t.apply(this,arguments)}}(),r.buyItem=function(){var t=e(a().mark((function t(n,e,r){var c,u,i,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=s.instance.data.user.UID,u={data:{UID:c,type:n,data:e}},t.next=4,s.instance.wsClient.callApi("MadCar",u);case 4:i=t.sent,o={status:!0,data:i.res,msg:""},r&&r(o);case 7:case"end":return t.stop()}}),t)})));return function(n,e,a){return t.apply(this,arguments)}}(),n(t,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new t),this._instance}}]),t}())._instance=null,r._RF.pop()}}}));

System.register("chunks:///_virtual/MenuRoom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MenuRoomItem.ts","./DataManager.ts","./AudioManager.ts"],(function(e){var n,o,t,i,a,r,c,u,l,s,p,m,f;return{setters:[function(e){n=e.applyDecoratedDescriptor,o=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,c=e.Prefab,u=e.Node,l=e.instantiate,s=e.Component},function(e){p=e.MenuRoomItem},function(e){m=e.DataManager},function(e){f=e.default}],execute:function(){var d,b,y,g,h,R,v;a._RF.push({},"7884cQRnlhKEJ+fuHAdx5ph","MenuRoom",void 0);var M=r.ccclass,I=r.property;e("MenuRoom",(d=M("MenuRoom"),b=I(c),y=I(u),d((R=n((h=function(e){function n(){for(var n,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return n=e.call.apply(e,[this].concat(a))||this,t(n,"roomItemPrefab",R,i(n)),t(n,"content",v,i(n)),n}o(n,e);var a=n.prototype;return a.onLoad=function(){m.instance.UIMenuRoom=this},a.onClickRoom=function(e){if(f.instance.playSound("click"),"BXX"!=m.instance.gameType){m.instance.UIPokerLobby.popupNap.getComponent("PokerNap").init(this,e),m.instance.UIPokerLobby.popupNap.active=!0}else{var n=e.fee.min;e.fee.min,e.fee.max;m.instance.wsClient.send({g:{poker:{gameType:m.instance.UIPokerLobby.gameType,reg:{red:!0,balans:n,auto:!0,dataRoom:e}}}})}},a.updateRooms=function(e){var n=this;this.content.removeAllChildren(),e.forEach((function(e){var o=l(n.roomItemPrefab);o.getComponent(p).init(e,(function(e){m.instance.UIMenuRoom.onClickRoom(e)})),n.content.addChild(o)}))},n}(s)).prototype,"roomItemPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=n(h.prototype,"content",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=h))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/MenuRoomItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./DataManager.ts","./Enum.ts","./ResourceManager.ts"],(function(e){var t,a,i,n,r,l,o,s,u,c,m,g,p,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,o=e.Sprite,s=e.Label,u=e.Node,c=e.Component},function(e){m=e.formatCurrency},function(e){g=e.DataManager},function(e){p=e.GAME_TYPE},function(e){b=e.default}],execute:function(){var f,h,d,_,y,L,v,M,N,S,D,R,F;r._RF.push({},"04939bjcVVKLJe2AtejJ4ln","MenuRoomItem",void 0);var k=l.ccclass,z=l.property;e("MenuRoomItem",(f=k("MenuRoomItem"),h=z(o),d=z(s),_=z(s),y=z(s),L=z(u),f((N=t((M=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,i(t,"gameName",N,n(t)),i(t,"blindsLabel",S,n(t)),i(t,"feeLabel",D,n(t)),i(t,"playersLabel",R,n(t)),i(t,"suggestedBadge",F,n(t)),t.roomData=void 0,t.callback=void 0,t}a(t,e);var r=t.prototype;return r.init=function(e,t){var a,i=g.instance.gameType;i==p.NLH?this.gameName.spriteFrame=b.instance.getSprite("game_table_logo_nlh"):i==p.SixPlus?this.gameName.spriteFrame=b.instance.getSprite("game_table_logo_6plus"):i==p.MBVN?this.gameName.spriteFrame=b.instance.getSprite("game_table_logo_maubinh"):i==p.PLO?this.gameName.spriteFrame=b.instance.getSprite("game_table_logo_plo"):i==p.OFC&&(this.gameName.spriteFrame=b.instance.getSprite("game_table_logo_ofc")),this.roomData=e,this.blindsLabel.string=m(e.blinds.min)+"/"+m(e.blinds.max),this.feeLabel.string=m(e.fee.min)+"-"+m(e.fee.max),this.playersLabel.string=e.players+"/6",this.suggestedBadge.active=null!=(a=e.isSuggestion)&&a,this.callback=t},r.onClickRoom=function(){var e;null==(e=this.callback)||e.call(this,this.roomData)},r.onClickRoomSuggest=function(){var e;null==(e=this.callback)||e.call(this,this.roomData)},t}(c)).prototype,"gameName",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(M.prototype,"blindsLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(M.prototype,"feeLabel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(M.prototype,"playersLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(M.prototype,"suggestedBadge",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=M))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/Message_item.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,r,o,l,a,u,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.Node,u=e.Label,c=e.Component}],execute:function(){var s,p,f,b,g,d,m,y,h,v,_;o._RF.push({},"dd3f87c5x5Bf4qTxmvDg7wK","Message_item",void 0);var w=l.ccclass,z=l.property;e("Message_item",(s=w("Message_item"),p=z(a),f=z(a),b=z(u),g=z(u),s((y=t((m=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(t,"dot",y,r(t)),n(t,"bg",h,r(t)),n(t,"title",v,r(t)),n(t,"time",_,r(t)),t.message="",t.RedT=void 0,t}i(t,e);var o=t.prototype;return o.init=function(e){this.RedT=e},o.onClick=function(){this.RedT.onContentClick(this)},t}(c)).prototype,"dot",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=t(m.prototype,"bg",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(m.prototype,"title",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(m.prototype,"time",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=m))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/Mission_item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Helper.ts","./AudioManager.ts","./DataManager.ts","./NoticeManager.ts"],(function(n){var i,t,e,o,r,s,u,a,h,l,c,g;return{setters:[function(n){i=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,s=n._decorator,u=n.Label,a=n.Component},function(n){h=n.Helper},function(n){l=n.default},function(n){c=n.DataManager},function(n){g=n.NoticeManager}],execute:function(){var p,d,f,m,b,y,k,v,M,C,_;r._RF.push({},"a9816qXhWtN640ue+LuXBK7","Mission_item",void 0);var w=s.ccclass,D=s.property;n("Mission_Item",(p=w("Mission_Item"),d=D(u),f=D(u),m=D(u),b=D(u),p((v=i((k=function(n){function i(){for(var i,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return i=n.call.apply(n,[this].concat(r))||this,e(i,"tenNv",v,o(i)),e(i,"noidung",M,o(i)),e(i,"tientrinh",C,o(i)),e(i,"phanthuong",_,o(i)),i.dieukien="",i.tiendo="",i.ID="",i.testphanthuong="",i.info="",i.controll=null,i}t(i,n);var r=i.prototype;return r.init=function(n,i,t){this.controll=n,this.info=i,this.dieukien=i.dieukien,this.testphanthuong=i.phanthuong,this.tiendo=t.userInfo.tWinRed,this.tenNv.string=i.tennv,this.noidung.string=i.noidung,this.ID=i.id,this.phanthuong.string=h.numberWithCommas(this.testphanthuong),this.tiendo>this.dieukien?this.tientrinh.string="("+h.numberWithCommas(this.dieukien)+"/"+h.numberWithCommas(this.dieukien)+")":this.tientrinh.string="("+h.numberWithCommas(this.tiendo)+"/"+h.numberWithCommas(this.dieukien)+")",console.log("this.tientrinh.string:",this.tientrinh.string)},r.onNhanThuong=function(){l.instance.playSound("click"),this.tiendo<this.dieukien?g.instance.show("Chưa đủ điều kiện để nhận thưởng"):c.instance.wsClient.send({nhanthuong:this.info})},i}(a)).prototype,"tenNv",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(k.prototype,"noidung",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(k.prototype,"tientrinh",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=i(k.prototype,"phanthuong",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=k))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/Mission.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./Mission_item.ts"],(function(n){var i,e,t,o,a,s,r,c,l,u,p,b;return{setters:[function(n){i=n.applyDecoratedDescriptor,e=n.inheritsLoose,t=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){a=n.cclegacy,s=n._decorator,r=n.Node,c=n.Prefab,l=n.instantiate,u=n.Component},function(n){p=n.DataManager},function(n){b=n.Mission_Item}],execute:function(){var f,h,m,d,y,g,v,L,M;a._RF.push({},"a58f7fWmpRGy6UhVc09PxPB","Mission",void 0);var I=s.ccclass,D=s.property;n("Mission",(f=I("Mission"),h=D(r),m=D([r]),d=D(c),f((v=i((g=function(n){function i(){for(var i,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return i=n.call.apply(n,[this].concat(a))||this,t(i,"content",v,o(i)),t(i,"checkDaiLy",L,o(i)),t(i,"prefabMisionItem",M,o(i)),i.page="",i.isLoaded=!1,i}e(i,n);var a=i.prototype;return a.init=function(n){this.isLoaded=!1,this.page=n.page},a.onLoad=function(){console.log("onload mission"),p.instance.MissionObj=this,p.instance.inGame=this},a.onEnable=function(){p.instance.inGame=this},a.onNhiemVu=function(n){var i=this;this.content.removeAllChildren(),n&&n.dataNhiemVu&&n.dataNhiemVu.forEach((function(e){var t=l(i.prefabMisionItem);t.getComponent(b).init(i,e,n),i.content.addChild(t)}))},a.onData=function(n){console.log(n),this.isLoaded=!0,n.nhiemvu&&(n=n.nhiemvu),this.onNhiemVu(n)},a.onBack=function(){"lobby"==this.page?p.instance.UILobby.btnCloseission():"polerLobby"==this.page?p.instance.UIPokerLobby.btnCloseission():(p.instance.UIPokerLobby.missionNode.active=!1,p.instance.UIPokerLobby.mainLobby.active=!0)},i}(u)).prototype,"content",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(g.prototype,"checkDaiLy",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=i(g.prototype,"prefabMisionItem",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=g))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/MissionManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts"],(function(n){var e,t,s,i,a;return{setters:[function(n){e=n.createClass,t=n.asyncToGenerator,s=n.regeneratorRuntime},function(n){i=n.cclegacy},function(n){a=n.DataManager}],execute:function(){i._RF.push({},"76b8eQJYvxLybWP3CjGfol6","MissionManager",void 0),n("default",function(){function n(){}return n.prototype.updateMission=function(){var n=t(s().mark((function n(e,t){var i,o,r,c;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=a.instance.openid,console.log("_mission",e),o={openid:i,type:"updateMission",content:{mission:e}},n.next=5,a.instance.wsClient.callApi("CmdCommon",o);case 5:r=n.sent,console.log("updateMission rs:",r),c={status:!0,data:r.res,msg:""},t&&t(c);case 9:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),e(n,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new n),this._instance}}]),n}())._instance=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/MsgGameRefresh.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"02cc4wP+LVMKqFP1Bfg/7I6","MsgGameRefresh",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/NativeBridge.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(c){var t,n,e,s;return{setters:[function(c){t=c.createClass,n=c.asyncToGenerator,e=c.regeneratorRuntime},function(c){s=c.cclegacy}],execute:function(){s._RF.push({},"e0142IDZlxGeatUN9H67bLK","NativeBridge",void 0);var a={BANNER:"1809984726087823_1829124580840504",INTERSTITIAL:"1809984726087823_1829124687507160",REWARDEDVIDEO:"1809984726087823_1829124764173819"},o={BANNER:"IMG_16_9_APP_INSTALL#YOUR_PLACEMENT_ID",INTERSTITIAL:"IMG_16_9_APP_INSTALL#YOUR_PLACEMENT_ID",REWARDEDVIDEO:"YOUR_PLACEMENT_ID"};c("NativeBridge",function(){function c(){this.androidActivity="org/cocos2dx/javascript/AppActivity",this.funcAny=void 0,this.interstital=void 0,this.banner=void 0,this.reward=void 0,this.placementId=void 0,this.funcLoginAny=void 0}c.showBannerTop=function(){console.log("showBannerTop ------"+c.Instance.placementId.BANNER),cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(c.Instance.androidActivity,"showBannerTop","(Ljava/lang/String;)V","showBannerTop"):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AdmobManger","ShowBannerAd")},c.removeBannerTop=function(){console.log("removeBannerTop ------"),c.Instance.banner.destroy()},c.showInterstitialNative=function(){console.log("showInterstitialNative ------"),cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(c.Instance.androidActivity,"showInterstitial","(Ljava/lang/String;)V","showInterstitial"):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AdmobManger","ShowInterstitialAd")},c.showRewardedNative=function(t){console.log("showRewardedNative ------"),c.Instance.funcAny=t,cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(c.Instance.androidActivity,"showRewarded","(Ljava/lang/String;)V","ShowRewardedAd"):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AdmobManger","ShowRewardedAd")};var s=c.prototype;return s.rewardCallback=function(t){console.log("rewardCallback: "+t),c.Instance.funcAny&&c.Instance.funcAny()},s.BuyProcuctSucessCallBack=function(c){console.log("BuyProcuctSucessCallBack: "+c),""!=c&&DataManager.instance.shopsItems.forEach((function(c){console.log("item---",c),DataManager.instance.currentActionIAP==c.id&&(cc.log("item.coin",c.coin),StaticInstance.menuLayerManger.sendUpdateMoney(!0,c.coin))}))},s.OnPayFail=function(c){console.log("OnPayFail: "+c)},c.listInAppNative=function(t){console.log("listInAppNative ------"),cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(c.Instance.androidActivity,"listInApp","(Ljava/lang/String;)V",t):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AdmobManger","listInApp",t)},c.buyInAppNative=function(t){console.log("buyInApp ------"),DataManager.instance.currentActionIAP=t,cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(c.Instance.androidActivity,"buyInApp","(Ljava/lang/String;)V",t):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AdmobManger","buyInApp")},s.getDeviceIDNative=function(){var t;return cc.sys.os==cc.sys.OS_ANDROID?t=jsb.reflection.callStaticMethod(c.Instance.androidActivity,"getDeviceID","()Ljava/lang/String;"):cc.sys.os==cc.sys.OS_IOS&&(t=jsb.reflection.callStaticMethod("AdmobManger","getDeviceID")),t},c.getVersionNative=function(){var t;return cc.sys.os==cc.sys.OS_ANDROID?t=jsb.reflection.callStaticMethod(c.Instance.androidActivity,"getVersionName","()Ljava/lang/String;"):cc.sys.os==cc.sys.OS_IOS&&(t=jsb.reflection.callStaticMethod("AdmobManger","getVersionName")),t},c.smsLogin=function(){cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(c.Instance.androidActivity,"phoneLogin","()V"):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AdmobManger","phoneLogin")},c.openURL=function(t){cc.sys.isBrowser?cc.sys.openURL(t):cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(c.Instance.androidActivity,"openNativeUrl","(Ljava/lang/String;)V",t):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AdmobManger","openNativeUrl:","http://www.facebook.com/")},c.isPackageInstalled=function(t){var n;return void 0===t&&(t=""),console.log("js isPackageInstalled packageName:"+t),cc.sys.os==cc.sys.OS_ANDROID?n=jsb.reflection.callStaticMethod(c.Instance.androidActivity,"isPackageInstalled","(Ljava/lang/String;)Ljava/lang/String;",t):cc.sys.os==cc.sys.OS_IOS&&(n=jsb.reflection.callStaticMethod("AdmobManger","isPackageInstalled:",JSON.stringify(t))),console.log("isPackageInstalled::",n),n="1"==n||1==n,n},c.getDeviceIDNative=function(){var t;return cc.sys.os==cc.sys.OS_ANDROID?t=jsb.reflection.callStaticMethod(c.Instance.androidActivity,"getDeviceID","()Ljava/lang/String;"):cc.sys.os==cc.sys.OS_IOS&&(t=jsb.reflection.callStaticMethod("AppController","getDeviceID")),t},c.getLanguage=function(){var t;return cc.sys.os==cc.sys.OS_ANDROID?t=jsb.reflection.callStaticMethod(c.Instance.androidActivity,"getLanguage","()Ljava/lang/String;"):cc.sys.os==cc.sys.OS_IOS&&(t=jsb.reflection.callStaticMethod("AppController","getLanguage")),t},s.playLoginAndroid=function(){var c=n(e().mark((function c(t){return e().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:console.log("playLoginAndroid",t);case 1:case"end":return c.stop()}}),c)})));return function(t){return c.apply(this,arguments)}}(),c.btnShareFB=function(){if(console.log("btnShareFB-----"),"undefined"!=typeof FBInstant);else if(cc.sys.os==cc.sys.OS_ANDROID){jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","shareData","(Ljava/lang/String;)V","Sudoku IQ FREE: https://play.google.com/store/apps/details?id=com.melysoft.games.ludo")}else cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AdmobManger","shareData")},t(c,null,[{key:"Instance",get:function(){return c._instance||(window.NativeBridge=new c,c._instance=new c,c.Instance.placementId=a,cc.sys.platform!==cc.sys.IPHONE&&cc.sys.platform!==cc.sys.IPAD||(c.Instance.placementId=o)),c._instance}}]),c}())._instance=null,s._RF.pop()}}}));

System.register("chunks:///_virtual/Notice.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./AudioManager.ts"],(function(t){var e,i,n,o,a,r,l,s,c,u,d,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,l=t.Node,s=t.Label,c=t.director,u=t.Component},function(t){d=t.DataManager},function(t){p=t.default}],execute:function(){var h,g,f,b,v,m,y,x,w,G,B,M,S;a._RF.push({},"58cefp5H4NF94yXi9Yv8PxK","Notice",void 0);var z=r.ccclass,D=r.property;t("Notice",(h=z("Notice"),g=D(l),f=D(l),b=D(s),v=D(s),m=D(s),h((w=e((x=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(e,"nodeButton",w,o(e)),n(e,"loading",G,o(e)),n(e,"title",B,o(e)),n(e,"text",M,o(e)),n(e,"button",S,o(e)),e.type="",e.timeOut=void 0,e}i(e,t);var a=e.prototype;return a.onDisable=function(){this.clean()},a.show=function(t){console.log("data notice:",t),this.node.active=!0,void 0!==t.load&&(d.instance.inGame.loading.active=!1),void 0!==t.title&&(this.title.string=t.title),void 0!==t.text&&(this.text.string=t.text),void 0!==t.button?(this.text.node.setPosition(this.text.node.position.x,8),this.type=t.button.type,this.button.string=t.button.text,this.nodeButton.active=!0):(this.nodeButton.active=!1,this.text.node.setPosition(this.text.node.position.x,-14))},a.close=function(){this.node.active=!1},a.onClickButton=function(){switch(p.instance.playSound("click"),this.type){case"sign_out":this.node.active=!1,d.instance.wsClient.send({user:{signOut:!0}}),d.instance.inGame.resetAuth(),setTimeout((function(){d.instance.wsClient.close()}),100);break;case"exit_game":this.loading.active=!0,void 0!==this.timeOut&&clearTimeout(this.timeOut),c.preloadScene("MainGame",(function(){c.loadScene("MainGame")})),this.node.active=!1;break;case"reg_otp":this.node.active=!1,null!=d.instance.inGame.dialog.objShow&&(d.instance.inGame.dialog.profile.node.previous=d.instance.inGame.dialog.objShow,d.instance.inGame.dialog.objShow.active=!1),d.instance.inGame.dialog.showProfile(null,"BaoMat"),d.instance.inGame.dialog.profile.BaoMat.onSelectHead(null,"DangKyOTP")}},a.clean=function(){this.title.string="",this.text.string="",this.button.string=""},e}(u)).prototype,"nodeButton",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(x.prototype,"loading",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(x.prototype,"title",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(x.prototype,"text",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(x.prototype,"button",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=x))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/NoticeManager.ts",["cc","./PoolManager.ts"],(function(t){var e,n,i;return{setters:[function(t){e=t.cclegacy,n=t.instantiate},function(t){i=t.default}],execute:function(){e._RF.push({},"77c0eW4/+VPn5PWFeogSAsU","NoticeManager",void 0),t("NoticeManager",function(){function t(e){this.noticeLayer=null,this.noticeLayer=e,t.instance=this}return t.prototype.show=function(t,e){void 0===e&&(e="Thông báo");var o=i.instance.getPrefab("notice"),c=n(o);this.noticeLayer.addChild(c),c.getComponent("Notice").show({title:e,text:t})},t}()).instance=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/OptionFantasy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameConstant.ts","./DataManager.ts"],(function(t){var n,a,e,i,o,r,s,c,p,u,l;return{setters:[function(t){n=t.applyDecoratedDescriptor,a=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,s=t.Enum,c=t.Input,p=t.Component},function(t){u=t.HAND_STRENGTH},function(t){l=t.DataManager}],execute:function(){var y,h,f,d,g;o._RF.push({},"8caac4YCEdPaZ4aamTkltru","OptionFantasy",void 0);var C=r.ccclass,v=r.property;s(u);t("OptionFantasy",(y=C("OptionFantasy"),h=v({type:u}),y((g=n((d=function(t){function n(){for(var n,a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return n=t.call.apply(t,[this].concat(o))||this,e(n,"typeOption",g,i(n)),n.cards=[],n}a(n,t);var o=n.prototype;return o.start=function(){this.node.on(c.EventType.TOUCH_START,this.onClick,this)},o.onClick=function(){console.log(this.cards),this.cards.length>0&&l.instance.UIBXXGame.ChooseOptionCard(this.cards)},n}(p)).prototype,"typeOption",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.HIGH_CARD}}),f=d))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerBXX.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardSlot.ts","./CardBxx.ts","./LayoutCustom.ts","./DataManager.ts"],(function(t){var e,n,r,a,i,o,l,s,c,u,d,h,p,C,f,y,g,m,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized,i=t.createForOfIteratorHelperLoose},function(t){o=t.cclegacy,l=t._decorator,s=t.Sprite,c=t.Label,u=t.Node,d=t.Prefab,h=t.instantiate,p=t.Tween,C=t.tween,f=t.Component},function(t){y=t.CardSlot},function(t){g=t.CardBxx},function(t){m=t.LayoutCustom},function(t){b=t.DataManager}],execute:function(){var v,S,w,D,z,N,P,T,I,G,R,F,A,E,H,X,B,U,L,x,k,M,O,_,j,q,J,K,Q,V,W,Y,Z,$,tt,et,nt,rt,at;o._RF.push({},"72b5a6of7BJHoh8CaMztXrk","PlayerBXX",void 0);var it=l.ccclass,ot=l.property;t("PlayerBXX",(v=it("PlayerBXX"),S=ot({type:s,group:{name:"INF"}}),w=ot({type:c,group:{name:"INF"}}),D=ot({type:c,group:{name:"INF"}}),z=ot({type:c,group:{name:"INF"}}),N=ot({type:[u],group:{name:"CARDS"}}),P=ot({type:u,group:{name:"CARDS"}}),T=ot({type:u,group:{name:"CARDS"}}),I=ot({type:d,group:{name:"Prefab"}}),G=ot({type:u}),R=ot({type:u}),F=ot({type:[g]}),A=ot(s),E=ot(u),H=ot(u),X=ot(c),B=ot(u),U=ot(u),L=ot(u),v((M=e((k=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,r(e,"avatar",M,a(e)),r(e,"level",O,a(e)),r(e,"nameUser",_,a(e)),r(e,"coin",j,a(e)),r(e,"cardGroups",q,a(e)),r(e,"handCards",J,a(e)),r(e,"discardedCards",K,a(e)),r(e,"cardSlotPrefab",Q,a(e)),e.cardSlotsPlayer=[],r(e,"inf",V,a(e)),r(e,"btnAddNode",W,a(e)),r(e,"playerCards",Y,a(e)),r(e,"timeTurn",Z,a(e)),r(e,"fantasyNode",$,a(e)),r(e,"statusChis",tt,a(e)),r(e,"lbTitle",et,a(e)),r(e,"errorChi",nt,a(e)),r(e,"successChi",rt,a(e)),r(e,"forceNode",at,a(e)),e.listDisCard=[],e.dataUser=null,e.HandStrengthNames=["","Mậu thầu","Một đôi","Hai đôi","Sám","Sảnh","Thùng","Cù lũ","Tứ quý","Thùng phá sảnh","Thùng phá sảnh lớn"],e}n(e,t);var o=e.prototype;return o.start=function(){this.init()},o.SetUp=function(t){this.dataUser=t,this.SetInf(),this.btnAddNode.active=!1,this.inf.active=!0},o.SetInf=function(){this.nameUser.string=this.dataUser.name},o.init=function(){this.SetcardSlotsPlayer(this.cardGroups[0]),this.SetcardSlotsPlayer(this.cardGroups[1]),this.SetcardSlotsPlayer(this.cardGroups[2])},o.AddCardSlotToNode=function(t,e,n){void 0===n&&(n=!1);for(var r=0;r<e;r++){var a=this.SpawnCardSlot();t.addChild(a),0==n&&this.cardSlotsPlayer.push(a),a.getComponent(y).isHandCard=n,a.getComponent(s).enabled=!1}},o.SetcardSlotsPlayer=function(t){for(var e=0;e<t.children.length;e++)this.cardSlotsPlayer.push(t.children[e])},o.SpawnCardSlot=function(){return h(this.cardSlotPrefab)},o.EnabledGroups=function(){},o.DisabledGroups=function(){this.cardGroups.forEach((function(t){t.active=!1}))},o.GetDataCardForGroup=function(t){var e=[];return t.children.forEach((function(t){var n=t.getComponent(y).cardConnect;null==n||e.push(n.DataCard)})),e},o.FindCard=function(t){for(var e=0;e<this.playerCards.length;e++)if(null!=this.playerCards[e].DataCard&&this.playerCards[e].DataCard.card==t.card&&this.playerCards[e].DataCard.type==t.type)return this.playerCards[e];return null},o.ResetCard=function(){this.playerCards.forEach((function(t){return t.RemoveCardSlot()}))},o.ResetCardSlot=function(){this.cardSlotsPlayer.forEach((function(t){return t.getComponent(y).Reset()}))},o.AddCardSlotToHand=function(t){this.AddCardSlotToNode(this.handCards,t,!0),this.handCards.getComponent(m).updateContensize(),this.handCards.getComponent(m).updateLayout(),this.handCards.active=!0},o.DestroyHandCard=function(){this.handCards.children.forEach((function(t){var e;null!=t.getComponent(y).cardConnect&&(null==(e=t.getComponent(y).cardConnect)||e.node.destroy(),t.getComponent(y).cardConnect=null)}))},o.SetPlayersCards=function(){for(var t,e=[].concat(this.cardGroups[0].getComponentsInChildren(y),this.cardGroups[1].getComponentsInChildren(y),this.cardGroups[2].getComponentsInChildren(y)),n=[],r=i(e);!(t=r()).done;){var a=t.value;a.cardConnect&&n.push(a.cardConnect)}this.playerCards=n},o.removePlayerCard=function(t){var e=this.playerCards.indexOf(t);-1!==e&&this.playerCards.splice(e,1)},o.FindDisCard=function(t){for(var e=0;e<this.handCards.children.length;e++){var n=this.handCards.children[e].getComponent(y).cardConnect;if(null!=(null==n?void 0:n.DataCard)&&(n.DataCard.card==t.card&&n.DataCard.type==t.type))return n}return null},o.ResetHandCardSlot=function(){this.handCards.children.forEach((function(t){return t.getComponent(y).Reset()}))},o.CoundownTimeTurn=function(t){p.stopAllByTarget(this.timeTurn),this.timeTurn.fillRange=1,C(this.timeTurn).to(t,{fillRange:0}).start()},o.StopCountDown=function(){p.stopAllByTarget(this.timeTurn),this.timeTurn.fillRange=0},o.playerShowFantasy=function(){this.fantasyNode&&(this.fantasyNode.active=!0)},o.GetDataCardInHand=function(){var t=[];return this.handCards.children.forEach((function(e){var n=e.getComponent(y);n.cardConnect&&t.push(n.cardConnect.DataCard)})),console.log(t),t},o.UpdateHand=function(){var t=this;this.handCards.children.forEach((function(t,e){null==t.getComponent(y).cardConnect?b.instance.UIBXXGame.uidFantady===b.instance.userData.id&&(t.active=!1):t.getComponent(y).cardConnect.node.setSiblingIndex(e+1)})),this.handCards.getComponent(m).updateContensize(),this.handCards.getComponent(m).updateLayout(),this.scheduleOnce((function(){t.handCards.children.forEach((function(t){null!=t.getComponent(y).cardConnect&&C(t.getComponent(y).cardConnect.node).to(.2,{worldPosition:t.worldPosition}).start()})),b.instance.UIBXXGame.SetOptionFantasy()}),.1)},o.Reset=function(){this.listDisCard=[],this.cardGroups.forEach((function(t){t.children.forEach((function(t){t.getComponent(y).Reset()}))})),this.handCards.destroyAllChildren(),this.discardedCards.destroyAllChildren(),this.fantasyNode&&(this.fantasyNode.active=!1),this.playerCards=[],this.statusChis.forEach((function(t){t.active=!1,t.getComponentInChildren(c).string=""}))},o.SetChi=function(t,e){if(null!=t&&0!=t.strength){e.active=!0;this.HandStrengthNames[t.strength];e.getComponentInChildren(c).string=this.HandStrengthNames[t.strength]}},o.SetTrueFalseChi=function(t){this.successChi[0].active=t.front,this.errorChi[0].active=!t.front,this.successChi[1].active=t.middle,this.errorChi[1].active=!t.middle,this.successChi[2].active=t.back,this.errorChi[2].active=!t.back},o.SetScoreChi=function(t,e){t.active=!0,e>0?t.getComponentInChildren(c).string="+"+e:e<0&&(t.getComponentInChildren(c).string=e+"")},o.CheckForce=function(t){0==t.front&&0==t.middle&&0==t.back?this.forceNode.active=!0:this.forceNode.active=!1},e}(f)).prototype,"avatar",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(k.prototype,"level",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(k.prototype,"nameUser",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(k.prototype,"coin",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(k.prototype,"cardGroups",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=e(k.prototype,"handCards",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(k.prototype,"discardedCards",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(k.prototype,"cardSlotPrefab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(k.prototype,"inf",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(k.prototype,"btnAddNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(k.prototype,"playerCards",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=e(k.prototype,"timeTurn",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(k.prototype,"fantasyNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=e(k.prototype,"statusChis",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),et=e(k.prototype,"lbTitle",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=e(k.prototype,"errorChi",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),rt=e(k.prototype,"successChi",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),at=e(k.prototype,"forceNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=k))||x));o._RF.pop()}}}));

System.register("chunks:///_virtual/playerInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts"],(function(e){var t,n,i,a,r,l,o,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,o=e.Label,c=e.Component},function(e){u=e.formatWithDot}],execute:function(){var b,p,s,f,y,L,g,h,m,v,d,z,w;r._RF.push({},"de8741OsWRKxLUNGvhpbMfs","playerInfo",void 0);var I=l.ccclass,D=l.property;e("playerInfo",(b=I("playerInfo"),p=D(o),s=D(o),f=D(o),y=D(o),L=D(o),b((m=t((h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,i(t,"typeLabel",m,a(t)),i(t,"nameLabel",v,a(t)),i(t,"actionLabel",d,a(t)),i(t,"betLabel",z,a(t)),i(t,"balanceLabel",w,a(t)),t}n(t,e);var r=t.prototype;return r.start=function(){},r.init=function(e){console.log("info:",e),this.typeLabel.string="#",this.nameLabel.string=e.name,this.actionLabel.string=e.action,this.betLabel.string=e.bet?u(e.bet):"",this.balanceLabel.string=e.balance?u(e.balance):""},r.update=function(e){},t}(c)).prototype,"typeLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(h.prototype,"nameLabel",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(h.prototype,"actionLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(h.prototype,"betLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(h.prototype,"balanceLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=h))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/Poker_Player_Practice.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Helper.ts","./DataManager.ts","./Utils.ts","./AudioManager.ts","./Enum.ts","./StatusLabel.ts"],(function(t){var e,i,n,o,r,a,s,l,u,c,h,d,f,p,m,g,v,b,y,P,w,C,S,B;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createForOfIteratorHelperLoose},function(t){a=t.cclegacy,s=t._decorator,l=t.Label,u=t.Node,c=t.ProgressBar,h=t.Sprite,d=t.Prefab,f=t.Vec3,p=t.tween,m=t.Color,g=t.instantiate,v=t.Component},function(t){b=t.Helper},function(t){y=t.DataManager},function(t){P=t.formatWithDot,w=t.formatNumber2},function(t){C=t.default},function(t){S=t.ENUM_PORKER_STATUS},function(t){B=t.StatusLabel}],execute:function(){var T,F,I,N,A,O,W,k,D,H,L,z,M,U,R,_,E,x,G,q,K,V,X,J,Q,j,Y,Z,$,tt,et,it,nt,ot,rt,at,st,lt,ut;a._RF.push({},"379fddlhbBFurhbZzSOJJRI","Poker_Player_Practice",void 0);var ct=s.ccclass,ht=s.property;t("Poker_Player_Practice",(T=ct("Poker_Player_Practice"),F=ht(l),I=ht(l),N=ht(l),A=ht(l),O=ht(u),W=ht(u),k=ht(u),D=ht(u),H=ht(c),L=ht(h),z=ht(h),M=ht([h]),U=ht(u),R=ht(u),_=ht(u),E=ht(u),x=ht(u),G=ht(d),T((V=e((K=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"nickname",V,o(e)),n(e,"balans",X,o(e)),n(e,"winPercent",J,o(e)),n(e,"bet",Q,o(e)),n(e,"card",j,o(e)),n(e,"status",Y,o(e)),n(e,"notice",Z,o(e)),n(e,"bgWin",$,o(e)),n(e,"Progress",tt,o(e)),n(e,"Avatar",et,o(e)),n(e,"titleCard",it,o(e)),n(e,"item",nt,o(e)),n(e,"isDealer",ot,o(e)),n(e,"mainUser",rt,o(e)),n(e,"btnSitDown",at,o(e)),n(e,"coinInfoNode",st,o(e)),n(e,"coinBet",lt,o(e)),n(e,"statusLabelPrefab",ut,o(e)),e.money=0,e.isOpen=!1,e.isAll=!1,e.isHuy=!1,e.isUpdate=!1,e.progressTime=0,e.oldTime=void 0,e.playerBet=0,e.map=0,e.player=[],e.isFolded=!1,e.hasActedThisRound=!1,e.canCheck=!1,e.isSeated=!1,e.playerCard=[],e.elapsed=0,e.originalCoinInfo=void 0,e}i(e,t);var a=e.prototype;return a.init=function(){var t=this;this.isAll=!1,this.isHuy=!1,this.item.forEach((function(e,i){t["item"+i]={position:e.node.position,angle:e.node.angle}})),this.isDealer.active=!1,this.mainUser.active=!1,this.btnSitDown.active=!1,this.btnSitDown.on(u.EventType.TOUCH_END,this.onClickSitDown,this)},a.setSeat=function(t){this.isSeated=t,console.log("this.isSeate:",this.isSeated)},a.onEnable=function(){this.isDealer.active=!1},a.ChiaBai=function(t,e,i,n,o){void 0===n&&(n=!0),void 0===o&&(o=!1);var r,a,s=this.item[e];n?(r=y.instance.inGame,this.winPercent.string=null!=(a=t.winPercent)?a:0):r=y.instance.practice;console.log("bai.data isBot:",t.data,o);var l=r.bo_bai.getWorldPosition(),u=s.node.getWorldPosition(),c=s.node.parent,h=c.inverseTransformPoint(new f,l),d=c.inverseTransformPoint(new f,u);if(s.node.setPosition(h),s.node.scale=new f(.4,.4,1),s.node.active=!0,s.spriteFrame=y.instance.utilCard.cardB1,t.data){var m=t.data[e];this.playerCard.push(m.card),p(s.node).parallel(p().to(.6,{position:d},{easing:"quadOut"}),p().to(.6,{scale:new f(2,2,1)},{easing:"quadOut"})).to(.1,{scale:new f(1.2,1.2,1)},{easing:"sineOut"}).call((function(){s.spriteFrame=y.instance.utilCard.getCard(m.card,m.type),s.bai=m})).start()}else if(o){var g=t;this.playerCard.push(g.card),p(s.node).parallel(p().to(.6,{position:d},{easing:"quadOut"}),p().to(.6,{scale:new f(2,2,1)},{easing:"quadOut"})).to(.1,{scale:new f(1.2,1.2,1)},{easing:"sineOut"}).call((function(){s.spriteFrame=y.instance.utilCard.getCard(g.card,g.type),s.bai=g})).start()}else p(s.node).delay(i).to(.2,{position:d,scale:new f(1,1,1),angle:0},{easing:"quadOut"}).call((function(){})).start()},a.openCard=function(t){this.item.forEach((function(e,i){var n=t[i];console.log("card:",n),n&&n.card&&p(e.node).to(.1,{scale:new f(0,1,1)}).call((function(){e.spriteFrame=y.instance.utilCard.getCard(n.card,n.type),e.bai=n})).to(.1,{scale:new f(1,1,1)}).start()}))},a.setAvatar=function(t){},a.setIsDealer=function(t){this.isDealer.active=t},a.setInfo=function(t,e){var i=this;void 0===e&&(e=!1),t?(this.btnSitDown.active=!1,this.mainUser.active=!0,void 0!==t.balans&&(this.money=t.balans||0,e?p(this.mainUser).delay(1).call((function(){i.balans.string=b.numberWithCommas(t.balans)})).start():this.balans.string=b.numberWithCommas(t.balans)),t.name&&(this.nickname.string=t.name),void 0!==t.avatar&&this.setAvatar(t.avatar),t.progress&&this.startProgress(t.progress),void 0!==t.openCard&&y.instance.UIPokerGame.player[y.instance.UIPokerGame.meMap]!==this&&this.openCard(t.openCard)):(this.resetGame(),this.mainUser.active=!1)},a.infoGame=function(t,e){var i=this;void 0===e&&(e=!0);var n=this,o=y.instance.inGame;e||(o=y.instance.practice),void 0!==t.nap&&(t.nap=t.nap>>0,t.nap>0&&this.noticeBet(t.nap,"+",2.5,35,o.font1,S.NAP)),void 0!==t.hoa&&(this.miniStatusLabel("Peace",o),t.hoa=t.hoa>>0,t.hoa>0&&this.noticeBet(t.hoa,"+",3.5,35,o.font1,S.HOA)),void 0!==t.to&&(this.miniStatusLabel("Raise",o),t.to=t.to>>0,t.to>0&&this.noticeBet(t.to,"+",2.5,35,o.font1,S.TO)),void 0!==t.win&&this.receiveWinFromPot(t.win),void 0!==t.lost&&p(this.mainUser).delay(1).call((function(){i.miniStatusLabel("Lost",o),t.lost=t.lost>>0,t.lost>0&&n.noticeBet(t.lost,"-",3.5,35,o.font2,S.LOST),t=null})).start(),void 0!==t.theo&&(this.miniStatusLabel("Check",o),t.theo=t.theo>>0,t.theo>0&&n.noticeBet(t.theo,"+",2.5,35,o.font1,"theo")),void 0!==t.xem&&(this.miniStatusLabel("Check",o),t.xem=t.xem>>0,t.xem>0&&n.noticeBet(t.xem,"+",2.5,35,o.font1,S.XEM)),void 0!==t.huy&&(this.isHuy=!0,o.player[o.meMap],this.miniStatusLabel("Fold",o),this.item.forEach((function(t){t.node.color=(new m).fromHEX("#999999")}))),void 0!==t.all&&(this.isAll=!0,this.miniStatusLabel("Allin",o),t.all=t.all>>0,t.all>0&&n.noticeBet(t.all,"+",2.5,35,y.instance.inGame.font1,S.ALL))},a.miniStatusLabel=function(t,e){this.status.removeAllChildren();var i=g(this.statusLabelPrefab),n=i.getComponent(B);null==n||n.setStatus(t),this.status.addChild(i)},a.startProgress=function(t){this.elapsed=0,this.Progress.progress=0,this.progressTime=t,this.oldTime=(new Date).getTime(),this.isUpdate=!0},a.setProgress=function(t,e){this.Progress.progress=e,this.progressTime=t,this.oldTime=(new Date).getTime(),this.isUpdate=!0},a.noticeBet=function(t,e,i,n,o,r){var a,s=this;t==S.XEM||t==S.THEO?C.instance.playSound("check"):t==S.HUY?C.instance.playSound("bet"):t==S.ALL?C.instance.playSound("Allin"):t==S.WIN?C.instance.playSound("win_line"):C.instance.playSound("bet"),this.notice.active=!0,this.coinInfoNode.active=!1,this.originalCoinInfo=this.coinInfoNode.getPosition().clone();var u=null==(a=this.coinInfoNode.getChildByName("money"))?void 0:a.getComponent(l);u&&(u.string=""+e+P(t)),this.coinInfoNode.getChildByName("money")&&(this.coinInfoNode.getChildByName("money").active=!0),this.coinInfoNode.active=!0;var c=this.notice.getWorldPosition(),h=this.coinBet.getWorldPosition(),d=this.notice;d.addChild(this.coinInfoNode),this.coinInfoNode.setWorldPosition(c),p(this.coinInfoNode).to(.5,{position:d.inverseTransformPoint(new f,h)},{easing:"sineOut"}).call((function(){p(s.coinInfoNode).to(.1,{scale:new f(1.1,1.1,1)}).to(.1,{scale:new f(1,1,1)}).start()})).start()},a.moveChipToPot=function(t,e,i){var n=t.parent,o=e.getWorldPosition(),r=i.getWorldPosition(),a=n.inverseTransformPoint(new f,o),s=n.inverseTransformPoint(new f,r);t.setPosition(a),t.active=!0,t.opacity=255,p(t).to(.4,{position:s},{easing:"sineInOut"}).delay(.2).to(.2,{opacity:0}).call((function(){t.active=!1})).start()},a.resetGame=function(){this.isFolded=!1,this.playerBet=0,this.item.forEach((function(t){t.node.color=(new m).fromHEX("#FFFFFF"),t.node.active=!1})),this.isAll=!1,this.isHuy=!1,this.bgWin.active=!1,this.bet.string="",this.isOpen=!1,this.titleCard.node.active=!1,this.coinInfoNode.active=!1,this.coinBet.active=!1,this.Progress.progress=0,this.status.removeAllChildren()},a.update=function(t){if(!0===this.isUpdate){this.elapsed+=t;var e=Math.max(1-this.elapsed/this.progressTime,0);this.Progress.progress=e,e<=0&&this.stopTurn()}},a.stopTurn=function(){this.isUpdate=!1},a.raQuyetDinh=function(t){var e=this.getPlayerHand(t),i=t.boardCards,n=t.round,o=t.currentBet,r=this.playerBet,a=this.getRemainingPlayers(t);console.log("playerHand",e,"boardCards",i,"currentRound",n,"currentBet",o,"playerBet",r,"remainingPlayers",a);var s=0;return i.length>=3?s=this.evaluateHand(e.concat(i)):(s=this.evaluateStartingHandStrength(e),console.log("Độ mạnh bài Pre-Flop: "+s)),console.log("Vòng: "+n+", Độ mạnh bài: "+s),this.canCheck&&o<=r?"xem":0===n?s>60?Math.random()<.7?"to":"theo":s>40?o>r?Math.random()<.4?"theo":"huy":"theo":o>r?"huy":"theo":s>7?Math.random()<.8?"to":"allin":s>5?Math.random()<.6?"to":"theo":s>3?o>r?Math.random()<.4?"theo":"to":Math.random()<.3?"to":"theo":o>r||Math.random()<.7?"huy":"xem"},a.evaluateStartingHandStrength=function(t){if(!t||2!==t.length)return 0;var e=this.getRankValue(t[0].card),i=this.getRankValue(t[1].card),n=t[0].suit,o=t[1].suit;return e===i?70+4*e:n===o?20+Math.max(e,i):Math.abs(e-i)<=4?10+Math.max(e,i):Math.max(e,i)},a.getRankValue=function(t){if("number"==typeof t)return t;switch(t){case"T":return 10;case"J":return 11;case"Q":return 12;case"K":return 13;case"A":return 14;default:return parseInt(t)}},a.getPlayerHand=function(t){var e=this.map-1;return t.playerCards[e]},a.getRemainingPlayers=function(t,e){void 0===e&&(e=[]);for(var i=0,n=0;n<e.length;n++)e[n+1].isFolded||i++;return i},a.evaluateHand=function(t){for(var e,i=[],n=[],o=r(t);!(e=o()).done;){var a=e.value;i.push(this.getRankValue(a.rank)),n.push(a.suit)}return i.sort((function(t,e){return e-t})),this.isRoyalFlush(i,n)?10:this.isStraightFlush(i,n)?9:this.isFourOfAKind(i)?8:this.isFullHouse(i)?7:this.isFlush(n)?6:this.isStraight(i)?5:this.isThreeOfAKind(i)?4:this.isTwoPair(i)?3:this.isPair(i)?2:1},a.isRoyalFlush=function(t,e){if(t.length<5)return!1;var i=[0,10,11,12,9];i.sort((function(t,e){return t-e}));var n=e[0],o=[].concat(t).sort((function(t,e){return t-e})),r=i.every((function(t){return o.includes(t)})),a=e.slice(0,5).every((function(t){return t===n}));return r&&a},a.isStraightFlush=function(t,e){if(t.length<5)return!1;var i=e[0],n=t.filter((function(t,n){return e[n]===i})).sort((function(t,e){return t-e}));return!(n.length<5)&&this.isStraight(n)},a.isStraight=function(t){if(t.length<5)return!1;for(var e=[].concat(new Set(t)).sort((function(t,e){return t-e})),i=0;i<=e.length-5;i++){var n=e.slice(i,i+5);if(n[4]-n[0]==4)return!0}if(e.includes(0)){if([1,2,3,4].every((function(t){return e.includes(t)})))return!0}if(e.includes(0)){if([9,10,11,12].every((function(t){return e.includes(t)})))return!0}return!1},a.findStraight=function(t){if(t.length<5)return null;for(var e=[].concat(new Set(t)).sort((function(t,e){return t-e})),i=0;i<=e.length-5;i++){var n=e.slice(i,i+5);if(n[4]-n[0]==4)return n}if(e.includes(0)){if([1,2,3,4].every((function(t){return e.includes(t)})))return[0,1,2,3,4]}return e.includes(0)&&e.includes(9)&&e.includes(10)&&e.includes(11)&&e.includes(12)?[9,10,11,12,0]:null},a.isFourOfAKind=function(t){if(t.length<4)return!1;for(var e,i={},n=r(t);!(e=n()).done;){var o=e.value;i[o]=(i[o]||0)+1}for(var a in i)if(4===i[a])return!0;return!1},a.isFullHouse=function(t){if(t.length<5)return!1;for(var e,i={},n=r(t);!(e=n()).done;){var o=e.value;i[o]=(i[o]||0)+1}var a=!1,s=!1;for(var l in i){var u=i[l];3===u?a=!0:2===u&&(s=!0)}return a&&s},a.isFlush=function(t){if(t.length<5)return!1;var e=t[0];return t.every((function(t){return t===e}))},a.isThreeOfAKind=function(t){if(t.length<3)return!1;for(var e,i={},n=r(t);!(e=n()).done;){var o=e.value;i[o]=(i[o]||0)+1}for(var a in i)if(3===i[a])return!0;return!1},a.isTwoPair=function(t){if(t.length<4)return!1;for(var e,i={},n=r(t);!(e=n()).done;){var o=e.value;i[o]=(i[o]||0)+1}var a=0;for(var s in i)2===i[s]&&a++;return 2===a},a.isPair=function(t){if(t.length<2)return!1;for(var e,i={},n=r(t);!(e=n()).done;){var o=e.value;i[o]=(i[o]||0)+1}for(var a in i)if(2===i[a])return!0;return!1},a.payBlind=function(t){this.money-=t,this.playerBet+=t,this.balans.string=b.numberWithCommas(this.money)},a.resetForNewRound=function(){this.isFolded=!1,this.isAll=!1,this.playerBet=0,this.hasActedThisRound=!1,this.canCheck=!1,this.resetGame()},a.onClickSitDown=function(){y.instance.wsClient.send({g:{poker:{sit:!0,gameType:y.instance.gameType}}})},a.showBlindAnimation=function(t,e){console.log("showBlindAnimation:"),this.noticeBet("bet","+",2.5,35,y.instance.inGame.font1,"theo"),this.setChipAmount(e.bet),this.balans.string=b.numberWithCommas(e.balans)},a.setChipAmount=function(t){var e=this.coinInfoNode.getChildByName("money");if(e){var i=e.getComponent(l);i&&(i.string=w(t),e.active=!0)}this.coinInfoNode.active=!0},a.showChipFlyToBet=function(){var t=this;if(this.coinInfoNode&&this.coinBet){var e=this.coinInfoNode.getWorldPosition(),i=this.coinBet.getWorldPosition(),n=this.notice;n.addChild(this.coinInfoNode),this.coinInfoNode.setWorldPosition(e);var o=n.inverseTransformPoint(new f,i);this.coinInfoNode.active=!0,p(this.coinInfoNode).to(.4,{position:o},{easing:"quadOut"}).call((function(){t.coinInfoNode.setPosition(new f(0,0,0)),t.coinBet.active=!0})).start()}},a.receiveWinFromPot=function(t){var e;console.log("receiveWinFromPot------"),C.instance.playSound("win_line"),this.bgWin.active=!0;var i=y.instance.practice.moneyRound,n=this.mainUser,o=g(y.instance.practice.coinPrefab);i.parent.addChild(o);var r=i.getWorldPosition(),a=n.getWorldPosition(),s=i.parent,u=s.inverseTransformPoint(new f,r),c=s.inverseTransformPoint(new f,a);o.setPosition(u),o.active=!0;var h=null==(e=o.getChildByName("money"))?void 0:e.getComponent(l);h&&(h.string=w(t)),console.log("coin:",o),p(o).parallel(p().to(.6,{position:c},{easing:"quadOut"}),p().to(.6,{scale:new f(2,2,1)},{easing:"quadOut"})).to(.1,{scale:new f(1.2,1.2,1)},{easing:"sineOut"}).call((function(){o.destroy()})).start()},a.initTest=function(){var t=this;this.isAll=!1,this.isHuy=!1,this.item.forEach((function(e,i){t["item"+i]={position:e.node.position,angle:e.node.angle}})),this.isDealer.active=!1,this.mainUser.active=!0},e}(v)).prototype,"nickname",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(K.prototype,"balans",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(K.prototype,"winPercent",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(K.prototype,"bet",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(K.prototype,"card",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(K.prototype,"status",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(K.prototype,"notice",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(K.prototype,"bgWin",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=e(K.prototype,"Progress",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=e(K.prototype,"Avatar",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(K.prototype,"titleCard",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=e(K.prototype,"item",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ot=e(K.prototype,"isDealer",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e(K.prototype,"mainUser",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e(K.prototype,"btnSitDown",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=e(K.prototype,"coinInfoNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=e(K.prototype,"coinBet",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=e(K.prototype,"statusLabelPrefab",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=K))||q));a._RF.pop()}}}));

System.register("chunks:///_virtual/Poker_Player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Helper.ts","./DataManager.ts","./Utils.ts","./AudioManager.ts","./Enum.ts","./StatusLabel.ts","./PokerUserInfoPopup.ts","./PokerChatIcon.ts"],(function(t){var e,i,n,o,a,r,s,l,u,c,h,d,f,p,m,g,v,b,y,P,w,C,S,I,T,B;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createForOfIteratorHelperLoose},function(t){r=t.cclegacy,s=t._decorator,l=t.Label,u=t.Node,c=t.ProgressBar,h=t.Sprite,d=t.Prefab,f=t.Vec3,p=t.tween,m=t.Color,g=t.instantiate,v=t.Component},function(t){b=t.Helper},function(t){y=t.DataManager},function(t){P=t.formatWithDot,w=t.formatNumber2},function(t){C=t.default},function(t){S=t.ENUM_PORKER_STATUS},function(t){I=t.StatusLabel},function(t){T=t.PokerUserInfoPopup},function(t){B=t.PokerChatIcon}],execute:function(){var A,F,N,k,H,U,O,W,D,z,L,M,R,E,_,x,G,V,q,K,X,Q,j,J,Y,Z,$,tt,et,it,nt,ot,at,rt,st,lt,ut,ct,ht,dt,ft,pt,mt,gt,vt;r._RF.push({},"00f39Wx2qZAda7Vnm0hMANh","Poker_Player",void 0);var bt=s.ccclass,yt=s.property;t("Poker_Player",(A=bt("Poker_Player"),F=yt(l),N=yt(l),k=yt(l),H=yt(l),U=yt(u),O=yt(u),W=yt(u),D=yt(u),z=yt(u),L=yt(c),M=yt(h),R=yt(h),E=yt([h]),_=yt(u),x=yt(u),G=yt(u),V=yt(u),q=yt(u),K=yt(d),X=yt(d),Q=yt(d),A((Y=e((J=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(e,"nickname",Y,o(e)),n(e,"balans",Z,o(e)),n(e,"winPercent",$,o(e)),n(e,"bet",tt,o(e)),n(e,"card",et,o(e)),n(e,"status",it,o(e)),n(e,"notice",nt,o(e)),n(e,"bgWin",ot,o(e)),n(e,"cardViewHide",at,o(e)),n(e,"Progress",rt,o(e)),n(e,"Avatar",st,o(e)),n(e,"titleCard",lt,o(e)),n(e,"item",ut,o(e)),n(e,"isDealer",ct,o(e)),n(e,"mainUser",ht,o(e)),n(e,"btnSitDown",dt,o(e)),n(e,"coinInfoNode",ft,o(e)),n(e,"coinBet",pt,o(e)),n(e,"statusLabelPrefab",mt,o(e)),n(e,"userInfoPrefab",gt,o(e)),n(e,"PokerChatIcon",vt,o(e)),e.dataUser=void 0,e.money=0,e.isOpen=!1,e.isAll=!1,e.isHuy=!1,e.isUpdate=!1,e.progressTime=0,e.oldTime=void 0,e.playerBet=0,e.map=0,e.player=[],e.isFolded=!1,e.hasActedThisRound=!1,e.canCheck=!1,e.isSeated=!1,e.playerCard=[],e.elapsed=0,e.originalCoinInfo=void 0,e}i(e,t);var r=e.prototype;return r.init=function(){var t=this;this.isAll=!1,this.isHuy=!1,this.item.forEach((function(e,i){t["item"+i]={position:e.node.position,angle:e.node.angle}})),this.isDealer.active=!1,this.mainUser.active=!1,this.btnSitDown.active=!1,this.btnSitDown.on(u.EventType.TOUCH_END,this.onClickSitDown,this)},r.setSeat=function(t){this.isSeated=t,console.log("this.isSeate:",this.isSeated)},r.onEnable=function(){this.isDealer.active=!1},r.ChiaBai=function(t,e,i,n,o){void 0===n&&(n=!0),void 0===o&&(o=!1);var a,r,s=this.item[e];n?(a=y.instance.inGame,this.winPercent.string=null!=(r=t.winPercent)?r:0):a=y.instance.practice;console.log("bai.data isBot:",t.data,o);var l=a.bo_bai.getWorldPosition(),u=s.node.getWorldPosition(),c=s.node.parent,h=c.inverseTransformPoint(new f,l),d=c.inverseTransformPoint(new f,u);if(s.node.setPosition(h),s.node.scale=new f(.4,.4,1),s.node.active=!0,s.spriteFrame=y.instance.utilCard.cardB1,t.data){var m=t.data[e];this.playerCard.push(m.card),p(s.node).parallel(p().to(.6,{position:d},{easing:"quadOut"}),p().to(.6,{scale:new f(.7,.7,1)},{easing:"quadOut"})).to(.1,{scale:new f(1.1,1.1,1)},{easing:"sineOut"}).call((function(){s.spriteFrame=y.instance.utilCard.getCard(m.card,m.type),s.bai=m})).start()}else if(o){var g=t;this.playerCard.push(g.card),p(s.node).parallel(p().to(.6,{position:d},{easing:"quadOut"}),p().to(.6,{scale:new f(2,2,1)},{easing:"quadOut"})).to(.1,{scale:new f(1.2,1.2,1)},{easing:"sineOut"}).call((function(){s.spriteFrame=y.instance.utilCard.getCard(g.card,g.type),s.bai=g})).start()}else this.cardViewHide.active=!0,p(s.node).parallel(p().to(.6,{position:d},{easing:"quadOut"}),p().to(.6,{scale:new f(.7,.7,1)},{easing:"quadOut"})).to(.1,{scale:new f(1.2,1.2,1)},{easing:"sineOut"}).call((function(){s.node.active=!1})).start()},r.openCard=function(t){var e=this;console.log("openCard------",t),this.cardViewHide.active=!1,t.forEach((function(t,i){var n=e.item[i];n.node.active=!0;var o=t;o&&o.card&&p(n.node).to(.1,{scale:new f(0,1,1)}).call((function(){n.spriteFrame=y.instance.utilCard.getCard(o.card,o.type),console.log("item.spriteFrame:",n.spriteFrame)})).to(.1,{scale:new f(1,1,1)}).start()}))},r.setAvatar=function(t){},r.setIsDealer=function(t){this.isDealer.active=t},r.setInfo=function(t,e){var i=this;void 0===e&&(e=!1),console.log("setInfo data:",t),t?(this.btnSitDown.active=!1,this.mainUser.active=!0,void 0!==t.balans&&(this.money=t.balans||0,e?(this.cardViewHide.active=!1,p(this.mainUser).delay(1).call((function(){i.balans.string=b.numberWithCommas(t.balans)})).start()):this.balans.string=b.numberWithCommas(t.balans)),t.name&&(this.nickname.string=t.name,this.dataUser=t,this.dataUser.map=this.map,this.dataUser.UID=this.id),void 0!==t.avatar&&this.setAvatar(t.avatar),t.progress&&this.startProgress(t.progress),void 0!==t.openCard&&y.instance.UIPokerGame.player[y.instance.UIPokerGame.meMap]!==this&&this.openCard(t.openCard)):(this.resetGame(),this.mainUser.active=!1)},r.infoGame=function(t,e){var i=this;void 0===e&&(e=!0);var n=this,o=y.instance.inGame;e||(o=y.instance.practice),void 0!==t.nap&&(t.nap=t.nap>>0,t.nap>0&&this.noticeBet(t.nap,"+",2.5,35,o.font1,S.NAP)),void 0!==t.hoa&&(this.miniStatusLabel("Peace",o),t.hoa=t.hoa>>0,t.hoa>0&&this.noticeBet(t.hoa,"+",3.5,35,o.font1,S.HOA)),void 0!==t.to&&(this.miniStatusLabel("Raise",o),t.to=t.to>>0,t.to>0&&this.noticeBet(t.to,"+",2.5,35,o.font1,S.TO)),void 0!==t.win&&this.receiveWinFromPot(t.win),void 0!==t.lost&&p(this.mainUser).delay(1).call((function(){i.miniStatusLabel("Lost",o),t.lost=t.lost>>0,t.lost>0&&n.noticeBet(t.lost,"-",3.5,35,o.font2,S.LOST),t=null})).start(),void 0!==t.theo&&(this.miniStatusLabel("Check",o),t.theo=t.theo>>0,t.theo>0&&n.noticeBet(t.theo,"+",2.5,35,o.font1,"theo")),void 0!==t.xem&&(this.miniStatusLabel("Check",o),t.xem=t.xem>>0,t.xem>0&&n.noticeBet(t.xem,"+",2.5,35,o.font1,S.XEM)),void 0!==t.huy&&(this.isHuy=!0,o.player[o.meMap],this.miniStatusLabel("Fold",o),this.item.forEach((function(t){t.node.color=(new m).fromHEX("#999999")}))),void 0!==t.all&&(this.isAll=!0,this.miniStatusLabel("Allin",o),t.all=t.all>>0,t.all>0&&n.noticeBet(t.all,"+",2.5,35,y.instance.inGame.font1,S.ALL))},r.miniStatusLabel=function(t,e){this.status.removeAllChildren();var i=g(this.statusLabelPrefab),n=i.getComponent(I);null==n||n.setStatus(t),this.status.addChild(i)},r.startProgress=function(t){this.elapsed=0,this.Progress.progress=0,this.progressTime=t,this.oldTime=(new Date).getTime(),this.isUpdate=!0},r.setProgress=function(t,e){this.Progress.progress=e,this.progressTime=t,this.oldTime=(new Date).getTime(),this.isUpdate=!0},r.noticeBet=function(t,e,i,n,o,a){var r,s=this;t==S.XEM||t==S.THEO?C.instance.playSound("check"):t==S.HUY?C.instance.playSound("bet"):t==S.ALL?C.instance.playSound("Allin"):t==S.WIN?C.instance.playSound("win_line"):C.instance.playSound("bet"),this.notice.active=!0,this.coinInfoNode.active=!1,this.originalCoinInfo=this.coinInfoNode.getPosition().clone();var u=null==(r=this.coinInfoNode.getChildByName("money"))?void 0:r.getComponent(l);u&&(u.string=""+e+P(t)),this.coinInfoNode.getChildByName("money")&&(this.coinInfoNode.getChildByName("money").active=!0),this.coinInfoNode.active=!0;var c=this.notice.getWorldPosition(),h=this.coinBet.getWorldPosition(),d=this.notice;d.addChild(this.coinInfoNode),this.coinInfoNode.setWorldPosition(c),p(this.coinInfoNode).to(.5,{position:d.inverseTransformPoint(new f,h)},{easing:"sineOut"}).call((function(){p(s.coinInfoNode).to(.1,{scale:new f(1.1,1.1,1)}).to(.1,{scale:new f(1,1,1)}).start()})).start()},r.moveChipToPot=function(t,e,i){var n=t.parent,o=e.getWorldPosition(),a=i.getWorldPosition(),r=n.inverseTransformPoint(new f,o),s=n.inverseTransformPoint(new f,a);t.setPosition(r),t.active=!0,t.opacity=255,p(t).to(.4,{position:s},{easing:"sineInOut"}).delay(.2).to(.2,{opacity:0}).call((function(){t.active=!1})).start()},r.resetGame=function(){this.isFolded=!1,this.playerBet=0,this.item.forEach((function(t){t.node.color=(new m).fromHEX("#FFFFFF"),t.node.active=!1})),this.isAll=!1,this.isHuy=!1,this.bgWin.active=!1,this.bet.string="",this.isOpen=!1,this.titleCard.node.active=!1,this.coinInfoNode.active=!1,this.coinBet.active=!1,this.Progress.progress=0,this.cardViewHide.active=!1,this.status.removeAllChildren()},r.update=function(t){if(!0===this.isUpdate){this.elapsed+=t;var e=Math.max(1-this.elapsed/this.progressTime,0);this.Progress.progress=e,e<=0&&this.stopTurn()}},r.stopTurn=function(){this.isUpdate=!1},r.raQuyetDinh=function(t){var e=this.getPlayerHand(t),i=t.boardCards,n=t.round,o=t.currentBet,a=this.playerBet,r=this.getRemainingPlayers(t);console.log("playerHand",e,"boardCards",i,"currentRound",n,"currentBet",o,"playerBet",a,"remainingPlayers",r);var s=0;return i.length>=3?s=this.evaluateHand(e.concat(i)):(s=this.evaluateStartingHandStrength(e),console.log("Độ mạnh bài Pre-Flop: "+s)),console.log("Vòng: "+n+", Độ mạnh bài: "+s),this.canCheck&&o<=a?"xem":0===n?s>60?Math.random()<.7?"to":"theo":s>40?o>a?Math.random()<.4?"theo":"huy":"theo":o>a?"huy":"theo":s>7?Math.random()<.8?"to":"allin":s>5?Math.random()<.6?"to":"theo":s>3?o>a?Math.random()<.4?"theo":"to":Math.random()<.3?"to":"theo":o>a||Math.random()<.7?"huy":"xem"},r.evaluateStartingHandStrength=function(t){if(!t||2!==t.length)return 0;var e=this.getRankValue(t[0].card),i=this.getRankValue(t[1].card),n=t[0].suit,o=t[1].suit;return e===i?70+4*e:n===o?20+Math.max(e,i):Math.abs(e-i)<=4?10+Math.max(e,i):Math.max(e,i)},r.getRankValue=function(t){if("number"==typeof t)return t;switch(t){case"T":return 10;case"J":return 11;case"Q":return 12;case"K":return 13;case"A":return 14;default:return parseInt(t)}},r.getPlayerHand=function(t){var e=this.map-1;return t.playerCards[e]},r.getRemainingPlayers=function(t){for(var e=0,i=0;i<t.playerCards.length;i++)this.player[i+1].isFolded||e++;return e},r.evaluateHand=function(t){for(var e,i=[],n=[],o=a(t);!(e=o()).done;){var r=e.value;i.push(this.getRankValue(r.rank)),n.push(r.suit)}return i.sort((function(t,e){return e-t})),this.isRoyalFlush(i,n)?10:this.isStraightFlush(i,n)?9:this.isFourOfAKind(i)?8:this.isFullHouse(i)?7:this.isFlush(n)?6:this.isStraight(i)?5:this.isThreeOfAKind(i)?4:this.isTwoPair(i)?3:this.isPair(i)?2:1},r.isRoyalFlush=function(t,e){if(t.length<5)return!1;var i=[0,10,11,12,9];i.sort((function(t,e){return t-e}));var n=e[0],o=[].concat(t).sort((function(t,e){return t-e})),a=i.every((function(t){return o.includes(t)})),r=e.slice(0,5).every((function(t){return t===n}));return a&&r},r.isStraightFlush=function(t,e){if(t.length<5)return!1;var i=e[0],n=t.filter((function(t,n){return e[n]===i})).sort((function(t,e){return t-e}));return!(n.length<5)&&this.isStraight(n)},r.isStraight=function(t){if(t.length<5)return!1;for(var e=[].concat(new Set(t)).sort((function(t,e){return t-e})),i=0;i<=e.length-5;i++){var n=e.slice(i,i+5);if(n[4]-n[0]==4)return!0}if(e.includes(0)){if([1,2,3,4].every((function(t){return e.includes(t)})))return!0}if(e.includes(0)){if([9,10,11,12].every((function(t){return e.includes(t)})))return!0}return!1},r.findStraight=function(t){if(t.length<5)return null;for(var e=[].concat(new Set(t)).sort((function(t,e){return t-e})),i=0;i<=e.length-5;i++){var n=e.slice(i,i+5);if(n[4]-n[0]==4)return n}if(e.includes(0)){if([1,2,3,4].every((function(t){return e.includes(t)})))return[0,1,2,3,4]}return e.includes(0)&&e.includes(9)&&e.includes(10)&&e.includes(11)&&e.includes(12)?[9,10,11,12,0]:null},r.isFourOfAKind=function(t){if(t.length<4)return!1;for(var e,i={},n=a(t);!(e=n()).done;){var o=e.value;i[o]=(i[o]||0)+1}for(var r in i)if(4===i[r])return!0;return!1},r.isFullHouse=function(t){if(t.length<5)return!1;for(var e,i={},n=a(t);!(e=n()).done;){var o=e.value;i[o]=(i[o]||0)+1}var r=!1,s=!1;for(var l in i){var u=i[l];3===u?r=!0:2===u&&(s=!0)}return r&&s},r.isFlush=function(t){if(t.length<5)return!1;var e=t[0];return t.every((function(t){return t===e}))},r.isThreeOfAKind=function(t){if(t.length<3)return!1;for(var e,i={},n=a(t);!(e=n()).done;){var o=e.value;i[o]=(i[o]||0)+1}for(var r in i)if(3===i[r])return!0;return!1},r.isTwoPair=function(t){if(t.length<4)return!1;for(var e,i={},n=a(t);!(e=n()).done;){var o=e.value;i[o]=(i[o]||0)+1}var r=0;for(var s in i)2===i[s]&&r++;return 2===r},r.isPair=function(t){if(t.length<2)return!1;for(var e,i={},n=a(t);!(e=n()).done;){var o=e.value;i[o]=(i[o]||0)+1}for(var r in i)if(2===i[r])return!0;return!1},r.payBlind=function(t){this.money-=t,this.playerBet+=t,this.balans.string=b.numberWithCommas(this.money)},r.resetForNewRound=function(){this.isFolded=!1,this.isAll=!1,this.playerBet=0,this.hasActedThisRound=!1,this.canCheck=!1,this.resetGame()},r.onClickSitDown=function(){y.instance.wsClient.send({g:{poker:{sit:!0,gameType:y.instance.gameType}}})},r.showBlindAnimation=function(t,e){console.log("showBlindAnimation:"),this.noticeBet("bet","+",2.5,35,y.instance.inGame.font1,"theo"),this.setChipAmount(e.bet),this.balans.string=b.numberWithCommas(e.balans)},r.setChipAmount=function(t){var e=this.coinInfoNode.getChildByName("money");if(e){var i=e.getComponent(l);i&&(i.string=w(t),e.active=!0)}this.coinInfoNode.active=!0},r.showChipFlyToBet=function(){var t=this;if(this.coinInfoNode&&this.coinBet){var e=this.coinInfoNode.getWorldPosition(),i=this.coinBet.getWorldPosition(),n=this.notice;n.addChild(this.coinInfoNode),this.coinInfoNode.setWorldPosition(e);var o=n.inverseTransformPoint(new f,i);this.coinInfoNode.active=!0,p(this.coinInfoNode).to(.4,{position:o},{easing:"quadOut"}).call((function(){t.coinInfoNode.setPosition(new f(0,0,0)),t.coinBet.active=!0})).start()}},r.receiveWinFromPot=function(t){var e;console.log("receiveWinFromPot------"),C.instance.playSound("win_line"),this.bgWin.active=!0;var i=y.instance.inGame.moneyRound,n=this.mainUser,o=g(y.instance.inGame.coinPrefab);i.parent.addChild(o);var a=i.getWorldPosition(),r=n.getWorldPosition(),s=i.parent,u=s.inverseTransformPoint(new f,a),c=s.inverseTransformPoint(new f,r);o.setPosition(u),o.active=!0;var h=null==(e=o.getChildByName("money"))?void 0:e.getComponent(l);h&&(h.string=w(t)),console.log("coin:",o),p(o).parallel(p().to(.6,{position:c},{easing:"quadOut"}),p().to(.6,{scale:new f(2,2,1)},{easing:"quadOut"})).to(.1,{scale:new f(1.2,1.2,1)},{easing:"sineOut"}).call((function(){o.destroy()})).start()},r.onClickPlayer=function(){var t=g(this.userInfoPrefab);t.getComponent(T).init(this.dataUser),y.instance.inGame.node.addChild(t)},r.showChatAnimation=function(t){console.log("showChatAnimation:",t);var e=g(this.PokerChatIcon);e.getComponent(B).init(t),this.node.addChild(e)},r.initTest=function(){var t=this;this.isAll=!1,this.isHuy=!1,this.item.forEach((function(e,i){t["item"+i]={position:e.node.position,angle:e.node.angle}})),this.isDealer.active=!1,this.mainUser.active=!0},e}(v)).prototype,"nickname",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(J.prototype,"balans",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(J.prototype,"winPercent",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=e(J.prototype,"bet",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=e(J.prototype,"card",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(J.prototype,"status",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=e(J.prototype,"notice",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=e(J.prototype,"bgWin",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e(J.prototype,"cardViewHide",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e(J.prototype,"Progress",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=e(J.prototype,"Avatar",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=e(J.prototype,"titleCard",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=e(J.prototype,"item",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ct=e(J.prototype,"isDealer",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=e(J.prototype,"mainUser",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=e(J.prototype,"btnSitDown",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=e(J.prototype,"coinInfoNode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=e(J.prototype,"coinBet",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=e(J.prototype,"statusLabelPrefab",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=e(J.prototype,"userInfoPrefab",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=e(J.prototype,"PokerChatIcon",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=J))||j));r._RF.pop()}}}));

System.register("chunks:///_virtual/Poker.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Helper.ts","./Poker_Player.ts","./PokerNapGame.ts","./DataManager.ts","./eventManager.ts","./Enum.ts","./Notice.ts","./NoticeManager.ts","./AudioManager.ts","./Infotable.ts","./ResourceManager.ts","./ToastManager.ts","./PokerSettingTable.ts","./PokerGameModeHandler.ts","./PokerGameModeUI.ts"],(function(e){var t,i,n,a,r,o,l,s,c,u,d,h,m,p,f,g,b,y,v,C,w,P,T,_,S,k,G,M,I,z,N,B,E,F,O;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){l=e.cclegacy,s=e._decorator,c=e.Prefab,u=e.Font,d=e.Node,h=e.SpriteFrame,m=e.Label,p=e.Sprite,f=e.Vec3,g=e.instantiate,b=e.tween,y=e.Color,v=e.Component},function(e){C=e.Helper},function(e){w=e.Poker_Player},function(e){P=e.PokerNapGame},function(e){T=e.DataManager},function(e){_=e.eventManager},function(e){S=e.CURRENT_SCENCE,k=e.GAME_TYPE},function(e){G=e.Notice},function(e){M=e.NoticeManager},function(e){I=e.default},function(e){z=e.infotable},function(e){N=e.default},function(e){B=e.default},function(e){E=e.PokerSettingTable},function(e){F=e.PokerGameModeHandler},function(e){O=e.PokerGameModeUI}],execute:function(){var x,R,D,L,U,A,H,j,J,X,K,W,V,Y,q,Q,Z,$,ee,te,ie,ne,ae,re,oe,le,se,ce,ue,de,he,me,pe,fe,ge,be,ye,ve,Ce,we,Pe,Te,_e,Se,ke,Ge,Me,Ie,ze,Ne,Be,Ee,Fe,Oe,xe,Re,De,Le,Ue,Ae,He,je,Je,Xe,Ke,We,Ve,Ye,qe,Qe,Ze,$e,et,tt,it,nt,at,rt,ot;l._RF.push({},"32ccam9yKFNxomJe+ICuD5K","Poker",void 0);var lt=s.ccclass,st=s.property;e("default",(x=lt("Poker"),R=st(c),D=st(c),L=st(c),U=st(u),A=st(u),H=st(c),j=st(c),J=st(c),X=st(c),K=st(c),W=st(d),V=st(d),Y=st(d),q=st(d),Q=st(G),Z=st([h]),$=st([w]),ee=st(m),te=st(p),ie=st(m),ne=st(m),ae=st(d),re=st(c),oe=st(d),le=st(d),se=st(d),ce=st(d),ue=st(d),de=st(d),he=st(d),me=st(d),pe=st(d),fe=st([h]),ge=st(c),be=st(c),ye=st(d),ve=st(d),Ce=st(O),x((Te=t((Pe=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"pokerNapGame",Te,a(t)),n(t,"pokerSettingTable",_e,a(t)),n(t,"pokerSetupTopic",Se,a(t)),n(t,"font1",ke,a(t)),n(t,"font2",Ge,a(t)),n(t,"prefabNotice",Me,a(t)),n(t,"PokerChat",Ie,a(t)),n(t,"PokerHistoryRealTimePrefab",ze,a(t)),n(t,"PokerLogTableNodePrefab",Ne,a(t)),n(t,"ingameMenuNodePrefab",Be,a(t)),n(t,"loading",Ee,a(t)),n(t,"redhat",Fe,a(t)),n(t,"bo_bai",Oe,a(t)),n(t,"nodeout",xe,a(t)),n(t,"notice",Re,a(t)),n(t,"Avatars",De,a(t)),n(t,"player",Le,a(t)),n(t,"labelRoom",Ue,a(t)),n(t,"gameName",Ae,a(t)),n(t,"mainBet",He,a(t)),n(t,"labelTimeStart",je,a(t)),n(t,"roomCard",Je,a(t)),n(t,"prefabCard",Xe,a(t)),n(t,"botton",Ke,a(t)),n(t,"btm_bo",We,a(t)),n(t,"btm_xem",Ve,a(t)),n(t,"btm_theo",Ye,a(t)),n(t,"btm_to",qe,a(t)),n(t,"btm_all",Qe,a(t)),n(t,"nodePanelCardMain",Ze,a(t)),n(t,"nodeBTNPane",$e,a(t)),n(t,"nodeTo",et,a(t)),n(t,"titleCard",tt,a(t)),t.panel=!1,t.dataOn=!0,t.redTcard=null,t.meMap=null,t.time_start=void 0,t.timeStop=0,t.game_player=null,t.regTime1=null,n(t,"CardCommon",it,a(t)),n(t,"coinPrefab",nt,a(t)),t.initialRoomCardPos=new f(0,0,0),n(t,"nodeInfoTable",at,a(t)),n(t,"moneyRound",rt,a(t)),t.playerOrigin=[],t.isPlay=!1,t.dealerIndex=1,t.smallBlindPlayer=null,t.bigBlindPlayer=null,t.game_bet=0,t.roomId="",t.zoneGame="",n(t,"pokerGameModeUI",ot,a(t)),t}i(t,e);var l=t.prototype;return l.onLoad=function(){T.instance.UIPokerGame=this,T.instance.inGame=this,this.game_player=null,Array.isArray(this.player)||(this.player=Object.values(this.player)),this.player.forEach((function(e){e.init()})),this.playerOrigin=this.player,this.redTcard=this.nodePanelCardMain.children.map((function(e){return e.getComponent(p)})),this.CardCommon.data.getComponent("CardGameCommon").config(),this.initialRoomCardPos=this.roomCard.getPosition().clone(),this.hideInGameMenu()},l.onEnable=function(){console.log("UIPoker ----"),this.dataOn=!0,T.instance.CurrentScence=S.UIPOKER_GAME,T.instance.inGame=this,T.instance.practice=null,this.pingPong()},l.onDisable=function(){console.log("onDisable"),this.resetGame()},l.init=function(e){console.log("poker init"),T.instance.inGame=this,this.dataTable=e,this.game_player=null,console.log("this.player:",this.player),Array.isArray(this.player)||(this.player=Object.values(this.player)),this.player.forEach((function(e){return e.init()}));var t=e.TCID?e.TCID:0;T.instance.wsClient.send({scene:"poker",g:{poker:{ingame:!0,TCID:t}}}),console.log("data game:",e,T.instance.gameType);var i=T.instance.gameType;i==k.NLH?this.gameName.spriteFrame=N.instance.getSprite("game_table_logo_nlh"):i==k.SixPlus?this.gameName.spriteFrame=N.instance.getSprite("game_table_logo_6plus"):i==k.MBVN?this.gameName.spriteFrame=N.instance.getSprite("game_table_logo_maubinh"):i==k.PLO?this.gameName.spriteFrame=N.instance.getSprite("game_table_logo_plo"):i==k.OFC&&(this.gameName.spriteFrame=N.instance.getSprite("game_table_logo_ofc"))},l.showPokerChat=function(){var e=this.node.getChildByName("PokerChat");if(e)e.active=!0;else{var t=g(this.PokerChat);this.node.addChild(t)}},l.initPokerChat=function(){var e=g(this.PokerChat);this.node.addChild(e),this.node.getChildByName("PokerChat").active=!1},l.showPokerHistoryRealTime=function(){var e=this.node.getChildByName("PokerHistoryRealTime");if(e)e.active=!0;else{var t=g(this.PokerHistoryRealTimePrefab);this.node.addChild(t)}},l.showLogTable=function(){var e=this.node.getChildByName("PokerLogTableNode");if(e)e.active=!0;else{var t=g(this.PokerLogTableNodePrefab);this.node.addChild(t)}},l.showInGameMenu=function(){var e=this.node.getChildByName("InGameMenu");if(e)e.active=!0;else{var t=g(this.ingameMenuNodePrefab);this.node.addChild(t)}},l.hideInGameMenu=function(){console.log("hideInGameMenu---");var e=this.node.getChildByName("InGameMenu");e&&(e.active=!1)},l.onSelect=function(e,t){console.log("gameType -- :",T.instance.gameType),"xem"==t||"huy"==t?I.instance.playSound("Check"):"to"==t?I.instance.playSound("bet"):"all"==t&&(I.instance.playSound("Allin"),I.instance.playSound("allinpushchips")),T.instance.wsClient.send({g:{poker:{select:t,gameType:T.instance.gameType}}})},l.toggleTo=function(){this.nodeTo.active=!this.nodeTo.active},l.toggleNap=function(){I.instance.playSound("click");var e=this.node.getChildByName("PokerNapGame");if(e)return e.getComponent(P).init(this.game_bet),void(e.active=!0);var t=g(this.pokerNapGame);t.getComponent(P).init(this.game_bet),this.node.addChild(t),this.node.active=!0},l.onOpenSettingTable=function(){I.instance.playSound("click");var e=this.node.getChildByName("PokerSettingTable");if(e)e.active=!0;else{var t=g(this.pokerSettingTable);this.node.addChild(t),this.node.active=!0}},l.onOpenSettingTopic=function(){I.instance.playSound("click");var e=this.node.getChildByName("PokerSettingTopic");if(e)e.active=!0;else{var t=g(this.pokerSetupTopic);this.node.addChild(t),this.node.active=!0}},l.toggleOut=function(){this.nodeout.active=!this.nodeout.active},l.gameStart=function(e){console.log("gameStart______:",e),e.forEach((function(e){T.instance.inGame.player[e.ghe].setInfo(e.data)}))},l.gameStop=function(){this.offSelect(),this.labelTimeStart.string="",this.labelTimeStart.node.active=!1,this.regTime1&&clearInterval(this.regTime1),this.timeStop=(new Date).getTime(),this.isPlay=!1},l.offSelect=function(){this.game_player&&(this.game_player.isUpdate=!1,this.game_player.progressTime=0),this.botton.active=!1,this.nodeTo.active=!1},l.update=function(e){0!==this.timeStop&&((new Date).getTime()-this.timeStop>=8e3&&(this.timeStop=0,this.resetGame()))},l.resetGame=function(){this.timeStop=0,this.mainBet.string="",this.roomCard.setPosition(this.initialRoomCardPos),this.roomCard.removeAllChildren(),Object.values(this.player).forEach((function(e){e&&e.resetGame()})),this.nodeInfoTable.getComponent(z).resetData(),this.isPlay=!1},l.mainCard=function(e){var t=this,i=new f(0,0,0);if(e.length>=3)this.addSingleMainCard(e[0],(function(n){if(e.length>1)for(var a=1;a<=e.length-1;a++){var r=g(t.prefabCard),o=r.getComponent(p);o.node.scale=new f(.9,.9,.9),o.spriteFrame=T.instance.utilCard.getCard(e[a].card,e[a].type),t.roomCard.addChild(r),o.node.setPosition(n.position.clone()),b(o.node).delay(.1*a).to(.3,{position:new f(i.x+150*a,i.y,i.z)}).start()}}));else{var n=this.roomCard.children[this.roomCard.children.length-1].position.clone(),a=new f(n.x+150,n.y,n.z);this.addNextMainCard(e[0],a)}},l.addSingleMainCard=function(e,t){var i=g(this.prefabCard),n=i.getComponent(p);n.node.active=!1,n.node.scale=new f(.9,.9,.9),n.spriteFrame=T.instance.utilCard.cardB1,this.roomCard.addChild(i),setTimeout((function(){n.node.active=!0,b(n.node).to(.1,{scale:new f(.9,.9,.9)}).call((function(){n.spriteFrame=T.instance.utilCard.getCard(e.card,e.type),t&&t(n.node)})).to(.1,{scale:new f(.9,.9,.9)}).start()}),0)},l.addNextMainCard=function(e,t){var i=this;console.log("card:",e);var n=g(this.prefabCard),a=n.getComponent(p);a.node.active=!1,a.node.scale=new f(.9,.9,.9),a.spriteFrame=T.instance.utilCard.cardB1,this.roomCard.addChild(n),a.node.active=!0,b(a.node).to(.3,{position:t}).call((function(){b(a.node).to(.1,{scale:new f(0,1,1)}).call((function(){if(a.spriteFrame=T.instance.utilCard.getCard(e.card,e.type),i.roomCard.children.length>=4){var t=i.roomCard.getPosition();i.roomCard.setPosition(t.x-40,t.y,t.z)}})).to(.1,{scale:new f(.9,.9,.9)}).start()})).start()},l.ChiaBai=function(){var e=r(o().mark((function e(t){var i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("ChiaBai______:",t),e.next=3,this.animateBlinds(t);case 3:setTimeout((function(){var e=0;if(T.instance.gameType==k.PLO)for(var n=function(n){t.forEach((function(t){i.player[t.id].ChiaBai(t,n,e),e+=.05}))},a=0;a<4;a++)n(a);else for(var r=function(n){t.forEach((function(t){i.player[t.id].ChiaBai(t,n,e),e+=.05}))},o=0;o<2;o++)r(o)}),500);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),l.LuotChoi=function(e){console.log("LuotChoi--",e);var t=this.player[e.ghe];this.game_player&&(this.game_player.isUpdate=!1,this.game_player.progressTime=0,this.game_player.Progress.progress=0),this.game_player=t,t.startProgress(e.progress),void 0!==e.select?(this.botton.active=!0,e.select.xem?this.btm_xem.active=!0:this.btm_xem.active=!1,e.select.theo?this.btm_theo.active=!0:this.btm_theo.active=!1,e.select.to?this.btm_to.active=!0:this.btm_to.active=!1,e.select.all?this.btm_all.active=!0:this.btm_all.active=!1):(this.botton.active=!1,this.nodeTo.active=!1)},l.onData=function(e){var t=this;console.log("ondata Poker",e,this.dataOn),e.user,this.dataOn&&(e.viewCard&&this.viewCard(e.viewCard),e.mainCard&&this.viewMainCard(e.mainCard),e.meMap&&(this.meMap=e.meMap),e.infoGhe&&this.infoGhe(e.infoGhe),e.infoRoom&&setTimeout((function(){t.infoRoom(e.infoRoom)}),100),e.ingame&&this.ingame(e.ingame),e.outgame&&this.outgame(e.outgame),e.game&&this.game(e.game),e.kick&&this.kick(),e.chat&&this.chat(e.chat),e.history_table&&this.history_table(e.history_table),e.log_table&&this.log_table(e.log_table),void 0!==e.notice&&(e.toast?B.instance.show(e.notice):M.instance.show(e.notice)),void 0!==e.load&&(this.loading.active=e.load),void 0!==e.nap&&this.toggleNap(),e.pokerGameMode&&F.handle(this,e))},l.infoGhe=function(e){var t={},i=[];if(1!=this.meMap){var n=this.meMap-1;i=i.concat(e.slice(n),e.slice(0,n))}else i=e;i.forEach(function(e,i){var n=this.playerOrigin[i];n.map=e.ghe,t[e.ghe]=n,n.setInfo(e.data),e.data&&n.setSeat(!0),e.ghe==this.meMap&&this.showBtnSits(!0)}.bind(this)),this.player=t,this.playerOrigin=Object.values(this.player),console.log("infoGhe this.player:",this.player),t=null,i=null},l.infoRoom=function(){var e=r(o().mark((function e(t){var i,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("infoRoom----:",t),void 0!==t.game&&(this.game_bet=t.game),t.bet,void 0!==t.isStop&&(this.labelTimeStart.node.active=!1,clearInterval(this.regTime1)),1==t.isPlay&&void 0!==t.time_start&&(this.resetGame(),this.time_start=t.time_start>>0,this.labelTimeStart.node.active=!0,this.labelTimeStart.string="",this.isPlay=!0,this.regTime1=setInterval(function(){this.labelTimeStart.string=C.numberPad(this.time_start,2),this.time_start<0&&(this.labelTimeStart.node.active=!1,clearInterval(this.regTime1)),this.time_start--}.bind(this),1e3)),(t.idTable||t.game_bet||t.pot)&&this.showInfoTable(t),void 0!==t.first&&t.first.forEach(function(e){var t=this.player[e.id];e.bet>0&&(t.noticeBet(e.bet,"+",2,35,T.instance.inGame.font1),t.bet.string=C.numberWithCommas(e.bet),t.balans.string=C.numberWithCommas(e.balans)),t.setIsDealer(e.isDealer),e.isDealer&&(this.dealerIndex=t.map)}.bind(this)),console.log("data.card:",t.card),void 0!==t.card&&t.card.forEach(function(e){console.log(" inforoom this.player",this.player,e.ghe);var t=this.player[e.ghe];console.log("player:",t),this.player[this.meMap]!==t&&t.item.forEach((function(e){e.node.active=!0,e.spriteFrame=T.instance.utilCard.cardB1}))}.bind(this)),null==t||!t.table_setting){e.next=19;break}if(!(i=this.node.getChildByName("PokerSettingTable"))){e.next=15;break}return i.getComponent(E).applySettings(t.table_setting),i.active=!1,e.abrupt("return");case 15:(n=g(this.pokerSettingTable)).getComponent(E).applySettings(t.table_setting),n.active=!1,this.node.addChild(n);case 19:this.roomId=null==t?void 0:t.roomId,this.zoneGame=null==t?void 0:t.zoneGame;case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),l.ingame=function(e){this.player[e.ghe].setInfo(e.data)},l.outgame=function(e){console.log("outgame----",e),this.player[e].setInfo(null),T.instance.inGame.InGameMenu&&T.instance.inGame.InGameMenu.btnClose(),e==this.meMap&&("club"==T.instance.originJoinTable?_.dispatchEvent("ThemeClubManager"):_.dispatchEvent("ThemePokerLobby"))},l.backLobby=function(e){console.log("backLobby:----",T.instance.originJoinTable),T.instance.wsClient.send({g:{poker:{outgame:!0,gameType:T.instance.gameType}}}),clearInterval(this.regTime1)},l.kick=function(){this.dataOn=!1,this.loading.active=!0,clearInterval(this.regTime1),"club"==T.instance.originJoinTable?_.dispatchEvent("ThemeClubManager"):_.dispatchEvent("ThemePokerLobby")},l.viewCard=function(e){var t=this.player[e.map];t&&e.card&&2==e.card.length&&(t.isOpen=!0,t.item.forEach((function(t,i){var n=e.card[i];t.spriteFrame=T.instance.utilCard.getCard(n.card,n.type)})))},l.viewMainCard=function(e){this.redTcard.forEach((function(t,i){var n=e[i];n&&(t.spriteFrame=T.instance.utilCard.getCard(n.card,n.type))}))},l.game=function(e){e.start&&this.gameStart(e.start),e.stop&&this.gameStop(),e.finish&&this.gameStop(),e.chia_bai&&this.ChiaBai(e.chia_bai),e.turn&&this.LuotChoi(e.turn),e.info&&this.gameInfo(e.info),e.player&&this.gamePlayer(e.player),e.offD,void 0!==e.offSelect&&this.offSelect(),e.card&&this.mainCard(e.card),e.regOut&&this.processRegOut(e.regOut),e.regStandUp&&this.processStandUp(e.regStandUp)},l.processRegOut=function(e){var t=this;T.instance.inGame.InGameMenu&&T.instance.inGame.InGameMenu.btnClose(),this.playerOrigin.forEach((function(i){e.map==t.meMap?1==e.reg?B.instance.show("Bạn đã đăng ký thoát bàn"):B.instance.show("Bạn đã huỷ thoát bàn"):e.reg}))},l.processStandUp=function(e){var t=this;console.log("processStandUp:",e),T.instance.inGame.InGameMenu&&T.instance.inGame.InGameMenu.btnClose(),this.playerOrigin.forEach((function(i){e.map==i.map&&(e.map===t.meMap?!0===e.stand?(i.mainUser.active=!1,i.setSeat(!1),i.btnSitDown.active=!0,B.instance.show("Bạn đã đứng lên"),t.showBtnSits(!1)):e.reg?B.instance.show("Bạn đã đăng ký đứng lên"):B.instance.show("Bạn đã huỷ đứng lên"):!0===e.stand&&(i.mainUser.active=!1,i.setSeat(!1),i.btnSitDown.active=!1))}))},l.chat=function(e){var t;if(console.log("chat data.message",e.message),null!=(t=e.message)&&t.chatType){var i=this.playerOrigin.find((function(t){return t.map===e.message.receiverMap}));i&&i.showChatAnimation(e.message)}else T.instance.PokerChat?T.instance.PokerChat.addChatMessage(e):(this.initPokerChat(),setTimeout((function(){T.instance.PokerChat.addChatMessage(e)}),1e3))},l.history_table=function(e){T.instance.PokerHistoryRealtime.displayHistory(e)},l.log_table=function(e){T.instance.PokerLogTable.setAllLogs(e)},l.gamePlayer=function(e){var t=this.player[e.ghe];void 0!==e.data&&t.setInfo(e.data),void 0!==e.info&&t.infoGame(e.info)},l.gameInfo=function(e){console.log("gameInfo:",e);var t=this;e.data.forEach(function(t){var i=T.instance.inGame.player[t.ghe];void 0!==t.data&&i.setInfo(t.data,!!e.win),void 0!==t.info&&i.infoGame(t.info)}.bind(this)),e.win&&(b(this.node).delay(1).call((function(){Object.values(t.player).forEach((function(e){e.item.forEach((function(e){e.node.color=(new y).fromHEX("#999999")}))})),t.roomCard.children.forEach((function(t){t.color=(new y).fromHEX("#999999"),e.win.bo.forEach((function(e){t.card&&t.card.card==e.card&&t.card.type==e.type&&(t.color=(new y).fromHEX("#FFFFFF"))}))}));var i=t.player[e.win.ghe];i.item.forEach((function(t){t.bai&&e.win.bo.forEach((function(e){t.bai.card==e.card&&t.bai.type==e.type&&(t.node.color=(new y).fromHEX("#FFFFFF"))}))})),2==e.win.code?(i.titleCard.node.active=!0,i.titleCard.spriteFrame=T.instance.inGame.titleCard[0]):3==e.win.code?(i.titleCard.node.active=!0,i.titleCard.spriteFrame=T.instance.inGame.titleCard[1]):4==e.win.code?(i.titleCard.node.active=!0,i.titleCard.spriteFrame=T.instance.inGame.titleCard[2]):5==e.win.code?(i.titleCard.node.active=!0,i.titleCard.spriteFrame=T.instance.inGame.titleCard[3]):6==e.win.code?(i.titleCard.node.active=!0,i.titleCard.spriteFrame=T.instance.inGame.titleCard[4]):7==e.win.code?(i.titleCard.node.active=!0,i.titleCard.spriteFrame=T.instance.inGame.titleCard[5]):8==e.win.code?(i.titleCard.node.active=!0,i.titleCard.spriteFrame=T.instance.inGame.titleCard[6]):9==e.win.code?(i.titleCard.node.active=!0,i.titleCard.spriteFrame=T.instance.inGame.titleCard[7]):10==e.win.code&&(i.titleCard.node.active=!0,i.titleCard.spriteFrame=T.instance.inGame.titleCard[8])})).start(),this.isPlay=!1)},l.showInfoTable=function(e){console.log("showInfoTable:",e),this.nodeInfoTable.getComponent(z).init(e)},l.showBtnSits=function(e){var t=this;if(void 0===e&&(e=!1),console.log("showBtnSits:",this.isPlay),!this.isPlay){var i=this.playerOrigin.find((function(e){return e.map===t.meMap}));console.log("myPlayer:",i,i.isSeated),i&&!1===i.isSeated&&this.playerOrigin.forEach((function(e){console.log("player.isSeated:",e.isSeated),e.resetGame(),e.isSeated?e.btnSitDown.active=!1:(setTimeout((function(){e.btnSitDown.active=!0}),3e3),e.mainUser.active=!1)}))}e&&this.playerOrigin.forEach((function(e){console.log("player.isSeated:",e.isSeated),e.btnSitDown.active=!1}))},l.animateBlinds=function(){var e=r(o().mark((function e(t){var i,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(i=this.smallBlindPlayer)||i.showBlindAnimation("SB",t.sb),null==(n=this.bigBlindPlayer)||n.showBlindAnimation("BB",t.bb),e.next=4,new Promise((function(e){return setTimeout(e,600)}));case 4:return e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),l.pingPong=function(){var e=this;this.schedule((function(){var t=e.roomId,i=T.instance.gameType,n=e.zoneGame;t&&T.instance.wsClient.send({scene:"Poker",g:{poker:{pingRoom:{roomid:t,gameType:i,game:e.game_bet,zoneGame:n}}}})}),10)},l.btnTestInit=function(){this.playerOrigin.forEach((function(e){e.setSeat(!1),e.mainUser.active=!0,e.btnSitDown.active=!1,e.receiveWinFromPot(1e4)})),console.log("meMap:",this.meMap)},l.btnTestStand=function(){var e=r(o().mark((function e(){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("meMap:",this.meMap),this.playerOrigin.forEach((function(e){t.meMap==e.map&&(e.mainUser.active=!1,e.setSeat(!1),e.btnSitDown.active=!0),t.dealerIndex=1})),e.next=4,this.animateBlinds([]);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.chiabai_3_test=function(){var e=r(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.resetGame(),this.roomCard.removeAllChildren(),t=[{card:1,type:3},{card:5,type:2},{card:10,type:1}],this.mainCard(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.chiabai_1_test=function(){var e=r(o().mark((function e(){var t,i,n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[{card:1,type:3}],150,i=this.roomCard.children[this.roomCard.children.length-1],n=i.position.clone(),a=new f(n.x+150,n.y,n.z),this.addNextMainCard(t[0],a);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.test_disconnect=function(){var e=r(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T.instance.wsClient.disconnect(),_.dispatchEvent("ThemePokerLobby");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t}(v)).prototype,"pokerNapGame",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=t(Pe.prototype,"pokerSettingTable",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=t(Pe.prototype,"pokerSetupTopic",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=t(Pe.prototype,"font1",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=t(Pe.prototype,"font2",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=t(Pe.prototype,"prefabNotice",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=t(Pe.prototype,"PokerChat",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=t(Pe.prototype,"PokerHistoryRealTimePrefab",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=t(Pe.prototype,"PokerLogTableNodePrefab",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=t(Pe.prototype,"ingameMenuNodePrefab",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=t(Pe.prototype,"loading",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=t(Pe.prototype,"redhat",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=t(Pe.prototype,"bo_bai",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=t(Pe.prototype,"nodeout",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=t(Pe.prototype,"notice",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=t(Pe.prototype,"Avatars",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Le=t(Pe.prototype,"player",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ue=t(Pe.prototype,"labelRoom",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=t(Pe.prototype,"gameName",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=t(Pe.prototype,"mainBet",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=t(Pe.prototype,"labelTimeStart",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Je=t(Pe.prototype,"roomCard",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xe=t(Pe.prototype,"prefabCard",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ke=t(Pe.prototype,"botton",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=t(Pe.prototype,"btm_bo",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=t(Pe.prototype,"btm_xem",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ye=t(Pe.prototype,"btm_theo",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=t(Pe.prototype,"btm_to",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qe=t(Pe.prototype,"btm_all",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ze=t(Pe.prototype,"nodePanelCardMain",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$e=t(Pe.prototype,"nodeBTNPane",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=t(Pe.prototype,"nodeTo",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=t(Pe.prototype,"titleCard",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),it=t(Pe.prototype,"CardCommon",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=t(Pe.prototype,"coinPrefab",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=t(Pe.prototype,"nodeInfoTable",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=t(Pe.prototype,"moneyRound",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=t(Pe.prototype,"pokerGameModeUI",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=Pe))||we));l._RF.pop()}}}));

System.register("chunks:///_virtual/PokerChat.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./PokerChatItem.ts"],(function(t){var e,n,a,o,i,r,c,s,l,h,u,p,C,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,r=t._decorator,c=t.EditBox,s=t.Prefab,l=t.Node,h=t.instantiate,u=t.ScrollView,p=t.Component},function(t){C=t.DataManager},function(t){f=t.PokerChatItem}],execute:function(){var d,g,m,k,b,y,v,I,P,w,M;i._RF.push({},"98257eWGwBH67zAiCAe/7Cw","PokerChat",void 0);var z=r.ccclass,D=r.property;t("PokerChat",(d=z("PokerChat"),g=D(c),m=D(s),k=D(s),b=D(l),d((I=e((v=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i))||this,a(e,"chatInput",I,o(e)),a(e,"pokerChatItem",P,o(e)),a(e,"pokerChatItemMe",w,o(e)),a(e,"chatContent",M,o(e)),e.chatHistory=[],e}n(e,t);var i=e.prototype;return i.onLoad=function(){C.instance.PokerChat=this},i.onEnable=function(){console.log("onEnable get chat"),C.instance.PokerChat=this,C.instance.wsClient.send({scene:"poker",g:{poker:{get_chat:"get_chat"}}})},i.onDisable=function(){},i.sendChat=function(){console.log("sendChat----");var t=this.chatInput.string.trim();0!==t.length&&(C.instance.wsClient.send({scene:"poker",g:{poker:{chat:t}}}),this.chatInput.string="")},i.openChat=function(){this.node.active=!0},i.btnCloseChat=function(){C.instance.inGame.node.getChildByName("PokerChat").active=!1},i.addChatMessage=function(t){var e=this,n=C.instance.userData;console.log("user:",n,n.id,t.uid);var a=n.id,o=t.uid===a,i=null;(i=h(o?this.pokerChatItemMe:this.pokerChatItem)).getComponent(f).updateItem(t),console.log("item"),this.chatContent.addChild(i),this.scheduleOnce((function(){var t=e.chatContent.parent.getComponent(u);t&&t.scrollToBottom(.2,!1)}),0)},i.displayChatHistory=function(t){var e=this;t.forEach((function(t){e.addChatMessage(t)}))},e}(p)).prototype,"chatInput",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(v.prototype,"pokerChatItem",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(v.prototype,"pokerChatItemMe",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(v.prototype,"chatContent",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=v))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/PokerChatIcon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourceManager.ts"],(function(e){var t,r,n,o,i,c,a,u,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,c=e._decorator,a=e.Sprite,u=e.Component},function(e){s=e.default}],execute:function(){var l,p,f,d,h;i._RF.push({},"22f7dcMMThC/qOiFgHruoYA","PokerChatIcon",void 0);var g=c.ccclass,y=c.property;e("PokerChatIcon",(l=g("PokerChatIcon"),p=y(a),l((h=t((d=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return t=e.call.apply(e,[this].concat(i))||this,n(t,"background",h,o(t)),t}r(t,e);var i=t.prototype;return i.init=function(e){var t=this;this.background.spriteFrame=s.instance.getSprite(e.emojiId),setTimeout((function(){t.node.destroy()}),3e3)},i.update=function(e){},t}(u)).prototype,"background",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=d))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/PokerChatItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourceManager.ts"],(function(e){var t,r,a,n,i,o,l,u,c,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,l=e.Sprite,u=e.Label,c=e.Component},function(e){p=e.default}],execute:function(){var s,b,f,h,g,v,m,y,d;i._RF.push({},"3106dc0GOBHjbVhu9o2pPBh","PokerChatItem",void 0);var C=o.ccclass,k=o.property;e("PokerChatItem",(s=C("PokerChatItem"),b=k(l),f=k(l),h=k(u),s((m=t((v=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,a(t,"avatarSprite",m,n(t)),a(t,"background",y,n(t)),a(t,"labelContent",d,n(t)),t}return r(t,e),t.prototype.updateItem=function(e){var t;(console.log("chat-----:",e),this.labelContent.string=e.message,e.avatar)&&(this.avatarSprite.spriteFrame=p.instance.getSprite("avatar"+(null!=(t=e.avatar)?t:1)))},t}(c)).prototype,"avatarSprite",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(v.prototype,"background",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(v.prototype,"labelContent",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=v))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/PokerGameModeHandler.ts",["cc"],(function(e){var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){o._RF.push({},"bfdafGn8MVE/KDYOCLP0W9a","PokerGameModeHandler",void 0);e("PokerGameModeHandler",function(){function e(){}return e.handle=function(e,o){var d,r,n,u,t,a=o.pokerGameMode;a.squidRoundStarted&&(null==(d=e.pokerGameModeUI)||d.startSquidRound(a.squidBB));a.squidWon&&(null==(r=e.pokerGameModeUI)||r.showSquidWin());a.squidReward&&(null==(n=e.pokerGameModeUI)||n.showSquidReward(a.squidReward));(console.log("mode.bombPotTriggered:",a.bombPotTriggered),a.bombPotTriggered)&&(null==(u=e.pokerGameModeUI)||u.showBombPotEffect());a.squidRoundEnded&&(null==(t=e.pokerGameModeUI)||t.resetUI())},e}());o._RF.pop()}}}));

System.register("chunks:///_virtual/PokerGameModeUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts","./ToastManager.ts"],(function(t){var i,n,e,o,u,a,r,s,c,l,d;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){u=t.cclegacy,a=t._decorator,r=t.Node,s=t.Label,c=t.Component},function(t){l=t.default},function(t){d=t.default}],execute:function(){var f,h,b,p,m,q,g,S,v;u._RF.push({},"9174eZMix5O/oAngeCarjgO","PokerGameModeUI",void 0);var y=a.ccclass,B=a.property;t("PokerGameModeUI",(f=y("PokerGameModeUI"),h=B(r),b=B(s),p=B(r),f((g=i((q=function(t){function i(){for(var i,n=arguments.length,u=new Array(n),a=0;a<n;a++)u[a]=arguments[a];return i=t.call.apply(t,[this].concat(u))||this,e(i,"iconSquid",g,o(i)),e(i,"squidCountLabel",S,o(i)),e(i,"bombPotEffect",v,o(i)),i.squidCount=0,i}n(i,t);var u=i.prototype;return u.onEnable=function(){this.iconSquid.active=!1},u.startSquidRound=function(t){this.iconSquid&&(this.iconSquid.active=!0),console.log("[SquidGame] Bắt đầu vòng, BB: "+t),d.instance.show("[SquidGame] Bắt đầu vòng, BB: "+t)},u.showSquidWin=function(){this.squidCount++,this.squidCountLabel&&(this.squidCountLabel.string=""+this.squidCount),d.instance.show("Animation mực bay, rung icon")},u.showSquidReward=function(t){console.log("[SquidGame] Nhận phần thưởng: "+t+" BB"),d.instance.show("[SquidGame] Nhận phần thưởng: "+t+" BB")},u.showBombPotEffect=function(){l.instance.playSound("gift_bomber"),d.instance.show("Bomb is start"),this.bombPotEffect&&(this.bombPotEffect.active=!0)},u.resetUI=function(){this.squidCount=0,this.iconSquid&&(this.iconSquid.active=!1),this.squidCountLabel&&(this.squidCountLabel.string="0"),this.bombPotEffect&&(this.bombPotEffect.active=!1)},i}(c)).prototype,"iconSquid",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=i(q.prototype,"squidCountLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(q.prototype,"bombPotEffect",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=q))||m));u._RF.pop()}}}));

System.register("chunks:///_virtual/PokerHistoryRealTime.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./PokerItemHistoryRealtime.ts"],(function(o){var e,t,n,i,r,a,s,l,c,u,y,m;return{setters:[function(o){e=o.applyDecoratedDescriptor,t=o.inheritsLoose,n=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){r=o.cclegacy,a=o._decorator,s=o.Prefab,l=o.Node,c=o.instantiate,u=o.Component},function(o){y=o.DataManager},function(o){m=o.PokerItemHistoryRealtime}],execute:function(){var h,p,d,f,g,v,H;r._RF.push({},"053f65HyCBF+Lg25TVvWICp","PokerHistoryRealTime",void 0);var k=a.ccclass,C=a.property;o("PokerHistoryRealTime",(h=k("PokerHistoryRealTime"),p=C(s),d=C(l),h((v=e((g=function(o){function e(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=o.call.apply(o,[this].concat(r))||this,n(e,"pokerHistoryItem",v,i(e)),n(e,"historyContent",H,i(e)),e.pokerHistory=[],e}t(e,o);var r=e.prototype;return r.onLoad=function(){y.instance.PokerHistoryRealtime=this},r.onEnable=function(){console.log("onEnable get get_history_realtime"),y.instance.PokerHistoryRealtime=this,y.instance.wsClient.send({scene:"poker",g:{poker:{get_history_realtime:"get_history_realtime"}}})},r.onDisable=function(){this.historyContent.removeAllChildren()},r.addHistory=function(o,e){var t=this;console.log("dataWiner",o);var n=o.players,i=Number(e.roomType)||0;n[0].forEach((function(o){var e,n,r;console.log("element:",o);var a=(null==o?void 0:o.name)||(null==(e=o.data)?void 0:e.name)||"Unknown",s=(null==(n=o.info)?void 0:n.win)||0,l=(null==(r=o.info)?void 0:r.lost)||0,u=c(t.pokerHistoryItem);console.log("winAmount:",s,l),u.getComponent(m).init({name:a,buyIn:i,winAmount:s,lostAmount:l}),t.historyContent.addChild(u)}))},r.openChat=function(){this.node.active=!0},r.btnClose=function(){console.log("btnCloseChat----"),y.instance.inGame.node.getChildByName("PokerHistoryRealTime").active=!1},r.displayHistory=function(o){var e=this;console.log("history:",o);var t=o.turnLogs.find((function(o){return"shutdown"===o.round}));t?(console.log("Shutdown Actions:",t.actions),t.actions.forEach((function(t){e.addHistory(t,o)}))):console.log("Không có vòng shutdown trong lịch sử.")},e}(u)).prototype,"pokerHistoryItem",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(g.prototype,"historyContent",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=g))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/PokerItemHistoryRealtime.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts"],(function(e){var t,n,i,r,o,l,a,u,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.Label,u=e.Component},function(e){s=e.numberFormat}],execute:function(){var c,b,m,p,y,f,L,h,g;o._RF.push({},"d751bhTnP1EbbM8MwGxFOW7","PokerItemHistoryRealtime",void 0);var w=l.ccclass,I=l.property;e("PokerItemHistoryRealtime",(c=w("PokerItemHistoryRealtime"),b=I(a),m=I(a),p=I(a),c((L=t((f=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,i(t,"nameLabel",L,r(t)),i(t,"buyInLabel",h,r(t)),i(t,"winLabel",g,r(t)),t}return n(t,e),t.prototype.init=function(e){this.nameLabel.string=e.name,this.buyInLabel.string=""+s(e.buyIn),e.lostAmount>0?this.winLabel.string="-"+s(e.lostAmount):this.winLabel.string="+"+s(e.winAmount)},t}(u)).prototype,"nameLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=t(f.prototype,"buyInLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(f.prototype,"winLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=f))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/PokerLogTable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./PokerLogTableItem.ts"],(function(t){var e,n,o,r,i,l,a,s,u,c,g,h,d,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,l=t._decorator,a=t.Prefab,s=t.Node,u=t.Button,c=t.Label,g=t.instantiate,h=t.Component},function(t){d=t.DataManager},function(t){p=t.PokerLogTableItem}],execute:function(){var b,f,L,v,x,C,I,T,k,m,P,y,B;i._RF.push({},"3d33f5dyWBGPaFP+CRhXOSs","PokerLogTable",void 0);var w=l.ccclass,_=l.property;t("PokerLogTable",(b=w("PokerLogTable"),f=_(a),L=_(s),v=_(u),x=_(u),C=_(c),b((k=e((T=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return e=t.call.apply(t,[this].concat(i))||this,o(e,"pokerLogTableItem",k,r(e)),o(e,"logContent",m,r(e)),o(e,"nextButton",P,r(e)),o(e,"prevButton",y,r(e)),o(e,"handTitle",B,r(e)),e.allLogs=[],e.currentIndex=0,e}n(e,t);var i=e.prototype;return i.onLoad=function(){d.instance.PokerLogTable=this},i.onEnable=function(){console.log("onEnable get get_log_table"),d.instance.PokerLogTable=this,d.instance.wsClient.send({scene:"poker",g:{poker:{get_log_table:"get_log_table"}}})},i.onDisable=function(){this.logContent.removeAllChildren()},i.setAllLogs=function(t){console.log("setAllLogs:",t),this.allLogs=t,this.currentIndex=0,this.showCurrentLog(),this.updateButtons()},i.showCurrentLog=function(){var t=this;this.logContent.removeAllChildren();var e=this.allLogs[this.currentIndex];e&&(this.handTitle.string="♠️ Hand #"+e.handId,e.turnLogs.forEach((function(e){var n=g(t.pokerLogTableItem);n.getComponent(p).init(e),t.logContent.addChild(n)})))},i.updateButtons=function(){this.prevButton.node.active=this.currentIndex>0,this.nextButton.node.active=this.currentIndex<this.allLogs.length-1},i.onNext=function(){console.log("onNext:",this.currentIndex,this.allLogs.length),this.currentIndex<this.allLogs.length-1&&(this.currentIndex++,this.showCurrentLog(),this.updateButtons())},i.onPrev=function(){console.log("onNext:",this.currentIndex,this.allLogs.length),this.currentIndex>0&&(this.currentIndex--,this.showCurrentLog(),this.updateButtons())},i.btnClose=function(){console.log("btnClose:"),d.instance.PokerLogTable.node.active=!1},e}(h)).prototype,"pokerLogTableItem",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=e(T.prototype,"logContent",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(T.prototype,"nextButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(T.prototype,"prevButton",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(T.prototype,"handTitle",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=T))||I));i._RF.pop()}}}));

System.register("chunks:///_virtual/PokerLogTableItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./playerInfo.ts"],(function(e){var r,n,t,o,i,a,l,u,c,p,b,s;return{setters:[function(e){r=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,l=e.Label,u=e.Node,c=e.Prefab,p=e.instantiate,b=e.Component},function(e){s=e.playerInfo}],execute:function(){var f,y,d,g,L,h,m,C,I,P,v;i._RF.push({},"553b6Cr2rhEf5zgS6VOVyFj","PokerLogTableItem",void 0);var z=a.ccclass,k=a.property;e("PokerLogTableItem",(f=z("PokerLogTableItem"),y=k(l),d=k(l),g=k(u),L=k(c),f((C=r((m=function(e){function r(){for(var r,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i))||this,t(r,"roundLabel",C,o(r)),t(r,"boardLabel",I,o(r)),t(r,"playerListContainer",P,o(r)),t(r,"playerInfoPrefab",v,o(r)),r}return n(r,e),r.prototype.init=function(e){var r=this;console.log("turn:",e),this.roundLabel.string="🃏 Round: "+e.round.toUpperCase(),e.board&&e.board.length>0||(this.boardLabel.string=""),this.playerListContainer.removeAllChildren(),e.actions.forEach((function(e){var n=p(r.playerInfoPrefab);n.getComponent(s).init(e),r.playerListContainer.addChild(n)}))},r}(b)).prototype,"roundLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=r(m.prototype,"boardLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=r(m.prototype,"playerListContainer",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=r(m.prototype,"playerInfoPrefab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=m))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/PokerNap.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./Helper.ts","./Utils.ts"],(function(e){var t,i,n,a,r,o,l,s,b,u,c,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,l=e.Label,s=e.Slider,b=e.Component},function(e){u=e.DataManager},function(e){c=e.Helper},function(e){p=e.formatCurrency}],execute:function(){var h,f,m,d,g,M,y,k,x,v,P,C,L;r._RF.push({},"faaebdaZyREobkWomsbbqQb","PokerNap",void 0);var S=o.ccclass,V=o.property;e("PokerNap",(h=S("PokerNap"),f=V(l),m=V(l),d=V(l),g=V(l),M=V(s),h((x=t((k=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"blindValue",x,a(t)),n(t,"labelBet",v,a(t)),n(t,"feeMin",P,a(t)),n(t,"feeMax",C,a(t)),t.min=20,t.max=200,t.betMin=0,t.betMax=0,t.h=0,t.offsetX={localX:0,x:0},t.bet=100,t.betValue=100,n(t,"feeSlider",L,a(t)),t.dataRoom=null,t}i(t,e);var r=t.prototype;return r.init=function(e,t){console.log("data-----",t),this.bet=t.blinds.min,this.betValue=t.fee.min,this.betMin=t.fee.min,this.betMax=t.fee.max,this.feeMin.string=this.labelBet.string=c.numberWithCommas(this.betMin),this.feeMax.string=c.numberWithCommas(this.betMax),this.blindValue.string=p(t.blinds.min)+"-"+p(t.blinds.max),console.log("this.betMin:",this.betMin,this.betMax);var i=c.mapSlider(this.feeSlider,this.betMin,this.betMax);console.log("this.betMin:",this.betMin,this.betMax,i),this.feeSlider.progress=c.getSliderProgressFromValue(i,this.betMin,this.betMax),this.dataRoom=t},r.onOkClick=function(){console.log("onOkClick to popker labelBet, gameType:",this.betValue,u.instance.UIPokerLobby.gameType),u.instance.wsClient.send({g:{poker:{reg:{room:this.bet,red:!0,balans:this.betValue,auto:!0,dataRoom:this.dataRoom},gameType:u.instance.UIPokerLobby.gameType}}})},r.updateLabel=function(){var e=Math.round(this.betMin+(this.betMax-this.betMin)*this.feeSlider.progress);this.labelBet.string=p(e),this.betValue=e},r.onSliderChange=function(){this.updateLabel()},r.onCancelClick=function(){u.instance.UIPokerLobby.popupNap.active=!1,u.instance.UIPokerLobby.mainLobby.active=!0},t}(b)).prototype,"blindValue",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(k.prototype,"labelBet",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(k.prototype,"feeMin",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(k.prototype,"feeMax",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(k.prototype,"feeSlider",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=k))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/PokerNapGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Helper.ts","./DataManager.ts","./eventManager.ts","./Utils.ts"],(function(e){var n,t,i,r,a,l,o,s,u,c,b,p,d;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.Slider,s=e.Label,u=e.Component},function(e){c=e.Helper},function(e){b=e.DataManager},function(e){p=e.eventManager},function(e){d=e.numberFormat}],execute:function(){var M,g,f,h,m,y,v,x,B,k,S,z,P;a._RF.push({},"7dad3ub3jxIIZR/nn3zSuor","PokerNapGame",void 0);var w=l.ccclass,D=l.property;e("PokerNapGame",(M=w("PokerNapGame"),g=D(o),f=D(s),h=D(s),m=D(s),y=D(s),M((B=n((x=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return n=e.call.apply(e,[this].concat(a))||this,i(n,"sliderBlinds",B,r(n)),i(n,"labelBet",k,r(n)),i(n,"labelMin",S,r(n)),i(n,"labelMax",z,r(n)),i(n,"currentMyMoney",P,r(n)),n.min=0,n.max=0,n.betMin=0,n.betMax=0,n.x=void 0,n}t(n,e);var a=n.prototype;return a.init=function(e){console.log("init nam game",e),this.betMin=20*e;var n=c.getMoneyType("xu"),t=b.instance.userData[n];this.betMax=200*e;var i=c.getMoneyName(n);this.currentMyMoney.string=i+": "+d(t),this.sliderBlinds.progress=this.betMin/(t-1)},a.onEnable=function(){var e=this,n=c.mapSlider(this.sliderBlinds,this.betMin,this.betMax);this.sliderBlinds.progress=c.getSliderProgressFromValue(n,this.betMin,this.betMax),this.sliderBlinds.node.on("slide",(function(){console.log("this.betMin",e.betMin,e.betMax),e.labelBet.string=d(""+c.mapSlider(e.sliderBlinds,e.betMin,e.betMax))}))},a.onOkClick=function(){b.instance.wsClient.send({g:{poker:{nap:{balans:c.getOnlyNumberInString(this.labelBet.string),auto:!0}}}})},a.onCancelClick=function(){this.node.active=!1},a.onOpenShop=function(){b.instance.UISHOP.navigative="poker",p.dispatchEvent("ThemeShop")},n}(u)).prototype,"sliderBlinds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(x.prototype,"labelBet",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=n(x.prototype,"labelMin",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(x.prototype,"labelMax",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=n(x.prototype,"currentMyMoney",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=x))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/PokerSettingTable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts"],(function(e){var t,i,n,o,r,a,s,l,u,c,g,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Toggle,l=e.Node,u=e.Button,c=e.Slider,g=e.Component},function(e){d=e.DataManager}],execute:function(){var h,p,b,f,C,m,B,S,x,y,k,v,z,I,A,T,R,w,E,V,D,q,P;r._RF.push({},"ee11a2q6HpEE7zDDVDIyVDr","PokerSettingTable",void 0);var L=a.ccclass,_=a.property;e("PokerSettingTable",(h=L("PokerSettingTable"),p=_(s),b=_(s),f=_(s),C=_(s),m=_(s),B=_(l),S=_([u]),x=_(c),y=_([u]),k=_(c),h((I=t((z=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"toggleTextChat",I,o(t)),n(t,"toggleVibration",A,o(t)),n(t,"toggleSqueezeCard",T,o(t)),n(t,"toggleExactBet",R,o(t)),n(t,"toggleCustomAction",w,o(t)),n(t,"panelCustomAction",E,o(t)),n(t,"betButtons",V,o(t)),n(t,"sliderBet",D,o(t)),n(t,"raiseButtons",q,o(t)),n(t,"sliderRaise",P,o(t)),t.selectedBetIndex=0,t.selectedRaiseIndex=0,t}i(t,e);var r=t.prototype;return r.onLoad=function(){this.panelCustomAction.active=this.toggleCustomAction.isChecked},r.start=function(){var e=this;this.toggleCustomAction.node.on("toggle",this.onToggleCustomAction,this),this.betButtons.forEach((function(t,i){t.node.on(u.EventType.CLICK,(function(){return e.onSelectBet(i)}),e)})),this.raiseButtons.forEach((function(t,i){t.node.on(u.EventType.CLICK,(function(){return e.onSelectRaise(i)}),e)})),this.updateButtonState()},r.onToggleCustomAction=function(e){this.panelCustomAction.active=e.isChecked},r.onSelectBet=function(e){this.selectedBetIndex=e,this.updateButtonState()},r.onSelectRaise=function(e){this.selectedRaiseIndex=e,this.updateButtonState()},r.updateButtonState=function(){var e=this;this.betButtons.forEach((function(t,i){t.node.getComponent(u).interactable=i!==e.selectedBetIndex})),this.raiseButtons.forEach((function(t,i){t.node.getComponent(u).interactable=i!==e.selectedRaiseIndex}))},r.onClose=function(){this.onClickSaveSetting(),this.node.active=!1},r.getSettings=function(){return{textChat:this.toggleTextChat.isChecked,vibration:this.toggleVibration.isChecked,squeezeCard:this.toggleSqueezeCard.isChecked,exactBet:this.toggleExactBet.isChecked,customAction:this.toggleCustomAction.isChecked,betIndex:this.selectedBetIndex,betValue:this.sliderBet.progress,raiseIndex:this.selectedRaiseIndex,raiseValue:this.sliderRaise.progress}},r.onClickSaveSetting=function(){var e=this.getSettings(),t={scene:"Poker",g:{poker:{table_setting:{roomId:d.instance.inGame.roomId,settings:e}}}};d.instance.wsClient.send(t)},r.applySettings=function(e){this.toggleTextChat.isChecked=e.textChat,this.toggleVibration.isChecked=e.vibration,this.toggleSqueezeCard.isChecked=e.squeezeCard,this.toggleExactBet.isChecked=e.exactBet,this.toggleCustomAction.isChecked=e.customAction,this.sliderBet.progress=e.betValue,this.sliderRaise.progress=e.raiseValue,this.onSelectBet(e.betIndex||0),this.onSelectRaise(e.raiseIndex||0)},t}(g)).prototype,"toggleTextChat",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(z.prototype,"toggleVibration",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(z.prototype,"toggleSqueezeCard",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(z.prototype,"toggleExactBet",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(z.prototype,"toggleCustomAction",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(z.prototype,"panelCustomAction",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(z.prototype,"betButtons",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=t(z.prototype,"sliderBet",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(z.prototype,"raiseButtons",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=t(z.prototype,"sliderRaise",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=z))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/PokerSettingTopic.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./ToastManager.ts","./PokerThemeItem.ts","./ResourceManager.ts"],(function(e){var t,a,r,i,n,l,c,o,s,d,u,h,b,m,p,f,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,n=e.createForOfIteratorHelperLoose},function(e){l=e.cclegacy,c=e._decorator,o=e.Sprite,s=e.Button,d=e.ScrollView,u=e.Prefab,h=e.instantiate,b=e.Component},function(e){m=e.DataManager},function(e){p=e.default},function(e){f=e.PokerThemeItem},function(e){v=e.default}],execute:function(){var T,w,C,g,_,P,y,D,S,k,B,I,L,z,F,E,G,K,M,V,R,X,x;l._RF.push({},"c4cdbJQtXxI3bY8ddZvNde4","PokerSettingTopic",void 0);var A=c.ccclass,H=c.property;e("PokerSettingTopic",(T=A("PokerSettingTopic"),w=H(o),C=H([o]),g=H(s),_=H(s),P=H(s),y=H(s),D=H(d),S=H(d),k=H(d),B=H(u),T((z=t((L=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=e.call.apply(e,[this].concat(n))||this,r(t,"tableBG",z,i(t)),r(t,"cardSprites",F,i(t)),r(t,"btnTheme",E,i(t)),r(t,"btnTable",G,i(t)),r(t,"btnCard",K,i(t)),r(t,"btnSubmit",M,i(t)),r(t,"scrollTheme",V,i(t)),r(t,"scrollTable",R,i(t)),r(t,"scrollCard",X,i(t)),r(t,"itemPrefab",x,i(t)),t.themeData=[],t.tableData=[],t.cardData=[],t.selectedTheme="",t.selectedTable="",t.selectedCard="",t.selectedCardFolder="",t.currentTab="theme",t.dataCallBack=[],t}a(t,e);var l=t.prototype;return l.onLoad=function(){var e=this;this.btnTheme.node.on(s.EventType.CLICK,(function(){return e.switchTab("theme")}),this),this.btnTable.node.on(s.EventType.CLICK,(function(){return e.switchTab("table")}),this),this.btnCard.node.on(s.EventType.CLICK,(function(){return e.switchTab("card")}),this),this.btnSubmit.node.on(s.EventType.CLICK,this.onSubmit,this),this.loadData()},l.onEnable=function(){var e=this;setTimeout((function(){e.switchTab("theme")}),1e3)},l.loadData=function(){this.tableData=[{id:"game_table_theme_default",name:"Bàn Xanh Lá",preview:"game_table_theme_default"},{id:"game_table_theme_1",name:"Bàn Đỏ",preview:"game_table_theme_1"},{id:"game_table_theme_2",name:"Bàn Xanh Dương",preview:"game_table_theme_2"},{id:"game_table_theme_3",name:"Bàn Gỗ",preview:"game_table_theme_3"}],this.cardData=[{id:"card1",folder:"card1",name:"Lá Cổ điển",preview:"card1"},{id:"card2",folder:"card2",name:"Lá VIP",preview:"card2"},{id:"card3",folder:"card3",name:"Lá Kim loại",preview:"card3"},{id:"card4",folder:"card4",name:"Lá Bóng đêm",preview:"card4"}],this.themeData=[];for(var e,t=n(this.tableData);!(e=t()).done;)for(var a,r=e.value,i=n(this.cardData);!(a=i()).done;){var l=a.value;this.themeData.push({id:r.id+"_"+l.id,name:"Chủ đề "+r.name+" + "+l.name,preview:r.preview+"_"+l.preview,tableId:r.id,cardId:l.id,folder:l.folder})}console.log("this.themeData:",this.themeData)},l.switchTab=function(e){var t=this;this.currentTab=e,this.scrollTheme.node.active="theme"===e,this.scrollTable.node.active="table"===e,this.scrollCard.node.active="card"===e;var a=[];switch(e){case"theme":a=this.themeData;break;case"table":a=this.tableData;break;case"card":a=this.cardData}var r=this.getCurrentScrollView().content;r.removeAllChildren(),a.forEach((function(a){var i=h(t.itemPrefab);r.addChild(i);var n=i.getComponent(f),l="theme"===e&&t.selectedTheme===a.id||"table"===e&&t.selectedTable===a.id||"card"===e&&t.selectedCard===a.id;n.init(a,l,t.currentTab),n.setClickCallback((function(e){console.log("dataCallBack",e),t.dataCallBack=e,"theme"==t.currentTab?(t.updatePreviewTable(),t.updatePreviewCard()):"table"==t.currentTab?t.updatePreviewTable():"card"==t.currentTab&&t.updatePreviewCard()}))}))},l.getCurrentScrollView=function(){switch(this.currentTab){case"theme":return this.scrollTheme;case"table":return this.scrollTable;case"card":return this.scrollCard}},l.selectTheme=function(e){this.selectedTheme=e.id,this.selectedTable=e.tableId,this.selectedCard=e.cardId,this.selectedCardFolder=e.folder,this.updatePreviewTable(),this.updatePreviewCard(),this.switchTab("theme")},l.selectTable=function(e){this.selectedTable=e.id,this.updatePreviewTable(),this.switchTab("table")},l.selectCard=function(e){this.selectedCard=e.id,this.selectedCardFolder=e.folder,this.updatePreviewTable(),this.switchTab("card")},l.updatePreviewTable=function(){var e;if("theme"==this.currentTab)this.tableBG.spriteFrame=v.instance.getSprite(null==(e=this.dataCallBack)?void 0:e.tableId);else if("table"==this.currentTab){var t;this.tableBG.spriteFrame=v.instance.getSprite(null==(t=this.dataCallBack)?void 0:t.preview)}},l.updatePreviewCard=function(){if("theme"==this.currentTab)for(var e,t=1,a=n(this.cardSprites);!(e=a()).done;){var r,i=e.value,l=(null==(r=this.dataCallBack)?void 0:r.folder)+"_game_table_card_"+t;i.spriteFrame=v.instance.getSprite(l),t++}else if("card"==this.currentTab)for(var c,o=1,s=n(this.cardSprites);!(c=s()).done;){var d,u=c.value,h=(null==(d=this.dataCallBack)?void 0:d.folder)+"_game_table_card_"+o;u.spriteFrame=v.instance.getSprite(h),o++}},l.onSubmit=function(){if(this.selectedTable&&this.selectedCard){var e={scene:"Poker",g:{set_theme:{themeId:this.selectedTheme,tableId:this.selectedTable,cardId:this.selectedCard}}};m.instance.wsClient.send(e),p.instance.show("Đã lưu cài đặt chủ đề"),this.node.active=!1}else console.warn("Chưa chọn bàn hoặc lá bài!")},l.onClose=function(){this.node.active=!1},t}(b)).prototype,"tableBG",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(L.prototype,"cardSprites",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=t(L.prototype,"btnTheme",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(L.prototype,"btnTable",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(L.prototype,"btnCard",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(L.prototype,"btnSubmit",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(L.prototype,"scrollTheme",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(L.prototype,"scrollTable",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(L.prototype,"scrollCard",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(L.prototype,"itemPrefab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=L))||I));l._RF.pop()}}}));

System.register("chunks:///_virtual/pokerSetupTopic.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts"],(function(t){var n,e,o,r,c;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,r=t.Component},function(t){c=t.DataManager}],execute:function(){var i;e._RF.push({},"80122XdzsdNb4xn5SmhOBvh","pokerSetupTopic",void 0);var p=o.ccclass;o.property,t("pokerSetupTopic",p("pokerSetupTopic")(i=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.init=function(t){},o.onBack=function(){c.instance.inGame.backLobby()},e}(r))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/PokerThemeItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourceManager.ts"],(function(e){var t,i,n,r,a,l,o,c,u,s,p,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.Button,c=e.Sprite,u=e.Node,s=e.Label,p=e.Component},function(e){b=e.default}],execute:function(){var f,h,m,d,v,g,y,C,I,k,_;a._RF.push({},"c8cfbGAEftHiZH4PMQMXONv","PokerThemeItem",void 0);var P=l.ccclass,T=l.property;e("PokerThemeItem",(f=P("PokerThemeItem"),h=T(o),m=T(c),d=T(u),v=T(s),f((C=t((y=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,n(t,"btnContainer",C,r(t)),n(t,"spriteImage",I,r(t)),n(t,"borderActive",k,r(t)),n(t,"labelName",_,r(t)),t._data=null,t._callback=null,t}i(t,e);var a=t.prototype;return a.init=function(e,t,i){var n=this;this._data=e,"theme"==i?this.spriteImage.spriteFrame=b.instance.getSprite(e.tableId):"table"!=i&&"card"!=i||(this.spriteImage.spriteFrame=b.instance.getSprite(e.preview)),this.setSelected(t),this.btnContainer&&(this.btnContainer.node.off(o.EventType.CLICK),this.btnContainer.node.on(o.EventType.CLICK,(function(){null==n._callback||n._callback(n._data)})))},a.setSelected=function(e){this.borderActive&&(this.borderActive.active=e)},a.setClickCallback=function(e){this._callback=e},t}(p)).prototype,"btnContainer",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(y.prototype,"spriteImage",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(y.prototype,"borderActive",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(y.prototype,"labelName",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=y))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/PokerTo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Helper.ts","./DataManager.ts"],(function(e){var t,n,i,r,a,s,l,o,b,u,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,l=e.Slider,o=e.Label,b=e.Component},function(e){u=e.Helper},function(e){c=e.DataManager}],execute:function(){var h,g,m,p,M,f,y,d,v,x,B;a._RF.push({},"25a76d+xRNBuraWyRBkRAnK","PokerTo",void 0);var S=s.ccclass,k=s.property;e("PokerTo",(h=S("PokerTo"),g=k(l),m=k(o),p=k(o),M=k(o),h((d=t((y=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,i(t,"touch",d,r(t)),i(t,"labelBet",v,r(t)),i(t,"labelMin",x,r(t)),i(t,"labelMax",B,r(t)),t.betMin=0,t.betMax=0,t.h=0,t.offsetY={localY:0,y:0},t}n(t,e);var a=t.prototype;return a.onEnable=function(){var e=c.instance.inGame.player[c.instance.inGame.meMap],t=u.getOnlyNumberInString(c.instance.inGame.mainBet.string),n=u.getOnlyNumberInString(e.bet.string),i=u.getOnlyNumberInString(e.balans.string),r=t-n;if(this.betMax=i-r,this.betMax<1)return this.node.active=!1,void(c.instance.inGame.btm_to.active=!1);var a=u.getOnlyNumberInString(c.instance.inGame.infoTable.minBlind);this.betMin=a>>0,this.h=this.betMin<=100?50:this.betMin<=1e3?500:this.betMin<=1e4?1e3:this.betMin<=1e5?1e4:1e6,this.labelMin.string=this.labelBet.string=u.numberWithCommas(this.betMin),this.labelMax.string=u.numberWithCommas(this.betMax),this.betMin=this.betMin/this.h,this.betMax=this.betMax/this.h,this.touch.progress=0},a.onDisable=function(){this.touch.progress=0},a.onOkClick=function(){console.log("onOkClick",this.labelBet.string),c.instance.wsClient.send({g:{poker:{to:u.getOnlyNumberInString(this.labelBet.string)}}}),this.touch.progress=0},a.updateRaiseAmount=function(e){var t=c.instance.inGame.player[c.instance.inGame.meMap],n=u.getOnlyNumberInString(c.instance.inGame.mainBet.string),i=u.getOnlyNumberInString(t.bet.string),r=u.getOnlyNumberInString(t.balans.string),a=n-i;this.betMax=r-a;var s=u.getOnlyNumberInString(c.instance.inGame.infoTable.minBlind);this.betMin=s>>0;var l=Math.round(this.betMin+(this.betMax-this.betMin)*e);this.labelBet.string=u.numberWithCommas(l)},a.onSliderChanged=function(e){this.updateRaiseAmount(e.progress)},t}(b)).prototype,"touch",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(y.prototype,"labelBet",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(y.prototype,"labelMin",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(y.prototype,"labelMax",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=y))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/PokerToPractice.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Helper.ts","./DataManager.ts"],(function(t){var e,i,n,r,a,l,s,o,c,b,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,l=t._decorator,s=t.Slider,o=t.Label,c=t.Component},function(t){b=t.Helper},function(t){u=t.DataManager}],execute:function(){var h,g,p,m,M,f,y,d,v,x,S;a._RF.push({},"060d66uQK5KQLDgJUj9NIdx","PokerToPractice",void 0);var B=l.ccclass,I=l.property;t("PokerToPractice",(h=B("PokerToPractice"),g=I(s),p=I(o),m=I(o),M=I(o),h((d=e((y=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a))||this,n(e,"touch",d,r(e)),n(e,"labelBet",v,r(e)),n(e,"labelMin",x,r(e)),n(e,"labelMax",S,r(e)),e.betMin=0,e.betMax=0,e.h=0,e.offsetY={localY:0,y:0},e}i(e,t);var a=e.prototype;return a.onEnable=function(){var t=u.instance.practice.player[1],e=b.getOnlyNumberInString(u.instance.practice.mainBet.string),i=b.getOnlyNumberInString(t.bet.string),n=b.getOnlyNumberInString(t.balans.string),r=e-i;if(this.betMax=n-r,this.betMax<1)return this.node.active=!1,void(u.instance.practice.btm_to.active=!1);var a=b.getOnlyNumberInString(u.instance.practice.infoTable.minBlind);this.betMin=a>>0,this.h=this.betMin<=100?50:this.betMin<=1e3?500:this.betMin<=1e4?1e3:this.betMin<=1e5?1e4:1e6,this.labelMin.string=this.labelBet.string=b.numberWithCommas(this.betMin),this.labelMax.string=b.numberWithCommas(this.betMax),this.betMin=this.betMin/this.h,this.betMax=this.betMax/this.h,this.touch.progress=0},a.onDisable=function(){this.touch.progress=0},a.onOkClick=function(){console.log("onOkClick",this.labelBet.string),u.instance.wsClient.send({g:{poker:{to:b.getOnlyNumberInString(this.labelBet.string)}}}),this.touch.progress=0},a.updateRaiseAmount=function(t){var e=u.instance.practice.player[1],i=b.getOnlyNumberInString(u.instance.practice.mainBet.string),n=b.getOnlyNumberInString(e.bet.string),r=b.getOnlyNumberInString(e.balans.string),a=i-n;this.betMax=r-a;var l=b.getOnlyNumberInString(u.instance.practice.infoTable.minBlind);this.betMin=l>>0;var s=Math.round(this.betMin+(this.betMax-this.betMin)*t);this.labelBet.string=b.numberWithCommas(s)},a.onSliderChanged=function(t){this.updateRaiseAmount(t.progress)},e}(c)).prototype,"touch",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(y.prototype,"labelBet",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(y.prototype,"labelMin",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(y.prototype,"labelMax",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=y))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/PokerUserInfoPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourceManager.ts","./DataManager.ts"],(function(e){var i,n,t,a,o,r,l,c,s,u,p,m,f,b,h;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,l=e.Sprite,c=e.Label,s=e.ScrollView,u=e.Prefab,p=e.instantiate,m=e.Node,f=e.Component},function(e){b=e.default},function(e){h=e.DataManager}],execute:function(){var d,g,v,P,y,j,L,T,k,C,U,D,I;o._RF.push({},"9943dMSpMxEeZJsHJ0RoUOL","PokerUserInfoPopup",void 0);var w=r.ccclass,E=r.property;e("PokerUserInfoPopup",(d=w("PokerUserInfoPopup"),g=E(l),v=E(c),P=E(c),y=E(s),j=E(u),d((k=i((T=function(e){function i(){for(var i,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return i=e.call.apply(e,[this].concat(o))||this,t(i,"avatar",k,a(i)),t(i,"nameLabel",C,a(i)),t(i,"idLabel",U,a(i)),t(i,"emojiPanel",D,a(i)),i.chatType="",i.targetUser=null,i.animationList=["anim1","anim2","anim3","anim4"],i.emojiList=["emoji1","emoji2","emoji3","emoji4"],i.iconList=["icon1","icon2","icon3","icon4"],t(i,"itemPrefab",I,a(i)),i}n(i,e);var o=i.prototype;return o.init=function(e){var i;console.log("userData:----",e),this.targetUser=e,this.nameLabel.string=e.name,this.idLabel.string="ID: "+e.UUID,this.avatar.spriteFrame=b.instance.getSprite("avatar"+(null!=(i=e.avatar)?i:1))},o.onEnable=function(){this.loadTab("animation")},o.onClickAnimationTab=function(){this.loadTab("animation")},o.onClickEmojiTab=function(){this.loadTab("emoji")},o.onClickIconTab=function(){this.loadTab("icon")},o.loadTab=function(e){var i=this;this.chatType=e,this.emojiPanel.content.removeAllChildren();var n=[];"animation"===e?n=this.animationList:"emoji"===e?n=this.emojiList:"icon"===e&&(n=this.iconList),n.forEach((function(e){var n=p(i.itemPrefab),t=n.getChildByName("icon").getComponent(l);t&&(t.spriteFrame=b.instance.getSprite(e)),n.on(m.EventType.TOUCH_END,(function(){console.log("Clicked item:",e),i.onClickEmoji(e)}),i),i.emojiPanel.content.addChild(n)}))},o.onClickEmoji=function(e){this.node.destroy();var i={scene:"Poker",g:{poker:{chat:{receiverMap:this.targetUser.map,emojiId:e,chatType:this.chatType}}}};h.instance.wsClient.send(i)},o.closePopup=function(){this.node.removeFromParent()},i}(f)).prototype,"avatar",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(T.prototype,"nameLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(T.prototype,"idLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(T.prototype,"emojiPanel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(T.prototype,"itemPrefab",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=T))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/PoolManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,o;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,i=t.instantiate,o=t.NodePool}],execute:function(){n._RF.push({},"098e7OlO1NCD4KxjkIR6wxi","PoolManager",void 0),t("default",function(){function t(){this._dictPool={},this._dictPrefab={}}t.getInstance=function(){return null===this._instance&&(this._instance=new this),this._instance};var n=t.prototype;return n.copyNode=function(t,e){var n=t.name;this._dictPrefab[n]=t;var r=null;if(this._dictPool.hasOwnProperty(n)){var s=this._dictPool[n];r=s.size()>0?s.get():i(t)}else{var a=new o;this._dictPool[n]=a,r=i(t)}return e&&(r.parent=e,r.active=!0),r},n.getNode=function(t,e,n){var r,s;if("string"==typeof t){if(s=t,!(r=this._dictPrefab[t]))return null}else r=t,s=t.data.name;var a=null;if(this._dictPool.hasOwnProperty(s)){var c=this._dictPool[s];a=c.size()>0?c.get():i(r)}else{var l=new o;this._dictPool[s]=l,a=i(r)}return e&&(a.parent=e,a.active=!0,n&&(a.position=n)),a},n.putNode=function(t,e){if(t){var n=t.name,i=null;this._dictPool.hasOwnProperty(n)?i=this._dictPool[n]:(i=new o,this._dictPool[n]=i),i.put(t)}},n.clearPool=function(t){this._dictPool.hasOwnProperty(t)&&this._dictPool[t].clear()},n.setPrefab=function(t,e){this._dictPrefab[t]=e},n.getPrefab=function(t){return this._dictPrefab[t]},e(t,null,[{key:"instance",get:function(){return this.getInstance()}}]),t}())._instance=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/PopupCashierConfirm.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./NoticeManager.ts"],(function(e){var t,n,i,r,o,l,a,s,u,c,p,h,b,f,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.Label,s=e.EditBox,u=e.ScrollView,c=e.Prefab,p=e.Node,h=e.instantiate,b=e.Component},function(e){f=e.DataManager},function(e){g=e.NoticeManager}],execute:function(){var d,m,C,y,v,L,I,A,w,D,P,U,z,M,S,T,_;o._RF.push({},"110ad9GV/pGDZ3IK8j841hV","PopupCashierConfirm",void 0);var B=l.ccclass,N=l.property;e("PopupCashierConfirm",(d=B("PopupCashierConfirm"),m=N(a),C=N(a),y=N(s),v=N(a),L=N(u),I=N(c),A=N(p),d((P=t((D=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,i(t,"titleLabel",P,r(t)),i(t,"playerMoneyLabel",U,r(t)),i(t,"chipAmountInput",z,r(t)),i(t,"totalAmountLabel",M,r(t)),i(t,"userScroll",S,r(t)),i(t,"userItemPrefab",T,r(t)),t.selectedUsers=[],t.mode="send",t.currentBalance=0,i(t,"userListContent",_,r(t)),t}n(t,e);var o=t.prototype;return o.initPopup=function(e,t){var n=this;console.log("users",e),this.selectedUsers=e,this.mode=t,this.currentBalance=f.instance.userData.chipBlue,this.titleLabel.string="send"===t?"Gửi Chip":"Thu Hồi Chip",this.playerMoneyLabel.string=""+this.currentBalance.toLocaleString(),this.chipAmountInput.string="",this.totalAmountLabel.string="Tổng tiền: 0",this.userScroll.content.removeAllChildren(),e.forEach((function(e){var t,i=h(n.userItemPrefab);null==(t=i.getComponent("ClubCashierUserItem"))||t.init(e,null),n.userScroll.content.addChild(i)}))},o.onChipAmountChanged=function(e){var t=parseInt(e.string);if(isNaN(t)||t<=0)this.totalAmountLabel.string="Tổng tiền: 0";else{var n=t*this.selectedUsers.length;this.totalAmountLabel.string="Tổng tiền: "+n.toLocaleString()}},o.onClickConfirm=function(){var e=this,t=parseInt(this.chipAmountInput.string);if(!t||t<=0)g.instance.show("Vui lòng nhập số chip hợp lệ!");else{var n=[];console.log("this.selectedUsers:",this.selectedUsers);for(var i=function(){var t=e.userListContent.children[r].getComponent("ClubCashierUserItem");t&&t.selectToggle&&t.selectToggle.isChecked&&e.selectedUsers.forEach((function(e){console.log("user.UID:",e.uid,t.uid),e.uid==t.uid&&(console.log("pust user"),n.push(e))}))},r=0;r<this.userListContent.children.length;r++)i();console.log("selectedData send server:",n);var o={scene:"Club",g:{club:{club_cashier_to_user:{action:this.mode,users:n,amount:t,clubData:f.instance.UIClubManager.clubData}}}};f.instance.wsClient.send(o),this.node.active=!1}},o.onClickCancel=function(){this.node.active=!1},t}(b)).prototype,"titleLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(D.prototype,"playerMoneyLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(D.prototype,"chipAmountInput",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(D.prototype,"totalAmountLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(D.prototype,"userScroll",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(D.prototype,"userItemPrefab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(D.prototype,"userListContent",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=D))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/PopupVideo.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,t,i,n,r,l,c,a,s,u,p;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,c=e.VideoPlayer,a=e.Node,s=e.Vec3,u=e.tween,p=e.Component}],execute:function(){var d,y,h,P,f,v,g;r._RF.push({},"abb98obLmdNEYPPDMNTVahc","PopupVideo",void 0);var V=l.ccclass,b=l.property;e("PopupVideo",(d=V("PopupVideo"),y=b(c),h=b(a),d((v=o((f=function(e){function o(){for(var o,t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return o=e.call.apply(e,[this].concat(r))||this,i(o,"videoPlayer",v,n(o)),i(o,"closeButton",g,n(o)),o}t(o,e);var r=o.prototype;return r.start=function(){var e=this;this.closeButton&&this.closeButton.on("click",this.closePopup,this),this.videoPlayer.node.on("completed",(function(){console.log("Video đã kết thúc"),setTimeout((function(){e.closePopup()}),1e3)})),this.videoPlayer.node.on("stopped",(function(){console.log("Video đã dừng")})),this.videoPlayer.node.on("playing",(function(){console.log("Video đang phát")}))},r.playVideo=function(e){var o=this;console.log("playVideo----"),this.node.active=!0,this.node.scale=new s(0,0,0),u(this.node).to(.3,{scale:new s(1,1,1)},{easing:"backOut"}).call((function(){o.videoPlayer.resourceType=c.ResourceType.REMOTE,o.videoPlayer.remoteURL=e,o.videoPlayer.play()})).start()},r.closePopup=function(){this.videoPlayer.stop(),this.node.active=!1},o}(p)).prototype,"videoPlayer",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=o(f.prototype,"closeButton",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=f))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/Practice.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Helper.ts","./Poker_Player_Practice.ts","./PokerNapGame.ts","./DataManager.ts","./eventManager.ts","./Enum.ts","./Notice.ts","./Cards.ts"],(function(e){var t,a,i,n,r,o,l,s,u,c,h,m,g,b,d,p,f,y,v,D,C,B,P,w,_,R,k,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,r=e.createForOfIteratorHelperLoose},function(e){o=e.cclegacy,l=e._decorator,s=e.Font,u=e.Node,c=e.Prefab,h=e.SpriteFrame,m=e.Label,g=e.Slider,b=e.Sprite,d=e.UITransform,p=e.instantiate,f=e.tween,y=e.Vec3,v=e.Button,D=e.Component},function(e){C=e.Helper},function(e){B=e.Poker_Player_Practice},function(e){P=e.PokerNapGame},function(e){w=e.DataManager},function(e){_=e.eventManager},function(e){R=e.CURRENT_SCENCE},function(e){k=e.Notice},function(e){T=e.Cards}],execute:function(){var A,N,O,M,x,z,S,I,F,G,j,W,E,L,H,U,K,Q,V,q,X,Z,J,Y,$,ee,te,ae,ie,ne,re,oe,le,se,ue,ce,he,me,ge,be,de,pe,fe,ye,ve,De,Ce,Be,Pe,we,_e,Re,ke,Te,Ae,Ne,Oe,Me,xe,ze,Se,Ie,Fe,Ge,je,We,Ee,Le,He,Ue,Ke,Qe,Ve,qe,Xe,Ze,Je,Ye,$e,et,tt,at,it,nt,rt;o._RF.push({},"b9b64EQW+BDXZ9e81TOBFfM","Practice",void 0);var ot=l.ccclass,lt=l.property;e("default",(A=ot("Practice"),N=lt(P),O=lt(T),M=lt(s),x=lt(s),z=lt(u),S=lt(c),I=lt(u),F=lt(c),G=lt(u),j=lt(c),W=lt(u),E=lt(c),L=lt(u),H=lt(u),U=lt(u),K=lt(u),Q=lt(k),V=lt([h]),q=lt([B]),X=lt(m),Z=lt(m),J=lt(m),Y=lt(u),$=lt(u),ee=lt(u),te=lt(u),ae=lt(u),ie=lt(u),ne=lt(u),re=lt(u),oe=lt(u),le=lt(u),se=lt(u),ue=lt([h]),ce=lt(g),he=lt(m),me=lt(m),ge=lt(m),be=lt(u),de=lt(c),pe=lt(c),A((ve=t((ye=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i(t,"player_nap",ve,n(t)),i(t,"cards",De,n(t)),i(t,"font1",Ce,n(t)),i(t,"font2",Be,n(t)),i(t,"nodeNotice",Pe,n(t)),i(t,"prefabNotice",we,n(t)),i(t,"PokerChatNode",_e,n(t)),i(t,"PokerChat",Re,n(t)),i(t,"PokerHistoryRealTimeNode",ke,n(t)),i(t,"PokerHistoryRealTimePrefab",Te,n(t)),i(t,"PokerLogTableNode",Ae,n(t)),i(t,"PokerLogTableNodePrefab",Ne,n(t)),i(t,"loading",Oe,n(t)),i(t,"redhat",Me,n(t)),i(t,"bo_bai",xe,n(t)),i(t,"nodeout",ze,n(t)),i(t,"notice",Se,n(t)),i(t,"Avatars",Ie,n(t)),i(t,"player",Fe,n(t)),i(t,"labelRoom",Ge,n(t)),i(t,"mainBet",je,n(t)),i(t,"labelTimeStart",We,n(t)),i(t,"roomCard",Ee,n(t)),i(t,"prefabCard",Le,n(t)),i(t,"botton",He,n(t)),i(t,"btm_bo",Ue,n(t)),i(t,"btm_xem",Ke,n(t)),i(t,"btm_theo",Qe,n(t)),i(t,"btm_to",Ve,n(t)),i(t,"btm_all",qe,n(t)),i(t,"nodePanelCardMain",Xe,n(t)),i(t,"nodeBTNPane",Ze,n(t)),i(t,"nodeTo",Je,n(t)),i(t,"titleCard",Ye,n(t)),i(t,"touch",$e,n(t)),i(t,"labelBet",et,n(t)),i(t,"labelMin",tt,n(t)),i(t,"labelMax",at,n(t)),i(t,"moneyRound",it,n(t)),i(t,"coinPrefab",nt,n(t)),t.betMin=0,t.betMax=0,t.h=0,t.panel=!1,t.dataOn=!0,t.redTcard=null,t.meMap=null,t.time_start=void 0,t.turn=0,t.timeStop=0,t.game_player=null,t.regTime1=null,i(t,"CardCommon",rt,n(t)),t.gameData={cards:null,playerCards:[],boardCards:[],currentBet:0,currentPlayer:0,round:0},t}a(t,e);var o=t.prototype;return o.onLoad=function(){var e=this;w.instance.practice=this,this.game_player=null,this.player.forEach((function(t){t.player=e.player,t.init()})),this.redTcard=this.nodePanelCardMain.children.map((function(e){return e.getComponent(b)})),this.CardCommon.data.getComponent("CardGameCommon").config()},o.onEnable=function(){this.dataOn=!0,w.instance.CurrentScence=R.UI_PRACTICE,w.instance.practice=this,w.instance.inGame=null},o.onDisable=function(){this.resetGame()},o.init=function(){w.instance.practice=this,this.game_player=null,console.log("this.player:",this.player),Array.isArray(this.player)||(this.player=Object.values(this.player)),w.instance.practice.player.forEach((function(e){return e.init()})),this.onData()},o.onSelect=function(e,t){switch(t){case"huy":this.fold(this.player[1]);break;case"theo":this.call(this.player[1]);break;case"to":this.toggleTo(),this.gameData.someoneRaised=!0;break;case"xem":this.check(this.player[1]);break;case"all":this.allIn(this.player[1]);break;default:console.warn("Lựa chọn không hợp lệ: "+t),this.fold(this.player[1])}this.hidePlayerOptions(),"to"!==t&&this.nextTurn()},o.toggleTo=function(){this.nodeTo.active=!this.nodeTo.active,this.prepareRaiseUI()},o.toggleOut=function(){this.nodeout.active=!this.nodeout.active},o.prepareRaiseUI=function(){var e=this.player[1],t=+C.getOnlyNumberInString(this.mainBet.string),a=+C.getOnlyNumberInString(e.bet.string),i=+C.getOnlyNumberInString(e.balans.string),n=t-a;if(this.betMax=i-n,this.betMax<1)this.btm_to.active=!1;else{var r=+C.getOnlyNumberInString(this.labelRoom.string);this.betMin=r>>0,this.h=this.betMin<=100?50:this.betMin<=1e3?500:this.betMin<=1e4?1e3:this.betMin<=1e5?1e4:1e6,this.labelMin.string=this.labelBet.string=C.numberWithCommas(this.betMin),this.labelMax.string=C.numberWithCommas(this.betMax),this.betMin=this.betMin/this.h,this.betMax=this.betMax/this.h,this.touch.progress=0}},o.updateRaiseAmount=function(e){var t=this.player[1],a=+C.getOnlyNumberInString(this.mainBet.string),i=+C.getOnlyNumberInString(t.bet.string),n=+C.getOnlyNumberInString(t.balans.string),r=a-i;this.betMax=n-r;var o=+C.getOnlyNumberInString(this.labelRoom.string);this.betMin=o>>0;var l=Math.round(this.betMin+(this.betMax-this.betMin)*e);this.labelBet.string=C.numberWithCommas(l)},o.onRaiseConfirmed=function(){var e=this.player[1],t=+C.getOnlyNumberInString(this.mainBet.string),a=+C.getOnlyNumberInString(e.bet.string),i=+C.getOnlyNumberInString(e.balans.string),n=+C.getOnlyNumberInString(this.labelBet.string)-a;n>0&&i>=n&&a+n>t?(e.balans.string=C.numberWithCommas(i-n),e.bet.string=C.numberWithCommas(a+n),this.gameData.currentBet=a+n,this.gameData.pot+=n,this.mainBet.string=C.numberWithCommas(this.gameData.pot),this.gameData.someoneRaised=!0,e.hasActedThisRound=!0,this.nodeTo.active=!1,this.hidePlayerOptions(),this.nextTurn()):console.warn("Mức tố không hợp lệ."),this.touch.progress=0},o.onSliderChanged=function(e){this.updateRaiseAmount(e.progress)},o.update=function(e){0!==this.timeStop&&((new Date).getTime()-this.timeStop>=8e3&&(this.timeStop=0,this.resetGame()))},o.resetGame=function(){this.timeStop=0,this.mainBet.string="",this.roomCard.removeAllChildren(),this.nodeNotice.removeAllChildren(),this.hidePlayerOptions(),Object.values(this.player).forEach((function(e){e.resetGame()}))},o.mainCard=function(e){var t=this,a=.1,i=this.bo_bai.parent.getComponent(d).convertToWorldSpaceAR(this.bo_bai.position);e.forEach((function(e){var n=p(t.prefabCard);t.roomCard.addChild(n);var r=n.children[0].getComponent(b),o=r.node,l=o.parent.getComponent(d).convertToNodeSpaceAR(i);o.position=l,o.setScale(t.bo_bai.getComponent(d).width/o.getComponent(d).width,t.bo_bai.getComponent(d).height/o.getComponent(d).height,1),r.spriteFrame=w.instance.utilCard.cardB1,f(o).delay(a).parallel(f().to(.1,{position:new y(0,0,0)}),f().to(.1,{scale:new y(.7,.7,.7)})).delay(.1).to(.1,{scale:new y(0,1,1)}).call((function(){r.spriteFrame=w.instance.utilCard.getCard(e.card,e.type),n.card=e,r=null,e=null,n=null})).to(.1,{scale:new y(.7,.7,.7)}).start(),a+=.1}))},o.ChiaBai=function(){var e=100,t=200;this.gameData.cards=this.cards.initCardDeck(),this.gameData.playerCards=this.cards.chiaBai(2),this.gameData.round=0,this.gameData.currentBet=0,this.gameData.pot=0,this.gameData.someoneRaised=!1,this.gameData.firstActionPlayer=-1,this.gameData.currentPlayer=-1;var a=(Array.isArray(this.player)?this.player:Object.values(this.player)).length;this.gameData.dealerPosition=void 0===this.gameData.dealerPosition?1:this.gameData.dealerPosition%a+1,this.gameData.smallBlindPosition=this.gameData.dealerPosition%a+1,this.gameData.bigBlindPosition=this.gameData.smallBlindPosition%a+1;for(var i=1;i<=a;i++){var n=this.player[i];if(n&&n.node.active){n.resetForNewRound();for(var r=0,o=0;o<2;o++)n.ChiaBai(this.gameData.playerCards[i-1][o],o,r,!1,1==i),r+=.05;i===this.gameData.smallBlindPosition&&n.money>=e&&(n.payBlind(e),this.gameData.currentBet=e,n.bet.string=C.numberWithCommas(e),this.gameData.pot+=e),i===this.gameData.bigBlindPosition&&n.money>=t?(n.payBlind(t),this.gameData.currentBet=t,this.gameData.pot+=t,n.bet.string=C.numberWithCommas(t)):i===this.gameData.bigBlindPosition&&n.money<t&&(n.payBlind(n.money),this.gameData.currentBet=Math.max(this.gameData.currentBet,n.money),this.gameData.pot+=n.money,n.hasActedThisRound=!0)}else n&&(n.node.active=!1);this.mainBet.string=C.numberWithCommas(this.gameData.pot)}for(var l=this.gameData.bigBlindPosition%a+1,s=0;s<a;){var u=this.player[l];if(u&&u.node.active&&!u.isFolded&&!u.isAll){this.gameData.currentPlayer=l,console.log("Người chơi đầu tiên hành động (UTG): "+u.nickname.string);break}l=l%a+1,s++}this.nextTurn()},o.revealNextCard=function(){if(console.log("revealing next card...",this.gameData.round),1===this.gameData.round){for(var e=0;e<3;e++)this.gameData.boardCards.push(this.gameData.cards.pop());this.mainCard(this.gameData.boardCards)}else if(2===this.gameData.round||3===this.gameData.round){var t=this.gameData.cards.pop();this.gameData.boardCards.push(t),this.mainCard([t])}},o.showPlayerOptions=function(){this.botton.active=!0,this.btm_bo.active=!0,this.btm_xem.active=!1,this.btm_theo.active=!1,this.btm_to.active=!0,this.btm_all.active=!0;var e=this.player[1],t=this.gameData.currentBet,a=e.playerBet,i=e.money;t>a?(this.btm_xem.active=!1,this.btm_theo.active=!0,i<=t-a?(this.btm_theo.getComponent(v).interactable=!1,this.btm_all.active=!0):this.btm_theo.getComponent(v).interactable=!0):(this.btm_xem.active=!0,this.btm_theo.active=!1,0===i?(this.btm_xem.getComponent(v).interactable=!1,this.btm_to.getComponent(v).interactable=!1,this.btm_all.active=!1):(this.btm_xem.getComponent(v).interactable=!0,this.btm_to.getComponent(v).interactable=!0,this.btm_all.active=!0));var n=t>0?t-a:this.gameData.mainBet;this.btm_to.getComponent(v).interactable=!(i<=n),this.btm_all.active=i>0},o.hidePlayerOptions=function(){this.botton.active=!1,this.nodeTo.active=!1},o.handleBotDecision=function(e,t){switch(console.log("Bot",e.nickname.string," quyết định: "+t),t){case"huy":this.fold(e);break;case"theo":this.call(e);break;case"to":this.raise(e);break;case"xem":this.check(e);break;case"allin":this.allIn(e);break;default:console.warn("Quyết định không hợp lệ: "+t)}var a=(Array.isArray(this.player)?this.player:Object.values(this.player)).filter((function(e){return!e.isFolded}));if(1===a.length)return console.log("Người chơi "+a[0].nickname.string+" thắng vì tất cả người chơi khác đã bỏ bài."),void this.endRound(a[0]);this.nextTurn()},o.fold=function(e){console.log(e.nickname.string+" bỏ bài."),e.isFolded=!0,e.hasActedThisRound=!0,e.infoGame({huy:-1},!1)},o.call=function(e){var t=this.gameData.currentBet-e.playerBet;e.money>=t?(e.money-=t,e.playerBet+=t,e.balans.string=C.numberWithCommas(e.money),this.gameData.pot+=t,e.bet.string=C.numberWithCommas(e.playerBet),this.mainBet.string=C.numberWithCommas(this.gameData.pot),console.log(e.nickname.string+" theo "+t+". Tổng cược: "+e.playerBet),e.infoGame({theo:-1},!1)):this.allIn(e),e.hasActedThisRound=!0},o.raise=function(e){var t=this.calculateBotRaiseAmount(e),a=e.playerBet+t;if(e.money>=t&&a>this.gameData.currentBet){var i=a-e.playerBet;e.money-=i,e.playerBet=a,e.balans.string=C.numberWithCommas(e.money),this.gameData.currentBet=a,this.gameData.pot+=i,this.mainBet.string=C.numberWithCommas(this.gameData.pot),this.gameData.someoneRaised=!0,e.bet.string=C.numberWithCommas(e.playerBet),console.log(e.nickname.string+" tố "+t+". Tổng cược: "+e.playerBet),e.infoGame({to:-1},!1)}else this.call(e);e.hasActedThisRound=!0},o.check=function(e){console.log(e.nickname.string+" xem."),e.hasActedThisRound=!0,e.infoGame({xem:-1},!1)},o.allIn=function(e){var t=e.money;e.playerBet+=t,e.money=0,e.isAll=!0,e.balans.string="0",e.hasActedThisRound=!0,this.gameData.pot+=t,this.mainBet.string=C.numberWithCommas(this.gameData.pot),this.gameData.currentBet=Math.max(this.gameData.currentBet,e.playerBet),console.log(e.nickname.string+" All-in với "+t+". Tổng cược: "+e.playerBet),e.infoGame({all:-1},!1)},o.calculateBotRaiseAmount=function(e){var t=this.gameData.currentBet-e.playerBet,a=e.money;return Math.min(t+1e3,a)},o.endRound=function(e){console.log("Người chơi "+e.nickname.string+" thắng vòng này."),this.nodeNotice.removeAllChildren();var t=this.gameData.pot;e.money+=t,e.infoGame({win:t},!1),(Array.isArray(this.player)?this.player:Object.values(this.player)).forEach((function(e){e&&e.balans&&(e.balans.string=C.numberWithCommas(e.money))})),this.resetGameDataForNewHand(),this.infoRoom()},o.resetGameDataForNewHand=function(){console.log("Resetting game data for a new hand."),this.gameData.round=0,this.gameData.currentBet=0,this.gameData.pot=0,this.gameData.boardCards=[],this.gameData.playerCards=[],this.gameData.someoneRaised=!1,this.gameData.firstActionPlayer=-1,this.gameData.currentPlayer=-1,this.gameData.isNewBettingRound=!1,this.gameData.cards=this.cards.initCardDeck()},o.nextTurn=function(){var e=this;console.log("Lượt chơi hiện tại: Người chơi "+this.gameData.currentPlayer);for(var t,a=(Array.isArray(this.player)?this.player:Object.values(this.player)).length,i=this.gameData.currentPlayer,n=0,r=function(){i=i%a+1;var t=e.player[i];if(!t||!t.node.active||t.isFolded||t.isAll)return n++,0;var r=e.gameData.isNewBettingRound&&i===e.gameData.currentPlayer,o=!e.gameData.isNewBettingRound&&t.playerBet<e.gameData.currentBet&&!t.hasActedThisRound,l=0===e.gameData.round&&i===e.gameData.bigBlindPosition&&!e.gameData.someoneRaised&&!t.hasActedThisRound;if(r||o||l||t.playerBet<e.gameData.currentBet||!t.hasActedThisRound){if(e.gameData.currentPlayer=i,e.gameData.isNewBettingRound=!1,console.log("Đến lượt người chơi "+t.nickname.string+" ("+t.node.name+")."),1===e.gameData.currentPlayer)e.showPlayerOptions();else{var s=t,u=s.raQuyetDinh(e.gameData,e.player),c=2*Math.random()+1;console.log("Bot",s.nickname.string," sẽ hành động sau "+c.toFixed(2)+" giây."),e.turn=setTimeout((function(){e.handleBotDecision(s,u)}),1e3*c)}return{v:void 0}}n++};n<a;)if(0!==(t=r())&&t)return t.v;this.checkRoundOver()},o.nextRound=function(){var e=this;console.log("Bắt đầu vòng mới: "+(this.gameData.round+1)),this.gameData.round++;var t=Array.isArray(this.player)?this.player:Object.values(this.player);if(t.forEach((function(t){t.isFolded||t.isAll?t.hasActedThisRound=!0:t.hasActedThisRound=!1,t.isFolded||t.isAll||!t.node.active?t.canCheck=!1:t.canCheck=e.gameData.currentBet<=t.playerBet})),this.gameData.currentBet=0,this.gameData.currentPlayer=-1,this.gameData.isNewBettingRound=!0,1===this.gameData.round){this.revealNextCard();var a=this.setFirstActionPlayer(this.gameData.bigBlindPosition%t.length+1);-1!==a&&(this.gameData.currentPlayer=a)}else if(2===this.gameData.round){this.revealNextCard();var i=this.setFirstActionPlayer(this.gameData.bigBlindPosition%t.length+1);-1!==i&&(this.gameData.currentPlayer=i)}else if(3===this.gameData.round){this.revealNextCard();var n=this.setFirstActionPlayer(this.gameData.bigBlindPosition%t.length+1);-1!==n&&(this.gameData.currentPlayer=n)}else if(0===this.gameData.round){this.gameData.currentBet=this.gameData.bigBlindAmount;var r=this.gameData.bigBlindPosition%t.length+2,o=this.setFirstActionPlayer(r);return void(-1!==o&&(this.gameData.currentPlayer=o))}this.nextTurn()},o.setFirstActionPlayer=function(e){for(var t=(Array.isArray(this.player)?this.player:Object.values(this.player)).length,a=e,i=0;i<t;){var n=this.player[a];if(n&&n.node.active&&!n.isFolded&&!n.isAll)return a;a=a%t+1,i++}return-1},o.checkRoundOver=function(){var e=this;console.log("Kiểm tra kết thúc vòng cược...");var t=Array.isArray(this.player)?this.player:Object.values(this.player),a=t.filter((function(e){return e&&e.node.active&&!e.isFolded&&!e.isAll})),i=a.length;if(i<=1)1===i?this.endRound(a[0]):this.gameData.round<3&&t.some((function(e){return e&&e.node.active&&!e.isFolded&&e.isAll}))?this.scheduleOnce((function(){return e.nextRound()}),2):this.determineWinner();else{var n=t.filter((function(e){return e&&e.node.active&&!e.isFolded})).every((function(t){var a=t.isAll||t.playerBet>=e.gameData.currentBet,i=t.hasActedThisRound||t.isAll;return a&&i}));n&&3===this.gameData.round?this.determineWinner():n?this.nextRound():(console.log("Vẫn còn người chơi cần hành động."),this.nextTurn())}},o.showdown=function(){var e=this;console.log("Showdown!"),this.hidePlayerOptions();var t=Object.values(this.player).filter((function(e){return e&&e.node.active&&!e.isFolded&&e.money>=0}));if(t.length>1){var a=this.determineWinner();a?this.endRound(a):(console.log("Hòa!"),this.resetGame(),this.scheduleOnce((function(){return e.infoRoom()}),2))}else 1===t.length?(console.log("Người chơi "+t[0].nickname.string+" thắng Showdown vì không có đối thủ."),this.endRound(t[0])):(console.log("Không có người chơi để Showdown."),this.resetGame(),this.scheduleOnce((function(){return e.infoRoom()}),2))},o.determineWinner=function(){var e=this;console.log("Bắt đầu so bài (Showdown).");var t=(Array.isArray(this.player)?this.player:Object.values(this.player)).filter((function(e){return e&&e.node.active&&!e.isFolded})),a=this.gameData.boardCards,i=[];if(t.forEach((function(t){var n=t.playerCard.concat(a),r=e.evaluateHand(n);i.push({player:t,hand:n,evaluation:r}),console.log("Người chơi "+t.nickname.string+": "+r,n)})),0===i.length)return console.warn("Không có người chơi hợp lệ để so bài."),this.endRound(null),void(this.player[1].money<=0&&this.backLobby());i.sort((function(e,t){return t.evaluation-e.evaluation}));var n=i[0],r=n.player,o=i.filter((function(e){return e.evaluation===n.evaluation}));if(console.log("Người chiến thắng)___________________ ",n.evaluation),o.length>1){var l=this.gameData.pot/o.length;o.forEach((function(e){e.player.money+=l,e.player.infoGame({win:l},!1),e.player.balans&&(e.player.balans.string=C.numberWithCommas(Math.floor(e.player.money)))}))}else r.money+=this.gameData.pot,r.infoGame({win:this.gameData.pot},!1),r.balans&&(r.balans.string=C.numberWithCommas(Math.floor(r.money)));clearTimeout(this.turn),this.turn=setTimeout((function(){e.player[1].money<=0&&e.backLobby(),e.resetGameForNewHand(),e.resetGame(),e.infoRoom()}),1e3)},o.getRankCounts=function(e){for(var t,a={},i=r(e);!(t=i()).done;){var n=t.value;a[n.rank]=a[n.rank]||0}return a},o.isFlush=function(e){var t=e[0].suit;return e.every((function(e){return e.suit===t}))?t:null},o.isStraight=function(e){var t=[].concat(new Set(e)).sort((function(e,t){return e-t}));if(t.length<5)return null;for(var a=0;a<=t.length-5;a++)if(t[a+4]-t[a]==4)return t[a+4];return t.includes(12)&&t.includes(0)&&t.includes(1)&&t.includes(2)&&t.includes(3)?3:null},o.evaluateHand=function(e){if(5!==e.length)return-1;var t=e.map((function(e){return{rank:e.card,suit:e.type}})),a=t.map((function(e){return e.rank})).sort((function(e,t){return e-t})),i=t.map((function(e){return e.suit})),n=this.getRankCounts(t),r=i.every((function(e){return e===i[0]})),o=this.isStraight(a),l={0:14,1:2,2:3,3:4,4:5,5:6,6:7,7:8,8:9,9:10,10:11,11:12,12:13},s=function(e){return l[e]};if(r&&12===o&&a.includes(0)&&a.includes(9)&&a.includes(10)&&a.includes(11)&&a.includes(12))return 900+s(12);if(r&&null!==o)return 800+s(o);if(Object.values(n).includes(4)){var u=parseInt(Object.keys(n).find((function(e){return 4===n[parseInt(e)]}))),c=a.find((function(e){return e!==u}));return 700+10*s(u)+s(c)}if(Object.values(n).includes(3)&&Object.values(n).includes(2)){var h=parseInt(Object.keys(n).find((function(e){return 3===n[parseInt(e)]}))),m=parseInt(Object.keys(n).find((function(e){return 2===n[parseInt(e)]})));return 600+10*s(h)+s(m)}if(r)return 500+t.map((function(e){return e.rank})).sort((function(e,t){return t-e})).slice(0,5).reduce((function(e,t,a){return e+s(t)*Math.pow(15,4-a)}),0);if(null!==o)return 400+s(o);if(Object.values(n).includes(3)){var g=parseInt(Object.keys(n).find((function(e){return 3===n[parseInt(e)]}))),b=a.filter((function(e){return e!==g})).sort((function(e,t){return t-e})).slice(0,2);return 300+100*s(g)+10*s(b[0])+s(b[1])}if(2===Object.values(n).filter((function(e){return 2===e})).length){var d=Object.keys(n).filter((function(e){return 2===n[parseInt(e)]})).map(Number).sort((function(e,t){return t-e})),p=a.find((function(e){return!d.includes(e)}));return 200+100*s(d[0])+10*s(d[1])+s(p)}if(Object.values(n).includes(2)){var f=parseInt(Object.keys(n).find((function(e){return 2===n[parseInt(e)]}))),y=a.filter((function(e){return e!==f})).sort((function(e,t){return t-e})).slice(0,3);return 100+1e3*s(f)+100*s(y[0])+10*s(y[1])+s(y[2])}return a.sort((function(e,t){return t-e})).slice(0,5).reduce((function(e,t,a){return e+s(t)*Math.pow(15,4-a)}),0)},o.resetGameForNewHand=function(){console.log("Resetting game for a new hand after showdown."),this.gameData.round=0,this.gameData.currentBet=0,this.gameData.pot=0,this.gameData.boardCards=[],this.gameData.playerCards=[],this.gameData.someoneRaised=!1,this.gameData.firstActionPlayer=-1,this.gameData.currentPlayer=-1,this.gameData.isNewBettingRound=!1,this.gameData.cards=this.cards.initCardDeck(),(Array.isArray(this.player)?this.player:Object.values(this.player)).forEach((function(e){e&&e.resetForNewRound()})),this.updateDealerPosition()},o.updateDealerPosition=function(){var e=(Array.isArray(this.player)?this.player:Object.values(this.player)).filter((function(e){return e&&e.node.active})).length;this.gameData.dealerPosition=e>1?this.gameData.dealerPosition%e+1:1,console.log("Vị trí Dealer mới: "+this.gameData.dealerPosition)},o.LuotChoi=function(e){var t=this.player[e.ghe];this.game_player&&(this.game_player.isUpdate=!1,this.game_player.progressTime=0,this.game_player.Progress.progress=0),this.game_player=t,t.startProgress(e.progress),void 0!==e.select?(this.botton.active=!0,e.select.xem?this.btm_xem.active=!0:this.btm_xem.active=!1,e.select.theo?this.btm_theo.active=!0:this.btm_theo.active=!1,e.select.to?this.btm_to.active=!0:this.btm_to.active=!1,e.select.all?this.btm_all.active=!0:this.btm_all.active=!1):(this.botton.active=!1,this.nodeTo.active=!1)},o.onData=function(){this.infoGhe(),this.infoRoom()},o.infoGhe=function(){var e=[{data:{name:"me",avatar:"",balans:2e5},ghe:1},{data:{name:"bot1",avatar:"",balans:2e5},ghe:2},{data:{name:"bot2",avatar:"",balans:2e5},ghe:3},{data:{name:"bot3",avatar:"",balans:2e5},ghe:4},{data:{name:"bot4",avatar:"",balans:2e5},ghe:5}],t={},a=[];if(1!=this.meMap){var i=this.meMap-1;a=a.concat(e.slice(i),e.slice(0,i))}else a=e;e.forEach(function(e,a){console.log("infoGhe obj:",e,a);var i=this.player[a];if(i)return i.map=e.ghe,t[e.ghe]=i,void i.setInfo(e.data)}.bind(this)),this.player=t,t=null,a=null},o.infoRoom=function(){this.resetGame(),this.time_start=5,this.labelTimeStart.node.active=!0,this.labelTimeStart.string="",this.labelRoom.string="100",this.regTime1=setInterval(function(){this.labelTimeStart.string=C.numberPad(this.time_start,2),this.time_start<0&&(this.labelTimeStart.node.active=!1,clearInterval(this.regTime1),this.ChiaBai()),this.time_start--}.bind(this),1e3)},o.backLobby=function(){this.dataOn=!1,this.hidePlayerOptions(),clearInterval(this.regTime1),clearTimeout(this.turn),this.regTime1=null,this.turn=null,_.dispatchEvent("ThemeLobby")},t}(D)).prototype,"player_nap",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=t(ye.prototype,"cards",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=t(ye.prototype,"font1",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=t(ye.prototype,"font2",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=t(ye.prototype,"nodeNotice",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=t(ye.prototype,"prefabNotice",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=t(ye.prototype,"PokerChatNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=t(ye.prototype,"PokerChat",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=t(ye.prototype,"PokerHistoryRealTimeNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=t(ye.prototype,"PokerHistoryRealTimePrefab",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=t(ye.prototype,"PokerLogTableNode",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=t(ye.prototype,"PokerLogTableNodePrefab",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=t(ye.prototype,"loading",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=t(ye.prototype,"redhat",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=t(ye.prototype,"bo_bai",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=t(ye.prototype,"nodeout",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=t(ye.prototype,"notice",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=t(ye.prototype,"Avatars",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Fe=t(ye.prototype,"player",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ge=t(ye.prototype,"labelRoom",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=t(ye.prototype,"mainBet",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=t(ye.prototype,"labelTimeStart",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=t(ye.prototype,"roomCard",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(ye.prototype,"prefabCard",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=t(ye.prototype,"botton",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=t(ye.prototype,"btm_bo",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ke=t(ye.prototype,"btm_xem",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qe=t(ye.prototype,"btm_theo",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=t(ye.prototype,"btm_to",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=t(ye.prototype,"btm_all",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xe=t(ye.prototype,"nodePanelCardMain",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ze=t(ye.prototype,"nodeBTNPane",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Je=t(ye.prototype,"nodeTo",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ye=t(ye.prototype,"titleCard",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$e=t(ye.prototype,"touch",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=t(ye.prototype,"labelBet",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=t(ye.prototype,"labelMin",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=t(ye.prototype,"labelMax",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=t(ye.prototype,"moneyRound",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=t(ye.prototype,"coinPrefab",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=t(ye.prototype,"CardCommon",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=ye))||fe));o._RF.pop()}}}));

System.register("chunks:///_virtual/PtlCmdCommon.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"5049ca2a1hES66VW7fFtVOZ","PtlCmdCommon",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlConnect.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"48726RYywxF1ZF/cWryQOCy","PtlConnect",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlConnectLeave.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"4b5e2I9mahDOaKwyO5UdIlY","PtlConnectLeave",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/PtlGameSync.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"4715akRZw1NZ64OQll4SuWk","PtlGameSync",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlGetinforUser.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"5194fZNRy1G27WPMeUmXmkB","PtlGetinforUser",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/PtlLogin.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"e4d696cKydA6YZqRPj2Yp21","PtlLogin",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlMadCar.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"90016TCe+hGXpy5WNJxzcC0","PtlMadCar",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlRankGet.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"9c5f9jZrEpFEIM3plx4bBCo","PtlRankGet",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlRankSet.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"72401FgnWxIpYyw2S+5eGtS","PtlRankSet",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlRefGet.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"db9f9bTW4NPL6vP+OQFzGG8","PtlRefGet",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlRefSet.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"a5da6LHJjhOnL+JWNf6v8W2","PtlRefSet",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlRoomCreate.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"c3535OVRl5PMLwhswvU03DN","PtlRoomCreate",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlRoomGet.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"7180fkaFzdGoKkXSs9KIFFa","PtlRoomGet",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlRoomJoin.ts",["cc"],(function(){var t;return{setters:[function(o){t=o.cclegacy}],execute:function(){t._RF.push({},"a348dPKT3NOwLFOCzBHkyuE","PtlRoomJoin",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlRoomLeave.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"cc6a47OZXxJK79E/xFhw65N","PtlRoomLeave",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/PtlSignup.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"37f8aPVUxpDDZ46+EvTdNr0","PtlSignup",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/PtlUpdatememeCoin.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"7f36cduYl9HObeI1WsBEGhG","PtlUpdatememeCoin",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./DataManager.ts","./PoolManager.ts"],(function(t){var n,e,a,r,i,s,o,p;return{setters:[function(t){n=t.createClass,e=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){r=t.cclegacy,i=t.resources},function(t){s=t.sortSpriteNameByNum},function(t){o=t.DataManager},function(t){p=t.default}],execute:function(){r._RF.push({},"454cfAV/r1N77PsnvQqOkqa","ResourceManager",void 0),t("default",function(){function t(){this.clipMap={},this.spriteMap={},this.jsonMap={},this.spritesMap={}}t.getInstance=function(){return null===this._instance&&(this._instance=new this),this._instance};var r=t.prototype;return r.loadRes=function(){var t=e(a().mark((function t(n,e){var r=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,e){var a=o.instance.loadingRate;i.loadDir(n.path,n.content,(function(t,e){if(n.ratio>0){var r=Math.floor(100*(a+n.ratio*t/e))/100;o.instance.loadingRate=Math.max(r,o.instance.loadingRate)}}),(function(a,i){var o;if(a&&e&&e(),"audio"==n.type)for(var c=0;c<i.length;c++)o=i[c],r.clipMap[o.name]||(r.clipMap[o.name]=o);if("prefab"==n.type)for(var u=0;u<i.length;u++)o=i[u],p.instance.setPrefab(o.data.name,o);if("sprite"==n.type)for(var f=0;f<i.length;f++)o=i[f],r.spriteMap[o.name]||(r.spriteMap[o.name]=o);if("json"==n.type)for(var l=0;l<i.length;l++)o=i[l],r.jsonMap[o.name]||(r.jsonMap[o.name]=o.json);if("atlas"==n.type)for(var h=0;h<i.length;h++)if(o=i[h],!r.spritesMap[n.path+"/"+o.name]){var M=s(o.getSpriteFrames());r.spritesMap[n.path+"/"+o.name]=M}if("sprites"==n.type&&!r.spritesMap[n.path]){var g=s(i);r.spritesMap[n.path]=g}t&&t()}))})));case 2:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),r.getClip=function(t){return this.clipMap[t]},r.getSprite=function(t){return this.spriteMap[t]},r.getJson=function(t){return this.jsonMap[t]},r.getSprites=function(t){return this.spritesMap[t]},n(t,null,[{key:"instance",get:function(){return this.getInstance()}}]),t}())._instance=null,r._RF.pop()}}}));

System.register("chunks:///_virtual/SdkManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NativeBridge.ts","./DataManager.ts","./Utils.ts","./AudioManager.ts"],(function(e){var t,n,s,i,o,r,a,c;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){i=e.cclegacy},function(e){o=e.NativeBridge},function(e){r=e.DataManager},function(e){a=e.uuid},function(e){c=e.default}],execute:function(){i._RF.push({},"6b59bAPD+NLTrEXLkkJ5O2S","SdkManager",void 0),e("default",function(){function e(){this.shareTitle="A super fun flying chess game, come and play it!！",this.shareImg="https://download.cocos.com/CocosStore/icon/5b23b0989aaf4080baeeeb489d94eb8d/5b23b0989aaf4080baeeeb489d94eb8d.png",this.videoId="",this.videoAd=null,this.interstitialId="",this.interstitialAd=null,this.bannerId="",this.bannerAd=null,this.custom5Id="",this.custom5Ad=null,this.videoRecorder=null,this.videoRecordState=0,this.videoStartTime=null,this.videoRecordTime=120,this.videoPath=null,this.videoIsExist=0,this.videoTopics=["You are real","Apple"]}var i=e.prototype;return i.getPlatform=function(){var e=null;return cc.sys.platform==cc.sys.WECHAT_GAME?e=window.wx:cc.sys.platform==cc.sys.BYTEDANCE_GAME&&(e=window.tt),e},i.activeShare=function(e){void 0===e&&(e={title:"",imageUrl:"",query:""}),e.title=e.title||this.shareTitle,e.imageUrl=e.imageUrl||this.shareImg;var t=e.imageUrl;"undefined"!=typeof FBInstant&&FBInstant.inviteAsync({image:t,text:{default:e.title},data:{myReplayData:"..."}}).then((function(){}))},i.passiveShare=function(e){void 0===e&&(e={title:"",imageUrl:"",query:""}),e.title=e.title||this.shareTitle,e.imageUrl=e.imageUrl||this.shareImg},i.getShareQuery=function(e){var t=this.getPlatform();if(t){var n=t.getLaunchOptionsSync().query,s=null;return n&&n[e]&&(s=n[e]),s}console.log("【分享参数获取】仅支持小游戏平台!")},i.turnToApp=function(e){if(""!=e){var t=this.getPlatform();t?t.navigateToMiniProgram({appId:e}):this.turnToBrowser(e)}},i.turnToBrowser=function(e){cc.sys.openURL(e)},i.initAudioEndListener=function(){c.instance.playMusic()},i.initBannerAd=function(){var e=this,t=this.getPlatform();if(t)if(""!=this.bannerId){var n=t.getSystemInfoSync();null==this.bannerAd&&(this.bannerAd=t.createBannerAd({adUnitId:this.bannerId,adIntervals:10,style:{height:n.windowHeight-80,left:0,top:500,width:n.windowWidth}}),this.bannerAd.onResize((function(t){e.bannerAd.style.top=n.windowHeight-e.bannerAd.style.realHeight,e.bannerAd.style.left=n.windowWidth/2-e.bannerAd.style.realWidth/2})),this.bannerAd.onError((function(e){console.error("【流量主横幅】初始化有误")})))}else console.log("【流量主】请配置横幅广告ID");else console.log("【流量主横幅初始化】仅支持小游戏平台!")},i.toggleBannerAd=function(e){this.getPlatform()?this.bannerAd&&(e?this.bannerAd.show():this.bannerAd.hide()):console.log("【流量主横幅】仅支持小游戏平台!")},i.initInterstitialAd=function(){var e=this.getPlatform();e?""!=this.interstitialId?null==this.interstitialAd&&(this.interstitialAd=e.createInterstitialAd({adUnitId:this.interstitialId}),this.interstitialAd.onError((function(e){console.error("【流量主插屏】初始化有误")}))):console.log("【流量主】请配置插屏广告ID"):console.log("【流量主插屏初始化】仅支持小游戏平台!")},i.showInterstitialAd=function(){this.getPlatform()?this.interstitialAd&&this.interstitialAd.show().catch((function(e){console.error("【流量主插屏】加载失败")})):console.log("【流量主插屏】仅支持小游戏平台!")},i.initVideoAd=function(){var e=this.getPlatform();e?""!=this.videoId?null==this.videoAd&&(this.videoAd=e.createRewardedVideoAd({adUnitId:this.videoId}),this.videoAd.onError((function(e){console.error("【流量主激励】初始化有误")}))):console.log("【流量主】请配置激励视频广告ID"):console.log("【流量主激励初始化】仅支持小游戏平台!")},i.showVideoAd=function(e,t){var n=this;return this.getPlatform()&&this.videoAd?(this.videoAd.offClose(),this.videoAd.onClose((function(s){return n.videoAd.offClose(),s&&s.isEnded||void 0===s?e&&e():t&&t()})),void this.videoAd.show().catch((function(){n.videoAd.load().then((function(){return n.videoAd.show()})).catch((function(e){console.log("广告展示失败")}))}))):(console.log("激励模拟成功"),e&&e())},i.initCustom5Ad=function(){var e=this.getPlatform();if(e)if(""!=this.custom5Id){var t=e.getSystemInfoSync();null==this.custom5Ad&&(this.custom5Ad=e.createCustomAd({adUnitId:this.custom5Id,style:{width:t.screenWidth/1.2,left:(t.screenWidth-t.screenWidth/1.2)/2,top:t.windowHeight/10,fixed:0}}),this.custom5Ad.onError((function(e){console.error("【流量主格子5】初始化有误")})))}else console.log("【流量主】请配置格子5广告ID");else console.log("【格子5初始化】仅支持小游戏平台!")},i.showCustomAd=function(e){void 0===e&&(e=5),this.getPlatform()?5==e&&this.custom5Ad&&this.custom5Ad.show():console.log("【流量主格子】仅支持小游戏平台!")},i.getRank=function(){void 0!==window.wx?window.wx.postMessage({event:"getRank"}):console.log("【获取排名】仅支持微信平台!")},i.setRank=function(e){void 0!==window.wx?window.wx.postMessage({event:"setScore",score:e}):console.log("【设置排名】仅支持微信平台!",e)},i.recordingVideoStart=function(){var e=this;void 0!==window.tt?(this.videoRecorder=window.tt.getGameRecorderManager(),this.videoRecordState=1,this.videoIsExist=0,this.videoStartTime=Date.parse((new Date).toString()),this.videoRecorder.onStart((function(e){})),this.videoRecorder.start({duration:this.videoRecordTime}),this.videoRecorder.onStop((function(t){e.videoRecordState=2,e.videoPath=t.videoPath})),this.videoRecorder.onError((function(e){}))):console.log("【录屏功能】仅支持抖音平台!")},i.recordingVideoEnd=function(){void 0!==window.tt?this.videoRecorder&&((Date.parse((new Date).toString())-this.videoStartTime)/1e3<=5?this.videoIsExist=1:this.videoIsExist=0,this.videoRecorder.stop()):console.log("【录屏功能】仅支持抖音平台!")},i.recordingVideoShare=function(e,t){void 0!==window.tt?1!=this.videoIsExist?(this.videoRecordState=3,window.tt.shareAppMessage({channel:"video",title:"",imageUrl:"",query:"",extra:{videoPath:this.videoPath,videoTopics:this.videoTopics,createChallenge:!0},success:function(){e&&e()},fail:function(e){t&&t()}})):console.log("录制时间过短"):console.log("【录屏功能】仅支持抖音平台!")},i.isVideoExist=function(){return this.videoIsExist},i.getLoginCode=function(e){if(void 0!==window.wx){var t={status:!1,data:null,msg:"服务器异常"};window.wx.login({success:function(n){n.code?(t.status=!0,t.data=n.code,t.msg="Successfully obtained code",e&&e(t)):e&&e(t)},fail:function(){e&&e(t)}})}else console.log("【code获取】仅支持微信平台!")},i.getLoginInfo=function(e){cc.log("getLoginInfo2----");var t={status:!1,data:null,msg:"Server exception"};window.wx.getSetting({success:function(n){if(n.authSetting["scope.userInfo"])window.wx.getUserInfo({success:function(n){var s=n.userInfo,i={openid:"",nickname:s.nickName,gender:s.gender,avatar:s.avatarUrl};t.status=!0,t.data=i,t.msg="Authorized",e&&e(t)},fail:function(){e&&e(t)}});else{var s=window.wx.getSystemInfoSync(),i=s.screenWidth,o=s.screenHeight,r=window.wx.createUserInfoButton({type:"text",text:"",style:{left:0,top:0,width:i,height:o,backgroundColor:"#00000000",color:"#ffffff",fontSize:20,textAlign:"center",lineHeight:o}});r.onTap((function(n){if(r.destroy(),n.userInfo){var s=n.userInfo,i={openid:"",nickname:s.nickName,gender:s.gender,avatar:s.avatarUrl};t.status=!0,t.data=i,t.msg="Accept authorization",e&&e(t)}else t.msg="Deny authorization",e&&e(t)}))}},fail:function(){e&&e(t)}})},i.getLoginInfoLocal=function(e){cc.log("getLoginInfoLocal---");var t={status:!0,data:null,msg:"Simulate user data"},n=""+(new Date).getTime();n="NO."+n.substring(n.length-4);var s=a();cc.log("uid----",s);var i={openid:s,nickname:n,gender:0,avatar:""};t.data=i,e&&e(t)},i.loginAny=function(){var e=n(s().mark((function e(t){var n,i,a,c,d,l,u,g;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("loginAny---"),n={status:!0,data:null,msg:"Simulate user data"},(new Date).getTime(),r.instance.username?r.instance.username:"NoLogin",i=r.instance.username?r.instance.username:"NoLogin",a=r.instance.sign?r.instance.sign:"",c=r.instance.openid,"",o.Instance.funcLoginAny=t,123456,d=r.instance.walletInfo?r.instance.walletInfo.account.address:"",console.log("uid await ----",123456),console.log("getwalletid:",d),l={openid:c,username:i=i,nickname:i,gender:0,avatar:"",gold:0,password:"",type:2,walletid:d,levelBoss:1,boss_current_heart:1,level_current_dama:1},e.next=18,r.instance.wsClient.callApi("Login",{openid:c,username:l.username,nickname:l.nickname,password:l.password,type:l.type,avatar:l.avatar,walletid:l.walletid,levelBoss:l.levelBoss,boss_current_heart:l.boss_current_heart,level_current_dama:l.level_current_dama,sign:a});case 18:(u=e.sent).isSucc&&(g=u.res.user.username,console.log("username = ",g)),console.log("userObj = ",u.isSucc,u.res),n.data=u,console.log("Start callback"),t&&t(n),console.log("callbacklogin",n);case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.updateMoney=function(){var e=n(s().mark((function e(t,n){var i,o,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.instance.openid,console.log("tabs",t),o={openid:i,type:"updateMoneyMeme",tabs:t},e.next=5,r.instance.wsClient.callApi("UpdatememeCoin",o);case 5:a=e.sent,console.log("updateMoney rs:",a.isSucc,"res",a.res,"err",a.res),c={status:!0,data:a.res,msg:""},n&&n(c);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),i.updateTurbo=function(){var e=n(s().mark((function e(t,n){var i,o,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.instance.openid,console.log("tabs",t),o={openid:i,type:"use_turbo",tabs:t},e.next=5,r.instance.wsClient.callApi("UpdatememeCoin",o);case 5:a=e.sent,console.log("updateTurbo rs:",a.isSucc,"res",a.res,"err",a.res),c={status:!0,data:a.res,msg:""},n&&n(c);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),i.updateRecharge=function(){var e=n(s().mark((function e(t,n){var i,o,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.instance.openid,console.log("tabs",t),o={openid:i,type:"use_recharge",tabs:t},e.next=5,r.instance.wsClient.callApi("UpdatememeCoin",o);case 5:a=e.sent,console.log("use_recharge rs:",a.isSucc,"res",a.res,"err",a.res),c={status:!0,data:a.res,msg:""},n&&n(c);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),i.updateEnergy=function(){var e=n(s().mark((function e(t,n){var i,o,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.instance.openid,console.log("tabs",t),o={openid:i,type:"upgrade_energy",tabs:t},e.next=5,r.instance.wsClient.callApi("UpdatememeCoin",o);case 5:a=e.sent,console.log("updateEnergy rs:",a.isSucc,"res",a.res,"err",a.res),c={status:!0,data:a.res,msg:""},n&&n(c);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),i.updateDamage=function(){var e=n(s().mark((function e(t,n){var i,o,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.instance.openid,console.log("tabs",t),o={openid:i,type:"upgrade_damage",tabs:t},e.next=5,r.instance.wsClient.callApi("UpdatememeCoin",o);case 5:a=e.sent,console.log("updateDamage rs:",a.isSucc,"res",a.res,"err",a.res),c={status:!0,data:a.res,msg:""},n&&n(c);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),i.updateRecharspeed=function(){var e=n(s().mark((function e(t,n){var i,o,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.instance.openid,console.log("tabs",t),o={openid:i,type:"upgrade_recharging",tabs:t},e.next=5,r.instance.wsClient.callApi("UpdatememeCoin",o);case 5:a=e.sent,console.log("updateRecharspeed rs:",a.isSucc,"res",a.res,"err",a.res),c={status:!0,data:a.res,msg:""},n&&n(c);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),i.setRef=function(){var e=n(s().mark((function e(t,n,i){var o,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={uid:t,code:n},e.next=3,r.instance.wsClient.callApi("RefSet",o);case 3:a=e.sent,console.log("setRef rs:",a.isSucc,"res",a.res,"err",a.res),c={status:!0,data:a.res,msg:""},i&&i(c);case 7:case"end":return e.stop()}}),e)})));return function(t,n,s){return e.apply(this,arguments)}}(),i.getListRef=function(){var e=n(s().mark((function e(t,n){var i,o,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={uid:t},e.next=3,r.instance.wsClient.callApi("RefGet",i);case 3:o=e.sent,console.log("RefGet rs:",o.isSucc,"res",o.res,"err",o.res),a={status:!0,data:o.res,msg:""},n&&n(a);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),i.countRef=function(){var e=n(s().mark((function e(t){var n,i,o,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.instance.userData.UID,i={openid:"",type:"countRef",content:{UID:n}},e.next=4,r.instance.wsClient.callApi("CmdCommon",i);case 4:o=e.sent,console.log("CmdCommon.res",o.res),a={status:!0,data:o.res,msg:""},t&&t(a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t(e,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new e),this._instance}}]),e}())._instance=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/serviceProto.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"e323eb0QVNIybRgNtA0cAF9","serviceProto",void 0);e("serviceProto",{version:30,services:[{id:17,name:"GameRefresh",type:"msg"},{id:1,name:"Connect",type:"api"},{id:2,name:"ConnectLeave",type:"api"},{id:18,name:"GameSync",type:"api"},{id:0,name:"Login",type:"api"},{id:50,name:"LoginWallet",type:"api"},{id:51,name:"GetinforUser",type:"api"},{id:20,name:"RankGet",type:"api"},{id:21,name:"RankSet",type:"api"},{id:4,name:"RoomCreate",type:"api"},{id:19,name:"RoomGet",type:"api"},{id:5,name:"RoomJoin",type:"api"},{id:10,name:"RoomLeave",type:"api"},{id:22,name:"CmdCommon",type:"api"},{id:9,name:"UpdatememeCoin",type:"api"},{id:23,name:"RefGet",type:"api"},{id:24,name:"RefSet",type:"api"},{id:25,name:"MadCar",type:"api"}],types:{"MsgGameRefresh/MsgGameRefresh":{type:"Interface",properties:[{id:0,name:"type",type:{type:"String"}},{id:1,name:"content",type:{type:"Any"}}]},"PtlConnect/ReqConnect":{type:"Interface",properties:[{id:0,name:"user",type:{type:"Reference",target:"../common/types/IUser"}}]},"../common/types/IUser":{type:"Interface",properties:[{id:1,name:"openid",type:{type:"String"}},{id:2,name:"username",type:{type:"String"}},{id:3,name:"password",type:{type:"String"}},{id:4,name:"nickname",type:{type:"String"}},{id:5,name:"gender",type:{type:"Number"}},{id:6,name:"avatar",type:{type:"String"}},{id:7,name:"gold",type:{type:"Number"}},{id:8,name:"type",type:{type:"Number"}},{id:9,name:"walletid",type:{type:"String"}},{id:10,name:"boss_current_heart",type:{type:"Number"}},{id:11,name:"level_current_dama",type:{type:"Number"}},{id:12,name:"levelBoss",type:{type:"Number"}},{id:13,name:"turbo",type:{type:"Number"}},{id:14,name:"recharge",type:{type:"Number"}},{id:15,name:"level_damage",type:{type:"Number"}},{id:16,name:"energy_cap",type:{type:"Number"}},{id:17,name:"level_recharge_speed",type:{type:"Number"}},{id:18,name:"ref",type:{type:"String"}},{id:19,name:"UID",type:{type:"Number"}}]},"../common/types/IBoss":{type:"Interface",properties:[{id:1,name:"idboss",type:{type:"Number"}},{id:2,name:"name_boss",type:{type:"String"}},{id:3,name:"description_boss",type:{type:"String"}},{id:4,name:"total_heart",type:{type:"Number"}},{id:5,name:"total_dama",type:{type:"Number"}},{id:6,name:"bobus_gold",type:{type:"Number"}}]},"PtlConnect/ResConnect":{type:"Interface"},"PtlConnectLeave/ReqConnectLeave":{type:"Interface",properties:[{id:0,name:"user",type:{type:"Reference",target:"../common/types/IUser"}}]},"PtlConnectLeave/ResConnectLeave":{type:"Interface"},"PtlGameSync/ReqGameSync":{type:"Interface",properties:[{id:0,name:"type",type:{type:"String"}},{id:1,name:"room",type:{type:"Reference",target:"../common/types/IRoom"}},{id:2,name:"content",type:{type:"Any"}}]},"PtlCmdCommon/ReqCmdCommon":{type:"Interface",properties:[{id:0,name:"openid",type:{type:"String"}},{id:1,name:"type",type:{type:"String"}},{id:2,name:"content",type:{type:"Any"}}]},"../common/types/IRoom":{type:"Interface",properties:[{id:0,name:"id",type:{type:"String"}},{id:1,name:"password",type:{type:"String"}},{id:9,name:"players",type:{type:"Array",elementType:{type:"Reference",target:"../common/types/IUserBattle"}}},{id:10,name:"status",type:{type:"Number"}},{id:11,name:"bet",type:{type:"Number"}}]},"../common/types/IUserBattle":{type:"Intersection",members:[{id:0,type:{type:"Reference",target:"../common/types/IUser"}},{id:1,type:{type:"Interface",properties:[{id:0,name:"status",type:{type:"Number"},optional:!0}]}}]},"PtlGameSync/ResGameSync":{type:"Interface"},"PtlCmdCommon/ResCmdCommon":{type:"Interface",properties:[{id:0,name:"datas",type:{type:"Any"}}]},"PtlLogin/ReqLogin":{type:"Interface",properties:[{id:0,name:"openid",type:{type:"String"}},{id:1,name:"username",type:{type:"String"}},{id:2,name:"nickname",type:{type:"String"}},{id:3,name:"password",type:{type:"String"}},{id:4,name:"type",type:{type:"Number"}},{id:5,name:"avatar",type:{type:"String"}},{id:6,name:"walletid",type:{type:"String"}},{id:7,name:"sign",type:{type:"String"}}]},"PtlUpdatememeCoin/ReqUpdatememeCoin":{type:"Interface",properties:[{id:0,name:"openid",type:{type:"String"}},{id:1,name:"type",type:{type:"String"}},{id:2,name:"tabs",type:{type:"Number"}}]},"PtlGetinforUser/ReqGetinforUser":{type:"Interface",properties:[{id:0,name:"openid",type:{type:"String"}}]},"PtlLoginWallet/ReqLoginWallet":{type:"Interface",properties:[{id:0,name:"openid",type:{type:"String"}},{id:1,name:"username",type:{type:"String"}},{id:2,name:"nickname",type:{type:"String"}},{id:3,name:"password",type:{type:"String"}},{id:4,name:"type",type:{type:"Number"}},{id:5,name:"avatar",type:{type:"String"}},{id:6,name:"walletid",type:{type:"String"}}]},"PtlMadCar/ReqMadCar":{type:"Interface",properties:[{id:0,name:"data",type:{type:"Any"}}]},"PtlMadCar/ResMadCar":{type:"Interface",properties:[{id:0,name:"data",type:{type:"Any"}}]},"PtlLogin/ResLogin":{type:"Interface",properties:[{id:0,name:"user",type:{type:"Reference",target:"../common/types/IUser"}}]},"PtlUpdatememeCoin/ResUpdatememeCoin":{type:"Interface",properties:[{id:0,name:"user",type:{type:"Reference",target:"../common/types/IUser"}}]},"PtlGetinforUser/ResGetinforUser":{type:"Interface",properties:[{id:0,name:"user",type:{type:"Reference",target:"../common/types/IUser"}}]},"PtlLoginWallet/ResLoginWallet":{type:"Interface",properties:[{id:0,name:"user",type:{type:"Reference",target:"../common/types/IUser"}}]},"PtlRankGet/ReqRankGet":{type:"Interface",properties:[{id:0,name:"openid",type:{type:"String"}}]},"PtlRankGet/ResRankGet":{type:"Interface",properties:[{id:0,name:"my",type:{type:"Array",elementType:{type:"Reference",target:"PtlRankGet/IRank"}}},{id:1,name:"top",type:{type:"Array",elementType:{type:"Reference",target:"PtlRankGet/IRank"}}}]},"PtlRankGet/IRank":{type:"Intersection",members:[{id:0,type:{type:"Reference",target:"../db/DbRank/DbRank"}},{id:1,type:{type:"Interface",properties:[{id:0,name:"rank",type:{type:"Number"}}]}}]},"../db/DbRank/DbRank":{type:"Interface",properties:[{id:0,name:"_id",type:{type:"Reference",target:"?mongodb/ObjectId"}},{id:1,name:"openid",type:{type:"String"}},{id:2,name:"nickname",type:{type:"String"}},{id:3,name:"avatar",type:{type:"String"}},{id:4,name:"gender",type:{type:"Number"}},{id:5,name:"win",type:{type:"Number"}},{id:6,name:"kill",type:{type:"Number"}},{id:7,name:"createTime",type:{type:"Date"}},{id:8,name:"updateTime",type:{type:"Date"}}]},"PtlRankSet/ReqRankSet":{type:"Interface",properties:[{id:0,name:"rank",type:{target:{type:"Reference",target:"../db/DbRank/DbRank"},keys:["_id","createTime","updateTime"],type:"Omit"}}]},"PtlRankSet/ResRankSet":{type:"Interface"},"PtlRefSet/ReqRefSet":{type:"Interface",properties:[{id:0,name:"uid",type:{type:"String"}},{id:1,name:"code",type:{type:"String"}}]},"PtlRefSet/ResRefSet":{type:"Interface"},"PtlRefGet/ReqRefGet":{type:"Interface",properties:[{id:0,name:"uid",type:{type:"String"}}]},"PtlRefGet/ResRefGet":{type:"Interface",properties:[{id:0,name:"my",type:{type:"Array",elementType:{type:"Reference",target:"PtlRefGet/IRef"}}}]},"PtlRefGet/IRef":{type:"Intersection",members:[{id:0,type:{type:"Reference",target:"../db/DbRef/DbRef"}}]},"../db/DbRef/DbRef":{type:"Interface",properties:[{id:0,name:"_id",type:{type:"Reference",target:"?mongodb/ObjectId"}},{id:1,name:"uidref",type:{type:"String"}},{id:2,name:"nameref",type:{type:"String"}},{id:3,name:"levelBoss_ref",type:{type:"Number"}},{id:4,name:"uid",type:{type:"String"}},{id:5,name:"total_gold",type:{type:"Number"}},{id:6,name:"updateTime",type:{type:"Date"}}]},"PtlRoomCreate/ReqRoomCreate":{type:"Interface",properties:[{id:1,name:"password",type:{type:"String"}},{id:2,name:"player",type:{type:"Reference",target:"../common/types/IUser"}},{id:3,name:"bet",type:{type:"Number"}}]},"PtlRoomCreate/ResRoomCreate":{type:"Interface",properties:[{id:0,name:"room",type:{type:"Reference",target:"../common/types/IRoom"}}]},"PtlRoomGet/ReqRoomGet":{type:"Interface",properties:[{id:0,name:"roomId",type:{type:"String"}}]},"PtlRoomGet/ResRoomGet":{type:"Interface",properties:[{id:0,name:"room",type:{type:"Reference",target:"../common/types/IRoom"}}]},"PtlRoomJoin/ReqRoomJoin":{type:"Interface",properties:[{id:1,name:"roomId",type:{type:"String"}},{id:2,name:"player",type:{type:"Reference",target:"../common/types/IUser"}}]},"PtlRoomJoin/ResRoomJoin":{type:"Interface",properties:[{id:0,name:"room",type:{type:"Reference",target:"../common/types/IRoom"}}]},"PtlRoomLeave/ReqRoomLeave":{type:"Interface",properties:[{id:1,name:"player",type:{type:"Reference",target:"../common/types/IUser"}}]},"PtlRoomLeave/ResRoomLeave":{type:"Interface"}}});t._RF.pop()}}}));

System.register("chunks:///_virtual/Settings.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./eventManager.ts"],(function(t){var n,e,s,o,a,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator,o=t.Component},function(t){a=t.DataManager},function(t){i=t.eventManager}],execute:function(){var c;e._RF.push({},"43f03quK1dCsaUK7cj0RDsz","Settings",void 0);var r=s.ccclass;s.property,t("Settings",r("Settings")(c=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var s=e.prototype;return s.onLoad=function(){},s.start=function(){},s.btnLogout=function(){console.log("logout"),localStorage.removeItem("username"),localStorage.removeItem("password"),a.instance.username="",a.instance.userData=null,a.instance.wsClient.send({user:{signOut:!0}}),i.dispatchEvent("ThemeLogin"),setTimeout((function(){a.instance.wsClient&&a.instance.wsClient._socket&&a.instance.wsClient._socket.close()}),100),a.instance.UILobby.btnCloseSettings()},s.update=function(t){},e}(o))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/ShopItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,i,o,u,l,a,c,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,u=e._decorator,l=e.Sprite,a=e.Label,c=e.Button,p=e.Component}],execute:function(){var b,s,y,f,m,h,g,L,I,d,z,B,v;o._RF.push({},"42a78tIqF5Jj5j706ig8CUV","ShopItem",void 0);var w=u.ccclass,S=u.property;e("ShopItem",(b=w("ShopItem"),s=S(l),y=S(a),f=S(a),m=S(l),h=S(c),b((I=t((L=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return t=e.call.apply(e,[this].concat(o))||this,r(t,"icon",I,i(t)),r(t,"amountLabel",d,i(t)),r(t,"priceLabel",z,i(t)),r(t,"currencyIcon",B,i(t)),r(t,"buyButton",v,i(t)),t.itemData=null,t}return n(t,e),t.prototype.init=function(e){this.itemData=e,this.amountLabel.string=e.amount,this.priceLabel.string=e.price,"gold"===e.currency||e.currency,e.onBuy&&this.buyButton.node.on("click",e.onBuy)},t}(p)).prototype,"icon",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(L.prototype,"amountLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(L.prototype,"priceLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(L.prototype,"currencyIcon",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(L.prototype,"buyButton",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=L))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/showavatar.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,a,r,o;return{setters:[function(t){e=t.inheritsLoose,n=t.applyDecoratedDescriptor,a=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy}],execute:function(){var i,c,s,u;o._RF.push({},"56e79esNiVMe6i8J2HTlBkh","showavatar",void 0);var l=cc._decorator,p=l.ccclass,h=l.property;t("default",(i=h(cc.Sprite),p((s=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o))||this,a(e,"avatar",u,r(e)),e}e(n,t);var o=n.prototype;return o.onLoad=function(){},o.onDestroy=function(){},o.onEnable=function(){console.log("onEnable");var t=this;if("undefined"!=typeof FBInstant){FBInstant.player.getPhoto();(function(t){throw new Error("Function not implemented.")})().then((function(e){cc.log("done avatar",t.avatar),t.avatar.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(e),t.avatar.getComponent(cc.Sprite).width=88,t.avatar.getComponent(cc.Sprite).hight=88}))}},o.getMaxRadius=function(t,e){var n=t.width,a=t.height,r=e.x,o=e.y;return Math.max(this.calcHypotenuse(r,o),this.calcHypotenuse(r,a-o),this.calcHypotenuse(n-r,o),this.calcHypotenuse(n-r,a-o))},o.calcHypotenuse=function(t,e){return Math.sqrt(t*t+e*e)},n}(cc.Component),u=n(s.prototype,"avatar",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=s))||c));o._RF.pop()}}}));

System.register("chunks:///_virtual/SignName.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./NoticeManager.ts","./BrowserUtil.ts","./Enum.ts"],(function(e){var n,t,i,o,a,s,r,c,u,l,h,f,d,g,m,v;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,r=e.EditBox,c=e.macro,u=e.systemEvent,l=e.SystemEvent,h=e.KeyCode,f=e.Component},function(e){d=e.DataManager},function(e){g=e.NoticeManager},function(e){m=e.BrowserUtil},function(e){v=e.CURRENT_SCENCE}],execute:function(){var E,p,y,N,k;a._RF.push({},"e7657OFHTpPEJZiwguZQ7oi","SignName",void 0);var D=s.ccclass,w=s.property;e("SignName",(E=D("SignName"),p=w(r),E((k=n((N=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return n=e.call.apply(e,[this].concat(a))||this,i(n,"username",k,o(n)),n.keyHandle=void 0,n}t(n,e);var a=n.prototype;return a.onLoad=function(){var e=this;d.instance.inGame=this,d.instance.CurrentScence=v.UILOGIN,this.keyHandle=function(n){return n.keyCode===c.KEY.tab?(e.changeNextFocusEditBox(),null==n.preventDefault||n.preventDefault(),!1):n.keyCode===c.KEY.enter?(m.focusGame(),e.onSignNameClick(),null==n.preventDefault||n.preventDefault(),!1):void 0}},a.onData=function(e){console.log("onData:",e),e.unauth&&g.instance.show(e.unauth.text)},a.onEnable=function(){d.instance.inGame=this,d.instance.CurrentScence=v.UILOGIN},a.onDisable=function(){this.clean()},a.addEvent=function(){u.on(l.EventType.KEY_DOWN,this.onKeyDown,this);var e=m.getHTMLElementByEditBox(this.username);null==e||e.addEventListener("keydown",this.keyHandle,!1)},a.removeEvent=function(){var e=m.getHTMLElementByEditBox(this.username);null==e||e.removeEventListener("keydown",this.keyHandle,!1),u.off(l.EventType.KEY_DOWN,this.onKeyDown,this)},a.onKeyDown=function(e){switch(e.keyCode){case h.TAB:this.isTop()&&this.changeNextFocusEditBox();break;case h.ENTER:this.isTop()&&this.onSignNameClick()}},a.changeNextFocusEditBox=function(){m.focusEditBox(this.username)},a.isTop=function(){},a.clean=function(){this.username.string=""},a.onSignNameClick=function(){var e=this.username.string,n=/^[a-zA-Z0-9]+$/.test(e);e.length<3||e.length>14||!n?g.instance.show("Tên Nhân vật từ 3 đến 14 ký tự và không chứa ký tự đặc biệt!!"):d.instance.wsClient.send({signName:e})},n}(f)).prototype,"username",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=N))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/SignUp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./BrowserUtil.ts","./NoticeManager.ts","./Enum.ts"],(function(t){var n,e,i,s,o,r,a,c,u,h,l,d,p,g,f,E;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.EditBox,c=t.macro,u=t.systemEvent,h=t.SystemEvent,l=t.KeyCode,d=t.Component},function(t){p=t.DataManager},function(t){g=t.BrowserUtil},function(t){f=t.NoticeManager},function(t){E=t.CURRENT_SCENCE}],execute:function(){var v,m,k,y,w,b,x,C,B;o._RF.push({},"4ce2bYmEltHAJzM5+El3+l2","SignUp",void 0);var D=r.ccclass,S=r.property;t("SignUp",(v=D("SignUp"),m=S(a),k=S(a),y=S(a),v((x=n((b=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return n=t.call.apply(t,[this].concat(o))||this,i(n,"username",x,s(n)),i(n,"password",C,s(n)),i(n,"repassword",B,s(n)),n.editboxs=[],n.keyHandle=void 0,n}e(n,t);var o=n.prototype;return o.onLoad=function(){var t=this;this.editboxs=[this.username,this.password,this.repassword],this.keyHandle=function(n){return n.keyCode===c.KEY.tab?(t.changeNextFocusEditBox(),n.preventDefault(),!1):n.keyCode===c.KEY.enter?(t.onSignUpClick(),n.preventDefault(),!1):n.keyCode===c.KEY.escape?(p.instance.inGame.dialog.onClickBack(),n.preventDefault(),!1):void 0}},o.onEnable=function(){console.log("sign up"),p.instance.inGame=this,p.instance.CurrentScence=E.UILOGIN},o.onData=function(t){t.unauth&&f.instance.show(t.unauth.text)},o.onDisable=function(){this.clean()},o.addEvent=function(){var t=this;u.on(h.EventType.KEY_DOWN,this.onKeyDown,this),this.editboxs.forEach((function(n){var e=g.getHTMLElementByEditBox(n);e&&e.addEventListener("keydown",t.keyHandle,!1)}))},o.removeEvent=function(){var t=this;this.editboxs.forEach((function(n){var e=g.getHTMLElementByEditBox(n);e&&e.removeEventListener("keydown",t.keyHandle,!1)})),u.off(h.EventType.KEY_DOWN,this.onKeyDown,this)},o.onKeyDown=function(t){if(this.isTop())switch(t.keyCode){case l.ESCAPE:p.instance.inGame.dialog.onClickBack();break;case l.TAB:this.changeNextFocusEditBox();break;case l.ENTER:this.onSignUpClick()}},o.changeNextFocusEditBox=function(){for(var t=0;t<this.editboxs.length;t++)if(g.checkEditBoxFocus(this.editboxs[t])){var n=this.editboxs[(t+1)%this.editboxs.length];return void g.focusEditBox(n)}this.editboxs.length>0&&g.focusEditBox(this.editboxs[0])},o.isTop=function(){return!p.instance.inGame.notice.node.active&&!p.instance.inGame.loading.active},o.clean=function(){this.username.string="",this.password.string="",this.repassword.string=""},o.onSignUpClick=function(){var t=null;this.username.string.length>32||this.username.string.length<3?t="Độ dài Tên tài khoản 3 - 32 ký tự!!":this.password.string.length>32||this.password.string.length<6?t="Độ dài mật khẩu 6 - 32 ký tự!!":this.password.string!==this.repassword.string?t="Xác nhận mật khẩu không khớp!":this.username.string===this.password.string?t="Tài khoản không được trùng với mật khẩu!!":/^[a-zA-Z0-9]+$/.test(this.username.string)||(t="Tên chỉ gồm Chữ và Số!"),t?f.instance.show(t):p.instance.wsClient.send({authentication:{username:this.username.string,password:this.password.string,register:!0,captcha:"12345"}})},o.initCaptcha=function(t){},o.reCaptcha=function(){},n}(d)).prototype,"username",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(b.prototype,"password",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(b.prototype,"repassword",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=b))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/StatusLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,i,a,l,n,o,u,s,c;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){l=e.cclegacy,n=e._decorator,o=e.SpriteFrame,u=e.Label,s=e.Sprite,c=e.Component}],execute:function(){var p,b,m,f,h,F,g,y,S,d,L,w,z,k,v,D,_,A,J;l._RF.push({},"5762fD5GphJpJhJZXAKHOtv","StatusLabel",void 0);var R=n.ccclass,C=n.property;e("StatusLabel",(p=R("StatusLabel"),b=C(o),m=C(o),f=C(o),h=C(o),F=C(o),g=C(o),y=C(u),S=C(s),p((w=r((L=function(e){function r(){for(var r,t=arguments.length,l=new Array(t),n=0;n<t;n++)l[n]=arguments[n];return r=e.call.apply(e,[this].concat(l))||this,i(r,"foldFrame",w,a(r)),i(r,"checkFrame",z,a(r)),i(r,"raiseFrame",k,a(r)),i(r,"allinFrame",v,a(r)),i(r,"LostFrame",D,a(r)),i(r,"defaultFrame",_,a(r)),i(r,"label",A,a(r)),i(r,"bgSprite",J,a(r)),r}return t(r,e),r.prototype.setStatus=function(e){switch(this.label&&(this.label.string=e),e){case"Fold":this.bgSprite.spriteFrame=this.foldFrame;break;case"Check":this.bgSprite.spriteFrame=this.checkFrame;break;case"Raise":this.bgSprite.spriteFrame=this.raiseFrame;break;case"Allin":this.bgSprite.spriteFrame=this.allinFrame;case"Lost":this.bgSprite.spriteFrame=this.LostFrame;break;default:this.bgSprite.spriteFrame=this.defaultFrame}},r}(c)).prototype,"foldFrame",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=r(L.prototype,"checkFrame",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=r(L.prototype,"raiseFrame",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=r(L.prototype,"allinFrame",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=r(L.prototype,"LostFrame",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=r(L.prototype,"defaultFrame",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=r(L.prototype,"label",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=r(L.prototype,"bgSprite",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=L))||d));l._RF.pop()}}}));

System.register("chunks:///_virtual/telegram-web.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"0db6cICLo1PJ6oO1MbqMy+U","telegram-web",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/testgame.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,a,r,o,s,h,l,u,c,p,g,y,f,b,m,d,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,s=e.Node,h=e.Prefab,l=e.Label,u=e.Input,c=e.ProgressBar,p=e.instantiate,g=e.Vec3,y=e.Skeleton,f=e.Color,b=e.tween,m=e.v3,d=e.easing,w=e.Component}],execute:function(){var _,v,C,D,z,S,B,x,M,T,L,N,P,R,k,E,I,O,q,A,F,H,U;r._RF.push({},"e8dff04BB9G7qN7RhN6g32N","testgame",void 0);var j=o.ccclass,G=o.property;e("testgame",(_=j("testgame"),v=G(s),C=G(h),D=G(s),z=G(l),S=G(l),B=G(s),x=G(l),M=G(l),T=G(s),L=G(l),_((R=t((P=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"tap",R,a(t)),n(t,"dam",k,a(t)),n(t,"healthBar",E,a(t)),n(t,"healthShow",I,a(t)),n(t,"healthMax",O,a(t)),n(t,"enegyBar",q,a(t)),n(t,"enegyShow",A,a(t)),n(t,"enegyMax",F,a(t)),n(t,"boss",H,a(t)),n(t,"coinShow",U,a(t)),t.healthCap=100,t.coin=0,t.enegryCap=100,t.valueDam=1,t.has_health=0,t.has_enegy=0,t.is_do=!1,t}i(t,e);var r=t.prototype;return r.start=function(){this.has_health=this.healthCap,this.updateData(),this.schedule(this.getEnegry,1),this.schedule(this.action,.1),this.tap.on(u.EventType.TOUCH_START,this.taptap,this)},r.updateData=function(){this.coinShow.string=this.coin,this.enegyShow.string=this.has_enegy,this.enegyMax.string=this.enegryCap,this.enegyBar.getComponent(c).progress=this.has_enegy/this.enegryCap,this.healthShow.string=this.has_health,this.healthMax.string=this.healthCap,this.healthBar.getComponent(c).progress=this.has_health/this.healthCap},r.taptap=function(e){if(this.has_enegy>this.valueDam){var t=p(this.dam);t.getComponent(l).string=this.valueDam,this.tap.addChild(t);var i=e.getUILocation();t.position=new g(i.x-300,i.y-600),this.animation(t,30),this.coin+=this.valueDam,this.has_health-=this.valueDam,this.has_enegy-=this.valueDam,this.is_do=!0,this.updateData()}},r.action=function(){var e=this;this.is_do&&(this.boss.getComponent(y).color=new f(255,0,0,255),this.scheduleOnce((function(){e.boss.getComponent(y).color=new f(255,255,255,255),e.is_do=!1}),.1))},r.animation=function(e,t){var i=e.position.clone();e.angle;b(e).to(1,{position:m(i.x,i.y+t)},{easing:d.quadOut}).call((function(){e.destroy()})).start()},r.getEnegry=function(){this.has_enegy<this.enegryCap&&(this.has_enegy+=5,this.updateData())},r.checkKillBoss=function(){this.has_health},r.update=function(e){},t}(w)).prototype,"tap",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(P.prototype,"dam",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(P.prototype,"healthBar",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(P.prototype,"healthShow",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(P.prototype,"healthMax",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(P.prototype,"enegyBar",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(P.prototype,"enegyShow",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(P.prototype,"enegyMax",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(P.prototype,"boss",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(P.prototype,"coinShow",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=P))||N));r._RF.pop()}}}));

System.register("chunks:///_virtual/testHttp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,r=t.Component}],execute:function(){var c;n._RF.push({},"26ed85fEGlCQq1JWuieMW1v","testHttp",void 0);var s=o.ccclass;o.property,t("testHttp",s("testHttp")(c=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var o=n.prototype;return o.onLoad=function(){},o.start=function(){},o.update=function(t){},n}(r))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/tip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./eventManager.ts"],(function(t){var n,e,o,r,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,r=t.Component},function(t){i=t.eventManager}],execute:function(){var c;e._RF.push({},"d8768II7f1PlIh1oi2+CwRD","tip",void 0);var s=o.ccclass;o.property,t("tip",s("tip")(c=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.start=function(){},o.backBoots=function(){i.dispatchEvent("ThemeBoost")},o.update=function(t){},e}(r))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/ToastManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PoolManager.ts"],(function(t){var e,n,i,o;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,i=t.Label},function(t){o=t.default}],execute:function(){n._RF.push({},"d4922jmM8BPlLy4AbG+M8ps","ToastManager",void 0),t("default",function(){function t(){}t.getInstance=function(){return null===this._instance&&(this._instance=new this),this._instance};var n=t.prototype;return n.show=function(t,e){void 0===t&&(t="");var n=void 0===e?{}:e,i=n.gravity,o=void 0===i?"CENTER":i,a=(n.duration,n.bg_color),c=void 0===a?cc.color(102,102,102,200):a,l=cc.director.getScene().getChildByName("Canvas"),r=l.width,h=l.height,d=new cc.Node;d.group="ui";var s=new cc.Node,u=s.addComponent(cc.Label);u.horizontalAlign=cc.Label.HorizontalAlign.CENTER,u.verticalAlign=cc.Label.VerticalAlign.CENTER,u.fontSize=30,u.string=t,t.length*u.fontSize>3*r/5?(s.width=3*r/5,u.overflow=cc.Label.Overflow.RESIZE_HEIGHT):s.width=t.length*u.fontSize;var g=1+~~(t.length*u.fontSize/(3*r/5));s.height=u.fontSize*g;var f=d.addComponent(cc.Graphics);f.arc(-s.width/2,0,s.height/2+20,.5*Math.PI,1.5*Math.PI,!0),f.lineTo(s.width/2,-(s.height/2+20)),f.arc(s.width/2,0,s.height/2+20,1.5*Math.PI,.5*Math.PI,!0),f.lineTo(-s.width/2,s.height/2+20),f.fillColor=c,f.fill(),d.addChild(s),"CENTER"===o?(d.y=0,d.x=0):"TOP"===o?d.y=d.y+h/5e3*2:"BOTTOM"===o&&(d.y=d.y-h/5*2),l.addChild(d),setTimeout((function(){d.destroy()}),2e3)},n.showMes=function(t){var e=cc.director.getScene().getChildByName("Canvas"),n=new cc.Node;n.group="ui",o.instance.getNode(t.type,n).getChildByName("Label").getComponent(i).string=t.text,e.addChild(n),setTimeout((function(){n.destroy()}),t.duration)},e(t,null,[{key:"instance",get:function(){return this.getInstance()}}]),t}())._instance=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/types.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"b60bdUyDtNMlZgPUn8Dn2LG","types",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/UICalculator.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,r,n,c;return{setters:[function(t){o=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator,c=t.Component}],execute:function(){var e;r._RF.push({},"18096GC1y1NS7wRqRQP7vtQ","UICalculator",void 0);var u=n.ccclass;n.property,t("UICalculator",u("UICalculator")(e=function(t){function r(){return t.apply(this,arguments)||this}return o(r,t),r.prototype.onLoad=function(){},r}(c))||e);r._RF.pop()}}}));

System.register("chunks:///_virtual/UICareerHistoryPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./eventManager.ts","./DataManager.ts","./Enum.ts","./CareerHistoryItem.ts","./CalendarPopup.ts"],(function(e){var t,n,r,a,i,o,l,s,c,u,f,p,h,d,b,y,g,C,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.asyncToGenerator,o=e.regeneratorRuntime,l=e.createForOfIteratorHelperLoose},function(e){s=e.cclegacy,c=e._decorator,u=e.Button,f=e.ScrollView,p=e.Prefab,h=e.instantiate,d=e.Component},function(e){b=e.eventManager},function(e){y=e.DataManager},function(e){g=e.CURRENT_SCENCE},function(e){C=e.CareerHistoryItem},function(e){m=e.CalendarPopup}],execute:function(){var D,w,v,P,E,I,A,H,R,S,_,U,k,z,M;s._RF.push({},"52ba1qOxuFEQZHh81u8pcYG","UICareerHistoryPanel",void 0);var T=c.ccclass,x=c.property;e("UICAREER",(D=T("UICAREER"),w=x(u),v=x(u),P=x(u),E=x(f),I=x(p),A=x(p),D((S=t((R=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,r(t,"btnCalendar",S,a(t)),r(t,"btn30Days",_,a(t)),r(t,"btnAll",U,a(t)),r(t,"scrollView",k,a(t)),r(t,"itemPrefab",z,a(t)),r(t,"calendarPrefab",M,a(t)),t}n(t,e);var s=t.prototype;return s.onLoad=function(){y.instance.UICareer=this},s.onData=function(e){},s.onEnable=function(){console.log("UI_MESSAGE ----"),y.instance.UICareer=this,y.instance.CurrentScence=g.UI_CAREER,y.instance.inGame=this,this.btnCalendar.node.on("click",this.onCalendarClick,this),this.btn30Days.node.on("click",this.show30Days,this),this.btnAll.node.on("click",this.showAll,this)},s.onCalendarClick=function(){var e=this,t=this.node.getChildByName("CalendarPopup");t||((t=h(this.calendarPrefab)).name="CalendarPopup",this.node.addChild(t));var n=t.getComponent(m);if(n){var r=new Date;n.show(r.getMonth(),r.getFullYear(),(function(t){console.log("range:",t),e.loadHistory({range:"custom",from:t.start,to:t.end})}))}t.active=!0},s.show30Days=function(){this.loadHistory({range:"30days"})},s.showAll=function(){this.loadHistory({range:"all"})},s.loadHistory=function(){var e=i(o().mark((function e(t){var n,r,a,i,s,c,u,f,p,d,b,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("DataManager.instance.userData",y.instance.userData),n=y.instance.userData.id,r=t.from,a=t.to,"30day"===t.range?(i=new Date,(s=new Date).setDate(i.getDate()-30),r=s.toISOString(),a=i.toISOString()):"all"===t.range&&(r="",a=""),c=y.HTTP_API+"/api_poker_history?uid="+n+(r?"&fromDate="+r:"")+(a?"&toDate="+a:""),e.next=8,fetch(c);case 8:return u=e.sent,e.next=11,u.json();case 11:for(f=e.sent,this.scrollView.content.removeAllChildren(),p=l(f);!(d=p()).done;)b=d.value,g=h(this.itemPrefab),g.getComponent(C).setData(b),this.scrollView.content.addChild(g);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.btnClose=function(){b.dispatchEvent("ThemeLobby")},t}(d)).prototype,"btnCalendar",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(R.prototype,"btn30Days",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(R.prototype,"btnAll",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(R.prototype,"scrollView",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(R.prototype,"itemPrefab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(R.prototype,"calendarPrefab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=R))||H));s._RF.pop()}}}));

System.register("chunks:///_virtual/UIClub.ts",["./rollupPluginModLoBabelHelpers.js","cc","./eventManager.ts"],(function(e){var t,n,r,o,i,a,l,u,c,s,b,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,l=e._decorator,u=e.Node,c=e.ScrollView,s=e.Prefab,b=e.instantiate,p=e.Component},function(e){f=e.eventManager}],execute:function(){var m,h,v,C,g,y,d,L,P,T,w,I,z,k,B;a._RF.push({},"fef114F/c1KGpjbhw0L2W46","UIClub",void 0);var F=l.ccclass,M=l.property;e("ClubUI",(m=F("ClubUI"),h=M(u),v=M(u),C=M(c),g=M(u),y=M(u),d=M(s),m((T=t((P=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,r(t,"tabContainer",T,o(t)),r(t,"actionButtons",w,o(t)),r(t,"roomList",I,o(t)),r(t,"menuPopup",z,o(t)),r(t,"roomListContent",k,o(t)),r(t,"roomItemPrefab",B,o(t)),t.currentTab="NLP",t}n(t,e);var a=t.prototype;return a.start=function(){},a.selectTab=function(e){this.currentTab=e,console.log("Tab chọn:",e)},a.onClickCreatePublic=function(){console.log("Tạo bàn public cho",this.currentTab)},a.onClickCreatePrivate=function(){console.log("Tạo bàn private cho",this.currentTab)},a.onClickMenu=function(){this.menuPopup.active=!this.menuPopup.active},a.renderRoomList=function(e){this.roomListContent.removeAllChildren();for(var t,n=i(e);!(t=n()).done;){t.value;var r=b(this.roomItemPrefab);this.roomListContent.addChild(r)}},a.btnBack=function(){f.dispatchEvent("ThemeLobby")},t}(p)).prototype,"tabContainer",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(P.prototype,"actionButtons",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(P.prototype,"roomList",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(P.prototype,"menuPopup",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(P.prototype,"roomListContent",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(P.prototype,"roomItemPrefab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=P))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIClubCashier.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClubCashierUserItem.ts","./DataManager.ts","./PopupCashierConfirm.ts"],(function(e){var t,n,i,a,r,o,l,s,u,c,b,h,p,f,C,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,l=e.Button,s=e.Node,u=e.ScrollView,c=e.Label,b=e.Prefab,h=e.instantiate,p=e.Component},function(e){f=e.ClubCashierUserItem},function(e){C=e.DataManager},function(e){d=e.PopupCashierConfirm}],execute:function(){var m,g,y,v,w,T,I,B,M,D,U,k,z,L,H,P,R,S,q,E,K,X,F,_,A,V,j,x,G,J,N,Q,O,W,Y;r._RF.push({},"1100d/MVvRBBKQXFqHJv3BD","UIClubCashier",void 0);var Z=o.ccclass,$=o.property;e("UIClubCashier",(m=Z("UIClubCashier"),g=$(l),y=$(l),v=$(l),w=$(l),T=$(s),I=$(s),B=$(s),M=$(l),D=$(l),U=$(u),k=$(c),z=$(c),L=$(c),H=$(b),P=$(b),R=$(s),m((E=t((q=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i(t,"backButton",E,a(t)),i(t,"tabTransaction",K,a(t)),i(t,"tabHistory",X,a(t)),i(t,"tabRequest",F,a(t)),i(t,"panelTransaction",_,a(t)),i(t,"panelHistory",A,a(t)),i(t,"panelRequest",V,a(t)),i(t,"sendChipButton",j,a(t)),i(t,"takeBackChipButton",x,a(t)),i(t,"userScroll",G,a(t)),t.selectedUsers=new Set,i(t,"moneyChipXanh",J,a(t)),i(t,"moneyChipXanhHistory",N,a(t)),i(t,"moneyChipMember",Q,a(t)),i(t,"userItemPrefab",O,a(t)),i(t,"popupConfirmPrefab",W,a(t)),i(t,"userListContent",Y,a(t)),t.clubData=void 0,t.clubMembers=void 0,t}n(t,e);var r=t.prototype;return r.onLoad=function(){this.backButton.node.on(l.EventType.CLICK,this.onBack,this),this.tabTransaction.node.on(l.EventType.CLICK,this.showTransactionTab,this),this.tabHistory.node.on(l.EventType.CLICK,this.showHistoryTab,this),this.tabRequest.node.on(l.EventType.CLICK,this.showRequestTab,this),this.sendChipButton.node.on(l.EventType.CLICK,this.sendChipToSelected,this),this.takeBackChipButton.node.on(l.EventType.CLICK,this.takeBackFromSelected,this),C.instance.UIClubCashier=this},r.onEnable=function(){C.instance.inGame=this,this.clubData=C.instance.UIClubManager.clubData,this.clubMembers=C.instance.UIClubManager.clubMembers,console.log("this.clubMembers:",this.clubMembers),C.instance.wsClient.send({scene:"Club",g:{club:{getClubMembers:!0,clubId:this.clubData.id}}}),this.showTransactionTab()},r.onBack=function(){C.instance.UIClubManager.closeCashier()},r.showTransactionTab=function(){this.panelTransaction.active=!0,this.panelHistory.active=!1,this.panelRequest.active=!1,console.log("DataManager.instance.userData:",C.instance.userData),this.moneyChipXanh.string=C.instance.userData.chipBlue},r.showHistoryTab=function(){this.panelTransaction.active=!1,this.panelHistory.active=!0,this.panelRequest.active=!1},r.showRequestTab=function(){this.panelTransaction.active=!1,this.panelHistory.active=!1,this.panelRequest.active=!0},r.onUserSelected=function(e,t){t?this.selectedUsers.add(e):this.selectedUsers.delete(e)},r.sendChipToSelected=function(){var e,t=this.getSelectedUsersData(),n=h(this.popupConfirmPrefab);this.node.addChild(n),null==(e=n.getComponent(d))||e.initPopup(t,"send")},r.takeBackFromSelected=function(){var e,t=this.getSelectedUsersData(),n=h(this.popupConfirmPrefab);this.node.addChild(n),null==(e=n.getComponent(d))||e.initPopup(t,"take")},r.getSelectedUsersData=function(){for(var e=this,t=[],n=function(){var n=e.userListContent.children[i].getComponent("ClubCashierUserItem");n&&n.selectToggle&&n.selectToggle.isChecked&&(console.log("this.clubMembers.all:",e.clubMembers.all),e.clubMembers.all.forEach((function(e){console.log("user:",e,n),console.log("user.UID :",e.uid,n.uid),e.uid==n.uid&&t.push(e)})))},i=0;i<this.userListContent.children.length;i++)n();return t},r.showUsers=function(e){var t=this;console.log("show user",e),this.userListContent.removeAllChildren(),e.forEach((function(e){console.log("user-----:",e);var n=h(t.userItemPrefab),i=n.getComponent(f);null==i||i.init(e,t),t.userListContent.addChild(n)}))},r.loadMemberData=function(e){console.log("loadMemberData ----"),this.clubMembers=e,this.showUsers(e.all)},r.onData=function(e){console.log("data:--",e)},t}(p)).prototype,"backButton",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(q.prototype,"tabTransaction",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(q.prototype,"tabHistory",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(q.prototype,"tabRequest",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(q.prototype,"panelTransaction",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(q.prototype,"panelHistory",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(q.prototype,"panelRequest",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(q.prototype,"sendChipButton",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(q.prototype,"takeBackChipButton",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(q.prototype,"userScroll",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(q.prototype,"moneyChipXanh",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(q.prototype,"moneyChipXanhHistory",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(q.prototype,"moneyChipMember",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(q.prototype,"userItemPrefab",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(q.prototype,"popupConfirmPrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(q.prototype,"userListContent",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=q))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIClubManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./eventManager.ts","./DataManager.ts","./AudioManager.ts","./Enum.ts","./ClubTableItem.ts","./NoticeManager.ts"],(function(e){var n,t,a,i,l,r,o,u,b,c,s,g,h,m,p,f,C,d,y,M,T;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,r=e._decorator,o=e.Node,u=e.Sprite,b=e.Label,c=e.Button,s=e.Toggle,g=e.Prefab,h=e.instantiate,m=e.resources,p=e.Component},function(e){f=e.eventManager},function(e){C=e.DataManager},function(e){d=e.default},function(e){y=e.CURRENT_SCENCE},function(e){M=e.ClubTableItem},function(e){T=e.NoticeManager}],execute:function(){var w,v,I,D,L,z,P,U,E,G,k,N,B,A,R,q,O,F,S,_,x,j,H,J,K,Q,V,W,X,Y,Z,$,ee,ne,te,ae,ie,le,re,oe,ue,be,ce,se,ge,he,me,pe,fe,Ce,de,ye,Me,Te,we,ve,Ie;l._RF.push({},"83103LfAUBCI7O9hK3jTIJU","UIClubManager",void 0);var De=r.ccclass,Le=r.property;e("UIClubManager",(w=De("UIClubManager"),v=Le(o),I=Le(o),D=Le(u),L=Le(b),z=Le(b),P=Le(u),U=Le(c),E=Le(b),G=Le(b),k=Le(b),N=Le(c),B=Le(c),A=Le(c),R=Le(c),q=Le(c),O=Le(o),F=Le(o),S=Le(c),_=Le(c),x=Le(c),j=Le(c),H=Le(c),J=Le(c),K=Le(s),Q=Le(s),V=Le(o),W=Le(g),w((Z=n((Y=function(e){function n(){for(var n,t=arguments.length,l=new Array(t),r=0;r<t;r++)l[r]=arguments[r];return n=e.call.apply(e,[this].concat(l))||this,a(n,"mainManager",Z,i(n)),a(n,"MenuGame",$,i(n)),a(n,"avatar",ee,i(n)),a(n,"nameLabel",ne,i(n)),a(n,"userIdLabel",te,i(n)),a(n,"deeplinkIcon",ae,i(n)),a(n,"contactButton",ie,i(n)),a(n,"moneyRed",le,i(n)),a(n,"chipBlue",re,i(n)),a(n,"welcomeLabel",oe,i(n)),a(n,"tabAll",ue,i(n)),a(n,"tabNLP",be,i(n)),a(n,"tab6Plus",ce,i(n)),a(n,"tab6Plo",se,i(n)),a(n,"tabOfx",ge,i(n)),a(n,"nodeCreatorPrivate",he,i(n)),a(n,"nodeCreatorPublic",me,i(n)),a(n,"btnMenu",pe,i(n)),a(n,"btnMessage",fe,i(n)),a(n,"btnMember",Ce,i(n)),a(n,"btnCashier",de,i(n)),a(n,"btnData",ye,i(n)),a(n,"btnManager",Me,i(n)),a(n,"togglePlaying",Te,i(n)),a(n,"toggleEmpty",we,i(n)),n.uiClubCashierNode=null,n.currentGameType="All",n.clubInfo=null,n.clubData=null,n.clubMembers=null,a(n,"tableListContent",ve,i(n)),a(n,"clubTableItem",Ie,i(n)),n}t(n,e);var l=n.prototype;return l.onLoad=function(){C.instance.UIClubManager=this,this.welcomeLabel.string="Chào mừng bạn đến với Poker Cowboy.",this.btnCashier.node.on(c.EventType.CLICK,this.showUIClubCashier,this),this.togglePlaying.node.on("toggle",this.onToggleFilterChanged,this),this.toggleEmpty.node.on("toggle",this.onToggleFilterChanged,this)},l.start=function(){console.log("start club manager----")},l.onEnable=function(){console.log("UIPokerLobby----"),C.instance.CurrentScence=y.UI_CLUB_MANAGER,this.mainManager.active=!0,this.MenuGame.active=!1,console.log("onEnable club manager----"),C.instance.userData&&C.instance.wsClient.send({scene:"Home",g:{club:{getTableOptions:"getTableOptions"}}}),this.setInfo()},l.onDisable=function(){},l.onBack=function(){f.dispatchEvent("ThemeLobby")},l.showMainManager=function(){this.mainManager.active=!0,this.MenuGame.active=!1},l.showMenugame=function(){d.instance.playSound("click"),f.dispatchEvent("ThemeMenuGame"),C.instance.UICreateTable.setDataClub(this.clubData),C.instance.UIMenuGame.init({zoneType:"creatorInClub",onBackCallback:function(){f.dispatchEvent("ThemeClubManager")}})},l.showClub=function(e){console.log("this.data:",e),this.clubData=e,this.nameLabel.string=this.clubData.name,this.userIdLabel.string="ID: "+this.clubData.ownerInfo.UID,this.requestTableList(this.currentGameType)},l.requestTableList=function(e){this.currentGameType=e;var n={getClubTables:"getClubTables",clubId:this.clubData.id,private:!1,gameType:this.currentGameType};C.instance.wsClient.send({scene:"Club",g:{club:n}})},l.requestPrivateTableList=function(e){this.currentGameType=e,C.instance.wsClient.send({scene:"Club",g:{club:{getClubTables:"getClubTables",clubId:this.clubData.id,private:!0}}})},l.setInfo=function(){C.instance.userData&&(C.instance.userData&&(this.moneyRed.string=C.instance.userData.red,this.chipBlue.string=C.instance.userData.chipBlue))},l.onClickTab=function(e,n){this.currentGameType=n,this.requestTableList(n)},l.onToggleFilterChanged=function(){console.log("🔄 Toggle changed, reloading tables...");var e={playing:this.togglePlaying.isChecked,empty:this.toggleEmpty.isChecked};C.instance.wsClient.send({scene:"Club",g:{club:{getClubTables:"getClubTables",clubId:this.clubData.id,private:!1,fillter:e}}})},l.onClickFooter=function(e){console.log("Footer action:",e)},l.onShowMemebers=function(e){C.instance.wsClient.send({scene:"Club",g:{club:{getClubMembers:!0,clubId:this.clubData.id}}}),f.dispatchEvent("ThemeClubMember"),C.instance.inGame.reqAllMembers()},l.showClubTables=function(e){var n=this;console.log("showClubTables:",e);for(var t=this.tableListContent.children.length-1;t>=0;t--){var a=this.tableListContent.children[t];"ClubTableItem"===a.name&&a.destroy()}e.forEach((function(e){var t=h(n.clubTableItem);t.getComponent(M).init(e),n.tableListContent.addChild(t)})),this.checkClubPermissions()},l.showUIClubCashier=function(){var e=this;this.uiClubCashierNode?this.uiClubCashierNode.active=!0:m.load("prefab/UI/UIClubCashier",g,(function(n,t){n?console.error("⚠️ Load UIClubCashier failed:",n):(e.uiClubCashierNode=h(t),e.node.addChild(e.uiClubCashierNode))}))},l.closeCashier=function(){this.uiClubCashierNode&&(this.uiClubCashierNode.active=!1)},l.checkClubPermissions=function(){var e;console.log("this.clubData:",this.clubData,C.instance.userData);var n=(null==(e=this.clubData)?void 0:e.owner)===C.instance.userData.id;console.log("isOwner:",n),this.nodeCreatorPublic.active=n,this.nodeCreatorPrivate.active=n,this.btnMember.node.active=n,this.btnCashier.node.active=n},l.onData=function(e){e.clubTableOptions?C.instance.UICreateTable.onLoadCreateTable(e.clubTableOptions):e.getClubTables?this.showClubTables(e.getClubTables.tables):e.clubcreateTable&&e.clubcreateTable.createTableSuccess&&(this.onEnable(),this.showClubTables(e.clubcreateTable.tables)),e.clubMembers&&(console.log("data.clubMembers:",e.clubMembers),this.clubMembers=e.clubMembers,C.instance.inGame.loadMemberData({all:e.clubMembers.all,agency:e.clubMembers.agency,request:e.clubMembers.request})),e.clubMember&&e.clubMember.acceptJoin&&(T.instance.show("Đã đồng ý vào club thành công"),C.instance.inGame.reqAllMembers(),f.dispatchEvent("ThemeClubManager")),e.clubMemberRemove&&e.clubMemberRemove.remove&&(T.instance.show("Đã xoá thành công"),C.instance.inGame.reqAllMembers())},n}(p)).prototype,"mainManager",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=n(Y.prototype,"MenuGame",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=n(Y.prototype,"avatar",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=n(Y.prototype,"nameLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=n(Y.prototype,"userIdLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=n(Y.prototype,"deeplinkIcon",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=n(Y.prototype,"contactButton",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=n(Y.prototype,"moneyRed",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=n(Y.prototype,"chipBlue",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=n(Y.prototype,"welcomeLabel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=n(Y.prototype,"tabAll",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=n(Y.prototype,"tabNLP",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=n(Y.prototype,"tab6Plus",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=n(Y.prototype,"tab6Plo",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=n(Y.prototype,"tabOfx",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=n(Y.prototype,"nodeCreatorPrivate",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=n(Y.prototype,"nodeCreatorPublic",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=n(Y.prototype,"btnMenu",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=n(Y.prototype,"btnMessage",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=n(Y.prototype,"btnMember",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=n(Y.prototype,"btnCashier",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=n(Y.prototype,"btnData",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=n(Y.prototype,"btnManager",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=n(Y.prototype,"togglePlaying",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=n(Y.prototype,"toggleEmpty",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=n(Y.prototype,"tableListContent",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=n(Y.prototype,"clubTableItem",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=Y))||X));l._RF.pop()}}}));

System.register("chunks:///_virtual/UIClubMember.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./ClubMemberItem.ts","./eventManager.ts","./NoticeManager.ts"],(function(e){var t,n,r,i,l,a,o,s,c,u,b,m,M,h,f,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,o=e.Button,s=e.ScrollView,c=e.Prefab,u=e.Node,b=e.instantiate,m=e.Component},function(e){M=e.DataManager},function(e){h=e.ClubMemberItem},function(e){f=e.eventManager},function(e){p=e.NoticeManager}],execute:function(){var g,d,y,w,C,v,I,q,A,D,U,z,k,L,B,P,R,S,V;l._RF.push({},"be804ezZflPE6XvqAI+YNIr","UIClubMember",void 0);var E=a.ccclass,N=a.property;e("UIClubMember",(g=E("UIClubMember"),d=N(o),y=N(o),w=N(o),C=N(o),v=N(s),I=N(c),q=N(u),A=N(u),g((z=t((U=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),a=0;a<n;a++)l[a]=arguments[a];return t=e.call.apply(e,[this].concat(l))||this,r(t,"backButton",z,i(t)),r(t,"tabAll",k,i(t)),r(t,"tabAgency",L,i(t)),r(t,"tabRequest",B,i(t)),r(t,"contentScrollView",P,i(t)),r(t,"memberItemPrefab",R,i(t)),t.allMembers=[],t.agencyMembers=[],t.requestMembers=[],r(t,"nodeMain",S,i(t)),r(t,"nodeUserDetail",V,i(t)),t}n(t,e);var l=t.prototype;return l.onLoad=function(){M.instance.UIClubMember=this,this.tabAll.node.on("click",this.showAllMembers,this),this.tabAgency.node.on("click",this.showAgency,this),this.tabRequest.node.on("click",this.showRequest,this),this.backButton.node.on("click",this.onBack,this),M.instance.UIClubMember.nodeUserDetail.active=!1,M.instance.UIClubMember.nodeMain.active=!0},l.onEnable=function(){M.instance.inGame=this},l.onBack=function(){f.dispatchEvent("ThemeClubManager")},l.reqAllMembers=function(){console.log("reqAllMembers:---");var e=M.instance.UIClubManager.clubData;M.instance.wsClient.send({scene:"Club",g:{getClubMembers:{getMembers:!0,clubId:e.id}}})},l.showAllMembers=function(){this.populateMemberList(this.allMembers)},l.showAgency=function(){this.populateMemberList(this.agencyMembers)},l.showRequest=function(){this.populateMemberList(this.requestMembers)},l.populateMemberList=function(e){var t=this;console.log("populateMemberList:",e),this.contentScrollView.content.removeAllChildren(),e.forEach((function(e){var n,r=b(t.memberItemPrefab);null==(n=r.getComponent(h))||n.init(e),t.contentScrollView.content.addChild(r)}))},l.loadMemberData=function(e){this.allMembers=e.all,this.agencyMembers=e.agency,this.requestMembers=e.request,console.log("this.requestMembers:",this.requestMembers),this.showAllMembers()},l.onData=function(e){console.log("Data-----",e),e.clubMembers&&this.loadMemberData({all:e.clubMembers.all,agency:e.clubMembers.agency,request:e.clubMembers.request}),e.clubMember&&e.clubMember.acceptJoin&&(p.instance.show("Đã đồng ý vào club thành công"),M.instance.UIClubManager.onShowMemebers())},t}(m)).prototype,"backButton",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(U.prototype,"tabAll",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(U.prototype,"tabAgency",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(U.prototype,"tabRequest",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(U.prototype,"contentScrollView",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(U.prototype,"memberItemPrefab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(U.prototype,"nodeMain",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(U.prototype,"nodeUserDetail",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=U))||D));l._RF.pop()}}}));

System.register("chunks:///_virtual/UIClubMemberDetail.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./ResourceManager.ts"],(function(e){var t,n,a,i,r,l,o,u,c,s,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,o=e.Label,u=e.Sprite,c=e.Component},function(e){s=e.DataManager},function(e){b=e.default}],execute:function(){var m,g,f,h,p,D,d,C,L,v,y,M,w;r._RF.push({},"af58aYETeZGM4SkFRffhXrV","UIClubMemberDetail",void 0);var I=l.ccclass,R=l.property;e("UIClubMemberDetail",(m=I("UIClubMemberDetail"),g=R(o),f=R(o),h=R(o),p=R(o),D=R(u),m((L=t((C=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,a(t,"nameLabel",L,i(t)),a(t,"uidLabel",v,i(t)),a(t,"roleLabel",y,i(t)),a(t,"joinDateLabel",M,i(t)),a(t,"avatarSprite",w,i(t)),t.memberData=null,t}n(t,e);var r=t.prototype;return r.onLoad=function(){s.instance.UIClubMemberDetail=this},r.init=function(e){var t;this.memberData=e,this.nameLabel.string=e.username,this.uidLabel.string="UID: "+e.userInfo.UID,this.roleLabel.string="Vai trò: "+this.getRoleName(e.role),this.joinDateLabel.string="Ngày tham gia: "+new Date(e.joinedAt).toLocaleDateString(),this.avatarSprite.spriteFrame=b.instance.getSprite("avatar"+(null!=(t=e.userInfo.avatar)?t:1)),this.node.active=!0},r.onBack=function(){s.instance.UIClubMember.nodeUserDetail.active=!1,s.instance.UIClubMember.nodeMain.active=!0},r.getRoleName=function(e){switch(e){case"owner":return"Chủ Club";case"manager":return"Quản lý";case"agency":return"Đại lý";default:return"Thành viên"}},r.changeRole=function(e){this.memberData&&(console.log("DataManager.instance.wsClient:",s.instance.wsClient),s.instance.wsClient.send({scene:"Club",g:{club:{update_member_role:{clubId:this.memberData.clubId,uid:this.memberData.uid,role:e}}}}),this.roleLabel.string="Vai trò: "+this.getRoleName(e))},r.onClickOwner=function(){this.changeRole("owner")},r.onClickManager=function(){this.changeRole("manager")},r.onClickAgency=function(){this.changeRole("agency")},r.onClickMember=function(){this.changeRole("member")},t}(c)).prototype,"nameLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(C.prototype,"uidLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(C.prototype,"roleLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(C.prototype,"joinDateLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(C.prototype,"avatarSprite",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=C))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIConfirm.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,r,o,e;return{setters:[function(t){n=t.inheritsLoose},function(t){r=t.cclegacy,o=t._decorator,e=t.Component}],execute:function(){var c;r._RF.push({},"71f05z5FiZFBYBlwxhvc0Xc","UIConfirm",void 0);var i=o.ccclass;o.property,t("UIConfirm",i("UIConfirm")(c=function(t){function r(){return t.apply(this,arguments)||this}n(r,t);var o=r.prototype;return o.start=function(){},o.update=function(t){},r}(e))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/UICreateClub.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./eventManager.ts","./NoticeManager.ts"],(function(e){var n,t,i,r,a,o,c,l,u,s,p,b,C;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,c=e.EditBox,l=e.Node,u=e.Sprite,s=e.Component},function(e){p=e.DataManager},function(e){b=e.eventManager},function(e){C=e.NoticeManager}],execute:function(){var h,f,g,d,m,v,I,y,L,S,E;a._RF.push({},"1a466nTE9dK/ZSUauI8EyMJ","UICreateClub",void 0);var M=o.ccclass,N=o.property;e("UICreateClub",(h=M("UICreateClub"),f=N(c),g=N(l),d=N(l),m=N(l),h((y=n((I=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a))||this,i(n,"clubNameInput",y,r(n)),i(n,"iconListContainer",L,r(n)),n.clubIconSprite=null,i(n,"nodeListGame",S,r(n)),i(n,"nodeCreatorClub",E,r(n)),n}t(n,e);var a=n.prototype;return a.onLoad=function(){var e=this;p.instance.UICreateClub=this,this.clubIconSprite=this.iconListContainer.children[0].getComponent(u),this.iconListContainer.children.forEach((function(n){var t=n.getComponent(u);n.on(l.EventType.TOUCH_END,(function(){e.clubIconSprite=t,e.selectHighlight(n)}),e)}))},a.selectHighlight=function(e){this.iconListContainer.children.forEach((function(e){e.scale.set(1,1,1)})),e.scale.set(1.1,1.1,1)},a.getSelectedIconName=function(){var e;return(null==(e=this.clubIconSprite.spriteFrame)?void 0:e.name)||""},a.onClickCreateClub=function(){var e=this.clubNameInput.string.trim(),n=this.clubIconSprite.spriteFrame.name;if(e.length<6)C.instance.show("Tên club phải lớn hơn 5 ký tự");else{var t={name:e,icon:n};p.instance.wsClient.send({scene:"creatorClub",g:{club:{ClubCreator:"ClubCreator",dataclub:t}}})}},a.onBack=function(){b.dispatchEvent("ThemeLobby")},n}(s)).prototype,"clubNameInput",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(I.prototype,"iconListContainer",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=n(I.prototype,"nodeListGame",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(I.prototype,"nodeCreatorClub",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=I))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/UICreateTable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./Helper.ts","./NoticeManager.ts","./Utils.ts","./eventManager.ts","./AudioManager.ts","./GameModeSetting.ts"],(function(e){var i,t,l,n,r,a,o,s,u,c,b,d,g,p,h,f,m,y,T,w,C,S,M;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,l=e.initializerDefineProperty,n=e.assertThisInitialized,r=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){o=e.cclegacy,s=e._decorator,u=e.Node,c=e.Label,b=e.EditBox,d=e.Slider,g=e.Toggle,p=e.Layout,h=e.Vec3,f=e.Component},function(e){m=e.DataManager},function(e){y=e.Helper},function(e){T=e.NoticeManager},function(e){w=e.numberFormat},function(e){C=e.eventManager},function(e){S=e.default},function(e){M=e.GameModeSetting}],execute:function(){var P,z,v,I,k,L,B,F,A,x,E,O,D,V,R,G,U,N,H,_,j,q,K,J,Q,W,X,Y,Z,$,ee,ie,te,le,ne,re,ae,oe,se,ue,ce,be,de,ge,pe,he,fe,me,ye,Te,we,Ce,Se,Me,Pe,ze,ve,Ie,ke,Le,Be,Fe,Ae,xe,Ee,Oe,De,Ve,Re,Ge,Ue,Ne,He,_e,je,qe,Ke,Je,Qe,We,Xe,Ye,Ze,$e,ei,ii,ti,li,ni,ri,ai,oi,si,ui,ci,bi,di,gi,pi;o._RF.push({},"91556Kc25BGo55wvqjG+T2f","UICreateTable",void 0);var hi=s.ccclass,fi=s.property;e("UICreateTable",(P=hi("UICreateTable"),z=fi(u),v=fi(u),I=fi(c),k=fi(u),L=fi(u),B=fi(b),F=fi(d),A=fi(c),x=fi(d),E=fi(c),O=fi(d),D=fi(c),V=fi(d),R=fi(c),G=fi(g),U=fi(g),N=fi(d),H=fi(c),_=fi(d),j=fi(c),q=fi(d),K=fi(c),J=fi(d),Q=fi(c),W=fi(d),X=fi(c),Y=fi(d),Z=fi(c),$=fi(g),ee=fi(g),ie=fi(d),te=fi(c),le=fi(d),ne=fi(c),re=fi(g),ae=fi(g),oe=fi(g),se=fi(g),ue=fi(d),ce=fi(c),be=fi(g),de=fi(b),ge=fi(g),pe=fi(g),he=fi(g),fe=fi(g),me=fi(g),ye=fi(M),P((Ce=i((we=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return i=e.call.apply(e,[this].concat(r))||this,l(i,"arrowBaseMode",Ce,n(i)),l(i,"arrowAdvMode",Se,n(i)),l(i,"gameType",Me,n(i)),l(i,"baseSettingMode",Pe,n(i)),l(i,"nodeMainSetting",ze,n(i)),l(i,"tableNameInput",ve,n(i)),l(i,"sliderMaxPlayers",Ie,n(i)),l(i,"labelMaxPlayers",ke,n(i)),l(i,"sliderTimePerTurn",Le,n(i)),l(i,"labelTimePerTurn",Be,n(i)),l(i,"sliderBlinds",Fe,n(i)),l(i,"labelBlinds",Ae,n(i)),l(i,"sliderAnte",xe,n(i)),l(i,"labelAnte",Ee,n(i)),l(i,"toggleAutoStraddle",Oe,n(i)),l(i,"toggleVoluntaryStraddle",De,n(i)),l(i,"sliderFee",Ve,n(i)),l(i,"labelFee",Re,n(i)),l(i,"sliderCap",Ge,n(i)),l(i,"labelCap",Ue,n(i)),l(i,"sliderGameLength",Ne,n(i)),l(i,"labelGameLength",He,n(i)),l(i,"sliderEntryFee",_e,n(i)),l(i,"labelEntryFee",je,n(i)),l(i,"sliderVPIP",qe,n(i)),l(i,"labelVPIP",Ke,n(i)),l(i,"sliderMaintenance",Je,n(i)),l(i,"labelMaintenance",Qe,n(i)),l(i,"toggleTimeInMinutes",We,n(i)),l(i,"toggleTimeInHands",Xe,n(i)),l(i,"sliderFollowTime",Ye,n(i)),l(i,"labelFollowTime",Ze,n(i)),l(i,"sliderRathole",$e,n(i)),l(i,"labelRathole",ei,n(i)),l(i,"toggleBreak",ii,n(i)),l(i,"toggleMultiDeal",ti,n(i)),l(i,"toggleInsurance",li,n(i)),l(i,"toggleEVChop",ni,n(i)),l(i,"sliderAffiliateLimit",ri,n(i)),l(i,"labelAffiliateLimit",ai,n(i)),l(i,"togglePrivateTable",oi,n(i)),l(i,"passwordInput",si,n(i)),l(i,"toggleBuyInDelegate",ui,n(i)),l(i,"toggleRandomSeat",ci,n(i)),l(i,"toggleAutoReopen",bi,n(i)),l(i,"toggleLimitIP",di,n(i)),l(i,"toggleLimitPCEmu",gi,n(i)),i.clubData=null,i.clubTableOptions=null,i.blinMin=1,i.zoneType="club",i.onBackCallback=null,l(i,"gameModeSetting",pi,n(i)),i}t(i,e);var o=i.prototype;return o.onLoad=function(){console.log("vao UICreateTable"),m.instance.UICreateTable=this},o.init=function(e){console.log("zoneType:",e.zoneType),this.zoneType=e.zoneType,this.onBackCallback=e.onBackCallback||null},o.start=function(){console.log("start UICreateTable")},o.setDataClub=function(e){this.clubData=e},o.setClubOptionByDb=function(e){console.log("clubTableOptions:",e),this.clubTableOptions=e},o.onEnable=function(){console.log("onEnable create club table "),m.instance.UICreateTable=this,this.addSliderEvents(),this.baseSettingMode.active=!0,m.instance.clubTableOptions&&this.onLoadCreateTable(m.instance.clubTableOptions)},o.onTogglePrivateChanged=function(){},o.onShowBaseSettingMode=function(){console.log("this.baseSettingMode.active:",this.baseSettingMode.active),this.baseSettingMode.active?this.baseSettingMode.active=!1:this.baseSettingMode.active=!0,this.nodeMainSetting.getComponent(p).updateLayout();var e=this.baseSettingMode.active?-1:1;this.arrowBaseMode.setScale(new h(1,e,1))},o.addSliderEvents=function(){var e=this;this.sliderMaxPlayers.node.on("slide",(function(){e.labelMaxPlayers.string=y.mapSlider(e.sliderMaxPlayers,1,9)+" người"})),this.sliderTimePerTurn.node.on("slide",(function(){e.labelTimePerTurn.string=y.mapSlider(e.sliderTimePerTurn,8,35)+" giây"})),this.sliderBlinds.node.on("slide",(function(){var i=e.clubTableOptions.settings.blinds,t=i[Math.round(e.sliderBlinds.progress*(i.length-1))];console.log("valu blindSteps e:",t),e.blinMin=w(t);var l=w(2*t);e.labelBlinds.string=e.blinMin+"/"+l})),this.sliderAnte.node.on("slide",(function(){e.labelAnte.string=y.mapSlider(e.sliderAnte,0,10)+" BB"})),this.sliderFee.node.on("slide",(function(){e.labelFee.string=y.mapSlider(e.sliderFee,0,10)+"%"})),this.sliderCap.node.on("slide",(function(){e.labelCap.string=""+y.mapSlider(e.sliderCap,0,10)})),this.sliderGameLength.node.on("slide",(function(){e.labelGameLength.string=y.mapSlider(e.sliderGameLength,.5,12)+"h"})),this.sliderVPIP.node.on("slide",(function(){e.labelVPIP.string=y.mapSlider(e.sliderVPIP,0,70)+"%"})),this.sliderMaintenance.node.on("slide",(function(){e.labelMaintenance.string=y.mapSlider(e.sliderMaintenance,10,80)+"%"})),this.sliderFollowTime.node.on("slide",(function(){e.labelFollowTime.string=y.mapSlider(e.sliderFollowTime,10,90)+" phút"})),this.sliderRathole.node.on("slide",(function(){e.labelRathole.string=y.mapSlider(e.sliderRathole,0,180)+" phút"})),this.sliderAffiliateLimit.node.on("slide",(function(){e.labelAffiliateLimit.string=""+y.mapSlider(e.sliderAffiliateLimit,0,1e9)}))},o.onLoadCreateTable=function(){var e=r(a().mark((function e(i){var t,l,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("onLoadCreateTable------",i),this.clubTableOptions=i,t=i.settings,l=i.advanced,this.sliderMaxPlayers.progress=t.maxPlayers.indexOf(6)/8,this.sliderTimePerTurn.progress=t.timePerTurn.indexOf(15)/(t.timePerTurn.length-1),console.log("this.clubTableOptions.settings.blinds:",t.blinds),n=(n=t.blinds[0])||1,this.sliderBlinds.progress=t.blinds.indexOf(1)/(t.blinds.length-1),this.blinMin=w(n),r=w(2*n),this.labelBlinds.string=this.blinMin+"/"+r,this.sliderAnte.progress=t.ante.indexOf(1)/(t.ante.length-1),this.sliderFee.progress=t.feePercent.indexOf(5)/(t.feePercent.length-1),this.sliderGameLength.progress=t.gameLength.indexOf(2)/(t.gameLength.length-1),this.toggleAutoStraddle.isChecked=t.autoStraddle.includes(!0),this.toggleVoluntaryStraddle.isChecked=t.voluntaryStraddle.includes(!1),this.sliderEntryFee.progress=l.entryFee.indexOf(1e5)/(l.entryFee.length-1),this.sliderVPIP.progress=l.vpipLimit.indexOf(30)/(l.vpipLimit.length-1),this.sliderMaintenance.progress=l.maintenance.indexOf(20)/(l.maintenance.length-1),this.toggleTimeInMinutes.isChecked=!0,this.toggleTimeInHands.isChecked=!1,this.sliderFollowTime.progress=l.followTime.indexOf(30)/(l.followTime.length-1),this.sliderRathole.progress=l.rathole.indexOf(60)/(l.rathole.length-1),this.toggleBreak.isChecked=l.breakTime.includes(!1),this.toggleMultiDeal.isChecked=l.multiDeal.includes(!1),this.toggleInsurance.isChecked=l.insurance.includes(!1),this.toggleEVChop.isChecked=l.evChop.includes(!1),this.sliderAffiliateLimit.progress=l.affiliateLimit.indexOf(100)/(l.affiliateLimit.length-1),this.togglePrivateTable.isChecked=!1,this.passwordInput.string="",this.toggleBuyInDelegate.isChecked=l.delegateBuyIn.includes(!1),this.toggleRandomSeat.isChecked=l.randomSeat.includes(!1),this.toggleLimitIP.isChecked=l.limitIP.includes(!1),this.toggleLimitPCEmu.isChecked=l.limitPCEmu.includes(!1);case 36:case"end":return e.stop()}}),e,this)})));return function(i){return e.apply(this,arguments)}}(),o.onCreateTable=function(){var e,i,t=null==(e=this.gameModeSetting)||null==e.getSettings?void 0:e.getSettings();console.log("onCreateTable---",this.clubData),console.log("this.sliderBlinds.progress",this.sliderBlinds.progress);var l={clubId:null==(i=this.clubData)?void 0:i.id,tableName:this.tableNameInput.string,gameType:this.gameType.string,zoneType:this.zoneType,settings:{maxPlayers:y.mapSlider(this.sliderMaxPlayers,1,9),timePerTurn:y.mapSlider(this.sliderTimePerTurn,8,35),blinds:this.blinMin,ante:y.mapSlider(this.sliderAnte,0,10),autoStraddle:this.toggleAutoStraddle.isChecked,voluntaryStraddle:this.toggleVoluntaryStraddle.isChecked,feePercent:y.mapSlider(this.sliderFee,0,10),gameLength:y.mapSlider(this.sliderGameLength,.5,12),gameModeSettings:t},advanced:{entryFee:this.sliderEntryFee.progress,vpipLimit:y.mapSlider(this.sliderVPIP,0,70),maintenance:y.mapSlider(this.sliderMaintenance,10,80),followType:this.toggleTimeInMinutes.isChecked?"minute":"hand",followTime:y.mapSlider(this.sliderFollowTime,10,90),rathole:y.mapSlider(this.sliderRathole,0,180),breakTime:this.toggleBreak.isChecked,multiDeal:this.toggleMultiDeal.isChecked,insurance:this.toggleInsurance.isChecked,evChop:this.toggleEVChop.isChecked,affiliateLimit:y.mapSlider(this.sliderAffiliateLimit,0,1e9),privateTable:this.togglePrivateTable.isChecked,password:this.togglePrivateTable.isChecked?this.passwordInput.string:null,delegateBuyIn:this.toggleBuyInDelegate.isChecked,randomSeat:this.toggleRandomSeat.isChecked,limitIP:this.toggleLimitIP.isChecked,limitPCEmu:this.toggleLimitPCEmu.isChecked}};l.tableName.length<=4&&T.instance.show("Vui lòng nhập tên bàn!"),console.log("Create Table Payload:",l),"friend"==this.zoneType?m.instance.wsClient.send({scene:"friend",g:{friend:{creatorTable:"creatorTable",data:l}}}):m.instance.wsClient.send({scene:"clubCreateTable",g:{club:{clubCreateTable:"clubCreateTable",data:l}}}),this.onBack()},o.onData=function(e){console.log("Vaod day----",e),e.clubTableOptions?m.instance.UICreateTable.onLoadCreateTable(e.clubTableOptions):e.getClubTables||e.clubcreateTable&&e.clubcreateTable.createTableSuccess&&(this.onEnable(),m.instance.UIClubManager.showClubTables(e.clubcreateTable.tables),C.dispatchEvent("ThemePokerLobby"))},o.onBack=function(){switch(console.log("onBack---",this.zoneType),S.instance.playSound("click"),this.zoneType){case"club":case"friend":this.onBackCallback()}this.zoneType=""},i}(f)).prototype,"arrowBaseMode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=i(we.prototype,"arrowAdvMode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=i(we.prototype,"gameType",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=i(we.prototype,"baseSettingMode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=i(we.prototype,"nodeMainSetting",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=i(we.prototype,"tableNameInput",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=i(we.prototype,"sliderMaxPlayers",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=i(we.prototype,"labelMaxPlayers",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=i(we.prototype,"sliderTimePerTurn",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=i(we.prototype,"labelTimePerTurn",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=i(we.prototype,"sliderBlinds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=i(we.prototype,"labelBlinds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=i(we.prototype,"sliderAnte",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=i(we.prototype,"labelAnte",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=i(we.prototype,"toggleAutoStraddle",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=i(we.prototype,"toggleVoluntaryStraddle",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=i(we.prototype,"sliderFee",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=i(we.prototype,"labelFee",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=i(we.prototype,"sliderCap",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=i(we.prototype,"labelCap",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=i(we.prototype,"sliderGameLength",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=i(we.prototype,"labelGameLength",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=i(we.prototype,"sliderEntryFee",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=i(we.prototype,"labelEntryFee",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=i(we.prototype,"sliderVPIP",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ke=i(we.prototype,"labelVPIP",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Je=i(we.prototype,"sliderMaintenance",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qe=i(we.prototype,"labelMaintenance",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=i(we.prototype,"toggleTimeInMinutes",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xe=i(we.prototype,"toggleTimeInHands",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ye=i(we.prototype,"sliderFollowTime",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ze=i(we.prototype,"labelFollowTime",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$e=i(we.prototype,"sliderRathole",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ei=i(we.prototype,"labelRathole",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ii=i(we.prototype,"toggleBreak",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ti=i(we.prototype,"toggleMultiDeal",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),li=i(we.prototype,"toggleInsurance",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ni=i(we.prototype,"toggleEVChop",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ri=i(we.prototype,"sliderAffiliateLimit",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ai=i(we.prototype,"labelAffiliateLimit",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oi=i(we.prototype,"togglePrivateTable",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),si=i(we.prototype,"passwordInput",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ui=i(we.prototype,"toggleBuyInDelegate",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ci=i(we.prototype,"toggleRandomSeat",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bi=i(we.prototype,"toggleAutoReopen",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),di=i(we.prototype,"toggleLimitIP",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gi=i(we.prototype,"toggleLimitPCEmu",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pi=i(we.prototype,"gameModeSetting",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=we))||Te));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIGame.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,r,t,o,c,a;return{setters:[function(e){n=e.inheritsLoose,r=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){o=e.cclegacy,c=e._decorator,a=e.Component}],execute:function(){var u;o._RF.push({},"4709axzrPVLo7T57J/1vc3P","UIGame",void 0);var i=c.ccclass;c.property,e("UIGame",i("UIGame")(u=function(e){function o(){return e.apply(this,arguments)||this}n(o,e);var c=o.prototype;return c.onEnable=function(){var e=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c.update=function(e){},o}(a))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/UIInvite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./SdkManager.ts"],(function(n){var e,t,r,i,a,o,u,c,l,s,f,p,d,b;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,r=n.initializerDefineProperty,i=n.assertThisInitialized,a=n.asyncToGenerator,o=n.regeneratorRuntime},function(n){u=n.cclegacy,c=n._decorator,l=n.Prefab,s=n.Label,f=n.Node,p=n.Component},function(n){d=n.DataManager},function(n){b=n.default}],execute:function(){var h,v,g,m,y,k,F,I,w,z,D,L,M;u._RF.push({},"953160PXH9EkJJcimCjP+XK","UIInvite",void 0);var P=c.ccclass,R=c.property;n("UIInvite",(h=P("UIInvite"),v=R(l),g=R(s),m=R(f),y=R(f),k=R(s),h((w=e((I=function(n){function e(){for(var e,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return e=n.call.apply(n,[this].concat(a))||this,r(e,"fen",w,i(e)),r(e,"numFen",z,i(e)),r(e,"noFen",D,i(e)),r(e,"listFen",L,i(e)),r(e,"linkInvite",M,i(e)),e}t(e,n);var u=e.prototype;return u.start=function(){},u.onEnable=function(){d.instance.userData&&(this.upLink(),this.checkFen())},u.checkFen=function(){var n=a(o().mark((function n(){var e;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=this,n.next=3,b.instance.countRef(a(o().mark((function n(t){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log("data checkFen:",t),r=t.data.datas.refCount,e.numFen.string=r;case 3:case"end":return n.stop()}}),n)}))));case 3:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),u.upLink=function(){this.linkInvite.string="https://t.me/MadCarBot?startapp="+d.instance.userData.ref},u.copyRef=function(){},u.addFriend=function(){console.log("add friend coming soon")},u.backHome=function(){},u.update=function(n){},e}(p)).prototype,"fen",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(I.prototype,"numFen",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(I.prototype,"noFen",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(I.prototype,"listFen",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(I.prototype,"linkInvite",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=I))||F));u._RF.pop()}}}));

System.register("chunks:///_virtual/UILobby.ts",["./rollupPluginModLoBabelHelpers.js","cc","./eventManager.ts","./DataManager.ts","./PopupVideo.ts","./Enum.ts","./ClubList.ts","./Utils.ts","./DailyLogin.ts","./Mission.ts","./AudioManager.ts","./ResourceManager.ts"],(function(e){var n,t,i,a,o,r,l,s,c,u,b,p,g,f,h,d,m,v,y,C,w,L,P,S;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,l=e.Label,s=e.Node,c=e.Sprite,u=e.PageView,b=e.Prefab,p=e.sys,g=e.instantiate,f=e.Component},function(e){h=e.eventManager},function(e){d=e.DataManager},function(e){m=e.PopupVideo},function(e){v=e.CURRENT_SCENCE},function(e){y=e.ClubList},function(e){C=e.formatCurrency},function(e){w=e.DailyLogin},function(e){L=e.Mission},function(e){P=e.default},function(e){S=e.default}],execute:function(){var D,k,T,z,I,M,N,V,E,x,U,G,B,O,R,A,F,_,j,Y,H,Q,q,J,Z,K,W,X,$,ee,ne,te,ie,ae,oe,re,le,se,ce,ue,be;o._RF.push({},"e3b879g0pJGZYMqQoSMOSSQ","UILobby",void 0);var pe=r.ccclass,ge=r.property;e("UILobby",(D=pe("UILobby"),k=ge(l),T=ge(l),z=ge(l),I=ge(s),M=ge(m),N=ge(s),V=ge(s),E=ge(s),x=ge(c),U=ge(s),G=ge(s),B=ge(u),O=ge(s),R=ge(s),A=ge(s),F=ge(s),_=ge(b),j=ge(b),Y=ge(b),D((q=n((Q=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return n=e.call.apply(e,[this].concat(o))||this,i(n,"username",q,a(n)),i(n,"money",J,a(n)),i(n,"xu",Z,a(n)),i(n,"nodeLeveGame",K,a(n)),i(n,"popupVideo",W,a(n)),i(n,"clubListNode",X,a(n)),i(n,"settingsNode",$,a(n)),i(n,"content",ee,a(n)),i(n,"avatar",ne,a(n)),i(n,"mission",te,a(n)),i(n,"dailyLogin",ie,a(n)),i(n,"pageView",ae,a(n)),i(n,"btnPrev",oe,a(n)),i(n,"btnPrevDisabled",re,a(n)),i(n,"btnNext",le,a(n)),i(n,"btnNextDisabled",se,a(n)),i(n,"dailyLoginPrefab",ce,a(n)),i(n,"missionPrefab",ue,a(n)),i(n,"choiceLanguagePrefab",be,a(n)),n}t(n,e);var o=n.prototype;return o.onLoad=function(){d.instance.UILobby=this,this.pageView.node.on(u.EventType.PAGE_TURNING,this.updatePageButtons,this)},o.onEnable=function(){console.log("UILOBBY ----"),d.instance.inGame=this,d.instance.CurrentScence=v.UILOBBY,setTimeout((function(){d.instance.UILogin.onLoginAuto()}),2e3),this.getClubs(),this.setInfo()},o.init=function(){d.instance.inGame=this},o.playGame=function(e,n){console.log("level:",n),console.log("DataManager.instance.userData:",d.instance.userData)},o.link=function(e,n){console.log("event",n);var t="";switch(n){case"tele":t="https://t.me/pokerrrr";break;case"web":t="https://pokerrrr.club/";break;case"dis":t="https://discord.gg/pokerrrr";break;case"x":t="https://twitter.com/pokerrrr"}p.openURL(t)},o.btnLogin=function(){h.dispatchEvent("ThemeLogin")},o.btnClub=function(){h.dispatchEvent("ThemeClub")},o.btnMenuGame=function(){P.instance.playSound("click"),h.dispatchEvent("ThemeMenuGame"),d.instance.UIMenuGame.init({zoneType:"gamePlay",onBackCallback:function(){}})},o.btnPokerLobby=function(){P.instance.playSound("click"),h.dispatchEvent("ThemePokerLobby")},o.btnCreatorClub=function(){P.instance.playSound("click"),h.dispatchEvent("creatorClub")},o.btnShowCalculator=function(){P.instance.playSound("click"),h.dispatchEvent("ThemeCalculator"),d.instance.calculator.onOpen()},o.btnShowPractice=function(){P.instance.playSound("click"),h.dispatchEvent("ThemePractice"),d.instance.practice.init()},o.btnThemeMessage=function(){P.instance.playSound("click"),d.instance.wsClient.send({message:{update:!0}}),h.dispatchEvent("ThemeMessage")},o.btnThemeCareer=function(){P.instance.playSound("click"),h.dispatchEvent("ThemeCareer")},o.btnThemeShop=function(){P.instance.playSound("click"),h.dispatchEvent("ThemeShop")},o.btnThemeProfile=function(){P.instance.playSound("click"),d.instance.UIProfile.init(),h.dispatchEvent("ThemeProfile")},o.btnThemeFriend=function(){P.instance.playSound("click"),h.dispatchEvent("ThemeFriend")},o.btnShowSettings=function(){P.instance.playSound("click"),this.settingsNode.active=!0},o.btnCloseSettings=function(){P.instance.playSound("click"),this.settingsNode.active=!1},o.btnShowDailyLogin=function(){if(P.instance.playSound("click"),this.dailyLogin.getChildByName("popupDailyLogin"))this.dailyLogin.active=!0;else{var e=g(this.dailyLoginPrefab);e.getComponent(w).init({page:"lobby"}),this.dailyLogin.addChild(e)}},o.btnShowChoiceLanuage=function(){P.instance.playSound("click"),this.settingsNode.active=!1;var e=this.content.getChildByName("choiceLanguage");if(e)e.active=!0;else{var n=g(this.choiceLanguagePrefab);this.content.addChild(n)}},o.btnShowMission=function(){console.log("btnShowMission:"),d.instance.wsClient.send({nhiemvu:100}),P.instance.playSound("click");var e=this.mission.getChildByName("popupMission");if(console.log("exists:",e),e)this.mission.active=!0;else{var n=g(this.missionPrefab);n.getComponent(L).init({page:"lobby"}),this.mission.addChild(n),this.mission.active=!0}},o.btnCloseission=function(){this.mission.active=!1},o.btnOpenLevelGame=function(){this.nodeLeveGame.active=!0},o.btnCloseLevelGame=function(){this.nodeLeveGame.active=!1},o.getClubs=function(){var e={},n=setInterval((function(){var t;(null==(t=d.instance.userData)?void 0:t.UID)?(d.instance.wsClient.send({scene:"Home",g:{club:{getClubs:"getClubs",dataclub:e}}}),clearInterval(n)):console.log("⏳ Đang chờ UID...")}),2e3)},o.setInfo=function(){if(console.log("DataManager.instance.userData",d.instance.userData),d.instance.userData){var e=d.instance.userData;if(e){var n=d.instance.userData.avatar?"avatar"+d.instance.userData.avatar:"avatar1";this.avatar.spriteFrame=this.getAvatarSprite(n),this.username.string=e.name,this.money.string=C(e.red),this.xu.string=C(e.xu)}}},o.getAvatarSprite=function(e){return console.log("name:",e),S.instance.getSprite(e)},o.onData=function(e){e.clubs&&this.clubListNode.getComponent(y).showClubPages(e.clubs),e.getTableOptions&&d.instance.UICreateTable.setClubOptionByDb(e.getTableOptions),e.findClub&&d.instance.inGame.findClub.onFoundClub(e.findClub),e.joinClub&&d.instance.inGame.joinClub.onData(e.joinClub),e.nhiemvu&&d.instance.MissionObj.onData(e.nhiemvu)},o.prevPage=function(){if(this.pageView){var e=this.pageView.getCurrentPageIndex();e>0&&this.pageView.scrollToPage(e-1,.3)}},o.nextPage=function(){if(this.pageView){var e=this.pageView.getCurrentPageIndex();e<this.pageView.getPages().length-1&&this.pageView.scrollToPage(e+1,.3)}},o.updatePageButtons=function(){var e=this.pageView.getCurrentPageIndex(),n=this.pageView.getPages().length,t=e<=0;this.btnPrev.active=!t,this.btnPrevDisabled.active=t;var i=e>=n-1;this.btnNext.active=!i,this.btnNextDisabled.active=i},o.showVideo=function(){this.popupVideo.playVideo("https://playmapcar.cryptopho.io/demo.mp4")},o.update=function(e){},o.btnDocs=function(){p.openURL("https://docs.madcar.xyz/")},n}(f)).prototype,"username",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=n(Q.prototype,"money",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=n(Q.prototype,"xu",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=n(Q.prototype,"nodeLeveGame",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(Q.prototype,"popupVideo",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=n(Q.prototype,"clubListNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=n(Q.prototype,"settingsNode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=n(Q.prototype,"content",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=n(Q.prototype,"avatar",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=n(Q.prototype,"mission",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=n(Q.prototype,"dailyLogin",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=n(Q.prototype,"pageView",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=n(Q.prototype,"btnPrev",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=n(Q.prototype,"btnPrevDisabled",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=n(Q.prototype,"btnNext",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=n(Q.prototype,"btnNextDisabled",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=n(Q.prototype,"dailyLoginPrefab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=n(Q.prototype,"missionPrefab",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=n(Q.prototype,"choiceLanguagePrefab",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=Q))||H));o._RF.pop()}}}));

System.register("chunks:///_virtual/UILogin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./Utils.ts","./LanguageData.ts","./Enum.ts","./NoticeManager.ts"],(function(n){var e,t,o,i,a,r,s,l,u,c,g,p,f,m,h,d,b;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,s=n.EditBox,l=n.Button,u=n.Label,c=n.Node,g=n.sys,p=n.Component},function(n){f=n.DataManager},function(n){m=n.validateUsername},function(n){h=n.t},function(n){d=n.CURRENT_SCENCE},function(n){b=n.NoticeManager}],execute:function(){var L,w,I,v,y,S,R,U,N,z,D,_,C,k,x,E,B;a._RF.push({},"63216EgRgFPdYnBGK/6FJKI","UILogin",void 0);var M=r.ccclass,F=r.property;n("UILogin",(L=M("UILogin"),w=F(s),I=F(s),v=F(l),y=F(u),S=F(c),R=F(c),U=F(c),L((D=e((z=function(n){function e(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return e=n.call.apply(n,[this].concat(a))||this,o(e,"usernameInput",D,i(e)),o(e,"passwordInput",_,i(e)),o(e,"loginButton",C,i(e)),o(e,"messageLabel",k,i(e)),o(e,"nodeLogin",x,i(e)),o(e,"nodeRegister",E,i(e)),o(e,"nodeSignName",B,i(e)),e}t(e,n);var a=e.prototype;return a.onLoad=function(){f.instance.UILogin=this,console.log("DataManager.instance.data:",f.instance.userData),this.onShowLogin()},a.onData=function(n){n.unauth&&b.instance.show(n.unauth.text)},a.onEnable=function(){var n=this;console.log("UILOGIN ----"),f.instance.inGame=this,f.instance.CurrentScence=d.UILOGIN,setTimeout((function(){n.onLoginAuto()}),3e3)},a.init=function(){},a.start=function(){},a.onLogin=function(){var n=this.usernameInput.string.trim(),e=this.passwordInput.string.trim(),t=!1,o="";if(n&&m(n)){if(e.length<5){t=!0,o=h("label_text.mkt")}}else t=!0,o=h("label_text.ttk");console.log("error:",t,n,e),t?b.instance.show(o):(console.log("ok"),f.instance.username=n,f.instance.wsClient.send({authentication:{username:n,password:e}}),localStorage.setItem("username",n),localStorage.setItem("password",e))},a.onLoginAuto=function(){var n=localStorage.getItem("username"),e=localStorage.getItem("password"),t=!1;if(n&&m(n)){if(e.length<5){t=!0;h("label_text.mkt")}}else{t=!0;h("label_text.ttk")}console.log("error:",t,n,e),t||(console.log("ok"),f.instance.username=n,f.instance.wsClient&&f.instance.wsClient.send({authentication:{username:n,password:e}}))},a.onShowLogin=function(){this.nodeLogin.active=!0,this.nodeRegister.active=!1},a.onShowRegister=function(){this.nodeLogin.active=!1,this.nodeRegister.active=!0},a.onShowSignName=function(){this.nodeLogin.active=!1,this.nodeRegister.active=!1,this.nodeSignName.active=!0},a.onbtnTermOfService=function(){g.openURL("https://google.com")},a.onbtnPolicy=function(){g.openURL("https://google.com")},e}(p)).prototype,"usernameInput",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(z.prototype,"passwordInput",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(z.prototype,"loginButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(z.prototype,"messageLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(z.prototype,"nodeLogin",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(z.prototype,"nodeRegister",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(z.prototype,"nodeSignName",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=z))||N));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIMenuGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./eventManager.ts","./DataManager.ts","./AudioManager.ts","./Enum.ts"],(function(e){var n,a,o,t,c,i,s,r;return{setters:[function(e){n=e.inheritsLoose},function(e){a=e.cclegacy,o=e._decorator,t=e.Component},function(e){c=e.eventManager},function(e){i=e.DataManager},function(e){s=e.default},function(e){r=e.CURRENT_SCENCE}],execute:function(){var l;a._RF.push({},"6cc512v4rZAF7hIssKB0rKa","UIMenuGame",void 0);var u=o.ccclass;o.property,e("UIFriend",u("UIMenuGame")(l=function(e){function a(){for(var n,a=arguments.length,o=new Array(a),t=0;t<a;t++)o[t]=arguments[t];return(n=e.call.apply(e,[this].concat(o))||this).zoneType="gamePlay",n.onBackCallback=null,n}n(a,e);var o=a.prototype;return o.onLoad=function(){i.instance.UIMenuGame=this},o.init=function(e){this.zoneType=e.zoneType,this.onBackCallback=e.onBackCallback||null,i.instance.CurrentScence=r.UI_MENU_GAME},o.onEnable=function(){console.log("UIMenuGames----"),i.instance.CurrentScence=r.UI_MENU_GAME},o.openMenuRoom=function(e,n){switch(s.instance.playSound("click"),i.instance.gameType=n,console.log("this.zoneType-------:",this.zoneType),this.zoneType){case"gamePlay":i.instance.wsClient.send({scene:"menuRoom",g:{poker:{menuRoom:n,gameType:n}}}),c.dispatchEvent("ThemePokerLobby");break;case"ThemePokerLobby":i.instance.wsClient.send({scene:"menuRoom",g:{poker:{menuRoom:n,gameType:n}}}),i.instance.UICreateTable.gameType.string=n,c.dispatchEvent("ThemeCreatorTable"),i.instance.UICreateTable.init({zoneType:"friend",onBackCallback:function(){c.dispatchEvent("ThemePokerLobby")}});break;case"creatorInClub":console.log("vao club ------"),i.instance.wsClient.send({scene:"menuRoom",g:{poker:{menuRoom:n,gameType:n}}}),i.instance.UICreateTable.gameType.string=n,c.dispatchEvent("ThemeCreatorTable"),i.instance.UICreateTable.init({zoneType:"club",onBackCallback:function(){c.dispatchEvent("ThemeClubManager")}})}},o.onDisable=function(){},o.onBack=function(){switch(console.log("this.onBack-------:",this.zoneType),s.instance.playSound("click"),this.zoneType){case"gamePlay":c.dispatchEvent("ThemeLobby");break;case"ThemePokerLobby":case"creatorInClub":this.onBackCallback()}this.zoneType="gamePlay"},o.onData=function(e){i.instance.userData&&(e.toGame&&(i.instance.UIPokerGame.init(e),c.dispatchEvent("ThemeGame")),e.nhiemvu&&i.instance.MissionObj.onData(e.nhiemvu),e.dataRoom&&i.instance.UIMenuRoom.updateRooms(e.dataRoom))},a}(t))||l);a._RF.pop()}}}));

System.register("chunks:///_virtual/UIMessage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./eventManager.ts","./DataManager.ts","./Enum.ts","./AudioManager.ts","./Message_item.ts","./Helper.ts"],(function(e){var t,n,i,s,a,o,r,c,l,u,g,h,f,p,d,m,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,r=e.Label,c=e.Prefab,l=e.Node,u=e.instantiate,g=e.Component},function(e){h=e.eventManager},function(e){f=e.DataManager},function(e){p=e.CURRENT_SCENCE},function(e){d=e.default},function(e){m=e.Message_item},function(e){v=e.Helper}],execute:function(){var b,w,C,y,M,D,S,E,_,I,U,x,z;a._RF.push({},"48024tZ0CJNY4ClC6+usjiX","UIMessage",void 0);var A=o.ccclass,N=o.property;e("UIMessage",(b=A("UIMessage"),w=N(r),C=N(r),y=N(c),M=N(l),D=N(l),b((_=t((E=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"news",_,s(t)),i(t,"text",I,s(t)),i(t,"item",U,s(t)),i(t,"content",x,s(t)),t.message="",i(t,"popupDetail",z,s(t)),t}n(t,e);var a=t.prototype;return a.onLoad=function(){f.instance.UIMessage=this},a.onData=function(e){e.message&&(e=e.message,console.log("data----",e),e.list&&(this.list(e.list),this.countNews(e.list)),e.text&&(this.text.string=e.text),e.news&&(e.news>0?(this.news.node.active=!0,this.news.string=e.news):this.news.node.active=!1))},a.onEnable=function(){console.log("UI_MESSAGE ----"),f.instance.UIMessage=this,f.instance.CurrentScence=p.UI_MESSAGE,f.instance.inGame=this},a.list=function(e){var t=this;this.content.removeAllChildren(),e.forEach((function(e){var n=u(t.item),i=n.getComponent(m);i.init(t),i.title.string=e.title,i.time.string=v.getStringDateByTime(e.time),i.bg.active=!e.read,i.dot.active=t.message===e._id,i.message=e._id,t.content.addChild(n)}))},a.onContentClick=function(e){this.btnShowDetail(),e.bg.active=!1,d.instance.playSound("click"),this.message=e.message,this.getContent(),e.dot.active=!0;var t=this.content.children.filter((function(t){return t!==e.node&&(t.children[0].active=!1),t.children[1].active}));t.length>0?(this.news.node.active=!0,this.news.string=t.length.toString()):this.news.node.active=!1},a.getContent=function(){f.instance.wsClient.send({message:{view:this.message}})},a.reset=function(){this.content.removeAllChildren(),this.text.string="",this.news.string="",this.news.node.active=!1},a.countNews=function(e){e.filter((function(e){return!e.read})).length},a.btnClose=function(){h.dispatchEvent("ThemeLobby")},a.btnShowDetail=function(){this.popupDetail.active=!0},a.btnCloseDetail=function(){this.popupDetail.active=!1},t}(g)).prototype,"news",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(E.prototype,"text",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(E.prototype,"item",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(E.prototype,"content",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(E.prototype,"popupDetail",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=E))||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIPokerLobby.ts",["./rollupPluginModLoBabelHelpers.js","cc","./eventManager.ts","./DataManager.ts","./AudioManager.ts","./Enum.ts","./Mission.ts","./DailyLogin.ts"],(function(e){var n,i,o,t,a,s,r,l,c,u,b,p,m,g,d,f,h;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,r=e.Prefab,l=e.Node,c=e.EditBox,u=e.instantiate,b=e.Component},function(e){p=e.eventManager},function(e){m=e.DataManager},function(e){g=e.default},function(e){d=e.CURRENT_SCENCE},function(e){f=e.Mission},function(e){h=e.DailyLogin}],execute:function(){var y,v,L,T,R,P,k,w,C,M,I,N,D,S,U,z,E,G,B,F,H,X,O,_,j;a._RF.push({},"39a2bPMR5FAS5L7PiJWGJ3j","UIPokerLobby",void 0);var A=s.ccclass,x=s.property;e("UIPokerLobby",(y=A("UIPokerLobby"),v=x(r),L=x(l),T=x(l),R=x(l),P=x(l),k=x(l),w=x(l),C=x(r),M=x(r),I=x(c),N=x(c),y((U=n((S=function(e){function n(){for(var n,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=e.call.apply(e,[this].concat(a))||this,o(n,"notice",U,t(n)),o(n,"popupNap",z,t(n)),o(n,"mainLobby",E,t(n)),o(n,"dailyLogin",G,t(n)),o(n,"missionNode",B,t(n)),o(n,"globalRoom",F,t(n)),o(n,"friendRoom",H,t(n)),o(n,"dailyLoginPrefab",X,t(n)),o(n,"missionPrefab",O,t(n)),n.gameType="NLH",o(n,"tidInput",_,t(n)),o(n,"password",j,t(n)),n}i(n,e);var a=n.prototype;return a.onLoad=function(){m.instance.UIPokerLobby=this},a.onEnable=function(){console.log("UIPokerLobby----"),m.instance.CurrentScence=d.UIPokerLobby,this.mainLobby.active=!0,this.popupNap.active=!1,this.dailyLogin.active=!1,this.missionNode.active=!1,this.friendRoom.active=!1,m.instance.inGame=this},a.onDisable=function(){},a.onData=function(e){console.log("onData:",e),m.instance.userData&&(e.toGame?"BXX"==m.instance.gameType?(p.dispatchEvent("ThemeGameBXX"),m.instance.UIBXXGame.init()):(m.instance.UIPokerGame.init(e),p.dispatchEvent("ThemeGame")):e.nhiemvu?m.instance.MissionObj.onData(e.nhiemvu):e.dataRoom?m.instance.UIMenuRoom.updateRooms(e.dataRoom):e.getListTable&&m.instance.FriendRoom.updateRooms(e.getListTable.tables))},a.openMenuRoom=function(e,n){this.mainLobby.active=!1,m.instance.gameType=n,console.log("gameType:",n),m.instance.wsClient.send({scene:"menuRoom",g:{poker:{menuRoom:n,gameType:n}}})},a.closeMenuRoom=function(){this.mainLobby.active=!0},a.showGlobalRoom=function(){console.log("Hiển thị phòng toàn cầu"),this.globalRoom.active=!0,this.friendRoom.active=!1},a.showFriendRoom=function(){console.log("Hiển thị phòng bạn bè"),this.globalRoom.active=!1,this.friendRoom.active=!0,m.instance.wsClient.send({scene:"friend",g:{friend:{getListTable:"getListTable",gameType:this.gameType,private:!1,isSearch:!1}}})},a.searchFriendRoom=function(){console.log("searchFriendRoom   phòng bạn bè"),this.globalRoom.active=!1,this.friendRoom.active=!0;var e=this.tidInput.string.trim(),n=this.password.string.trim(),i=parseInt(e),o={scene:"Friend",g:{friend:{getListTable:"getListTable",gameType:this.gameType,tid:isNaN(i)?void 0:i,private:n,isSearch:!0}}};m.instance.wsClient.send(o)},a.openDailyLogin=function(){if(g.instance.playSound("click"),this.dailyLogin.getChildByName("popupDailyLogin"))this.dailyLogin.active=!0;else{var e=u(this.dailyLoginPrefab);e.getComponent(h).init({page:"polerLobby"}),this.dailyLogin.addChild(e),this.dailyLogin.active=!0}},a.btnCloseDailyLogin=function(){this.dailyLogin.active=!1},a.openMission=function(){if(console.log("openMission--"),m.instance.wsClient.send({nhiemvu:100}),g.instance.playSound("click"),this.missionNode.getChildByName("popupMission"))this.missionNode.active=!0;else{var e=u(this.missionPrefab);e.getComponent(f).init({page:"polerLobby"}),this.missionNode.addChild(e),this.missionNode.active=!0}},a.btnCloseission=function(){this.missionNode.active=!1},a.btnCreatorFriend=function(){g.instance.playSound("click"),p.dispatchEvent("ThemeMenuGame"),m.instance.userData&&m.instance.wsClient.send({scene:"Home",g:{club:{getTableOptions:"getTableOptions"}}}),m.instance.UIMenuGame.init({zoneType:"ThemePokerLobby",onBackCallback:function(){console.log("call back ThemePokerLobby"),p.dispatchEvent("ThemePokerLobby")}})},a.btnThemeProfile=function(){console.log("btnThemeProfile----"),g.instance.playSound("click"),m.instance.UIProfile.init(),p.dispatchEvent("ThemeProfile")},a.btnThemeShop=function(e,n){g.instance.playSound("click"),m.instance.UISHOP.navigative="ThemePokerLobby",m.instance.UISHOP.typeMoney=n,p.dispatchEvent("ThemeShop",(function(){console.log("callback ở đây ")}))},a.onBack=function(){p.dispatchEvent("ThemeMenuGame")},n}(b)).prototype,"notice",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(S.prototype,"popupNap",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(S.prototype,"mainLobby",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(S.prototype,"dailyLogin",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(S.prototype,"missionNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(S.prototype,"globalRoom",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(S.prototype,"friendRoom",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=n(S.prototype,"dailyLoginPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(S.prototype,"missionPrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(S.prototype,"tidInput",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=n(S.prototype,"password",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=S))||D));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIPractice.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var c,r,e,n;return{setters:[function(t){c=t.inheritsLoose},function(t){r=t.cclegacy,e=t._decorator,n=t.Component}],execute:function(){var o;r._RF.push({},"ab65cI6KwNCCaJWjr49qr3P","UIPractice",void 0);var i=e.ccclass;e.property,t("UIPractice",i("UIPractice")(o=function(t){function r(){return t.apply(this,arguments)||this}return c(r,t),r.prototype.onLoad=function(){},r}(n))||o);r._RF.pop()}}}));

System.register("chunks:///_virtual/UIProfile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./eventManager.ts","./ResourceManager.ts","./AvatarItem.ts","./NoticeManager.ts","./Utils.ts"],(function(a){var t,e,n,r,i,o,s,c,l,u,v,p,m,f,h,d,g,b,A;return{setters:[function(a){t=a.applyDecoratedDescriptor,e=a.inheritsLoose,n=a.initializerDefineProperty,r=a.assertThisInitialized},function(a){i=a.cclegacy,o=a._decorator,s=a.Label,c=a.EditBox,l=a.Sprite,u=a.Node,v=a.Prefab,p=a.instantiate,m=a.Component},function(a){f=a.DataManager},function(a){h=a.eventManager},function(a){d=a.default},function(a){g=a.AvatarItem},function(a){b=a.NoticeManager},function(a){A=a.isValidName}],execute:function(){var C,y,S,I,w,N,D,E,P,F,M,x,z,L,T;i._RF.push({},"3faa8ujvxFFS6XveZMXnn/t","UIProfile",void 0);var k=o.ccclass,B=o.property;a("UIProfile",(C=k("UIProfile"),y=B(s),S=B(c),I=B(l),w=B(u),N=B(v),D=B(u),C((F=t((P=function(a){function t(){for(var t,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return t=a.call.apply(a,[this].concat(i))||this,n(t,"username",F,r(t)),n(t,"nameEditBox",M,r(t)),n(t,"currentAvatar",x,r(t)),n(t,"avatarGrid",z,r(t)),n(t,"avatarItemPrefab",L,r(t)),t.avatarList=["avatar1","avatar2","avatar3","avatar4","avatar5","avatar6","avatar7","avatar8","avatar9","avatar10","avatar11","avatar12ar12"],t.selectedAvatar="",t.lastSelectedAvatarItem=null,n(t,"popupChangeName",T,r(t)),t}e(t,a);var i=t.prototype;return i.onLoad=function(){f.instance.UIProfile=this},i.onEnable=function(){f.instance.inGame=this,this.loadAvatars()},i.init=function(){var a=f.instance.userData.avatar?"avatar"+f.instance.userData.avatar:"avatar1";this.currentAvatar.spriteFrame=this.getAvatarSprite(a),this.username.string=f.instance.userData.name},i.loadAvatars=function(){var a=this;this.avatarGrid.removeAllChildren(),this.avatarList.forEach((function(t){var e=p(a.avatarItemPrefab),n=e.getComponent(l);n.spriteFrame=a.getAvatarSprite(t),console.log("sprite.spriteFrame:",n.spriteFrame);var r=e.getComponent(g);e.on(u.EventType.TOUCH_END,(function(){console.log("Avatar clicked"),a.selectedAvatar=t,a.currentAvatar.spriteFrame=n.spriteFrame,a.lastSelectedAvatarItem&&a.lastSelectedAvatarItem.setSelected(!1),r.setSelected(!0),a.lastSelectedAvatarItem=r})),a.avatarGrid.addChild(e)}))},i.hideSelectAvatar=function(){this.avatarList.forEach((function(a){}))},i.getAvatarSprite=function(a){return console.log("name:",a),d.instance.getSprite(a)},i.onConfirm=function(){console.log("Confirmed profile with name and avatar:",this.nameEditBox.string,this.selectedAvatar)},i.onHiddeChangeName=function(){this.popupChangeName.active=!1},i.onShowChangeName=function(){this.popupChangeName.active=!0,this.nameEditBox.string=f.instance.userData.name?""+f.instance.userData.name:"Noname"},i.avatarSubmit=function(){var a=this.selectedAvatar.replace("avatar","");f.instance.userData.avatar=a,f.instance.wsClient.send({user:{avatar:a}}),b.instance.show("Thao tác thành công !")},i.onChangeNameClicked=function(){var a=this.nameEditBox.string.trim();console.log("username:",a),A(a)?(f.instance.userData.name=a,f.instance.wsClient.send({user:{name:a}}),b.instance.show("Thao tác thành công !"),this.popupChangeName.active=!1):b.instance.show("Tên không hợp lệ. Tên phải từ 3–14 ký tự và không chứa ký tự đặc biệt.")},i.btnClose=function(){h.dispatchEvent("ThemeLobby")},t}(m)).prototype,"username",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(P.prototype,"nameEditBox",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(P.prototype,"currentAvatar",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(P.prototype,"avatarGrid",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(P.prototype,"avatarItemPrefab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(P.prototype,"popupChangeName",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=P))||E));i._RF.pop()}}}));

System.register("chunks:///_virtual/UIScrollControl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy}],execute:function(){var n;e._RF.push({},"e6235MOwRpI+bzS2hVblkfN","UIScrollControl",void 0);var o=cc._decorator,s=o.ccclass,c=(o.property,t("ENUM_SCROLL_DIR",function(t){return t[t.V=0]="V",t[t.H=1]="H",t}({})));t("default",s(n=function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).scrollView=null,i.contentSize=null,i.scrollDirection=c.V,i.totalCount=0,i.itemCount=0,i.childrenList=[],i.itemDistance=0,i.contentSizeStart=null,i.isStartFlag=!1,i.theMaxID=0,i.refreshCB=null,i}i(e,t);var n=e.prototype;return n.init=function(t,i,e,n,o,s){if(o&&(this.refreshCB=o),0==this.isStartFlag){if(this.scrollView=this.node.getComponent(cc.ScrollView),null==this.scrollView||null==this.scrollView.content)return;this.scrollView.content.parent.setAnchorPoint(cc.v2(.5,.5));var l=this.scrollView.content.parent.getComponent(cc.Widget);null==l&&(l=this.scrollView.content.parent.addComponent(cc.Widget)),l.isAlignLeft=!0,l.left=0,l.isAlignRight=!0,l.right=0,l.isAlignTop=!0,l.top=0,l.isAlignBottom=!0,l.bottom=0,this.contentSize=new cc.Size(this.scrollView.node.getContentSize()),this.scrollView.content.setContentSize(this.contentSize),this.contentSizeStart=this.scrollView.content.getContentSize()}if(null!=t){if(this.scrollView.content.setContentSize(this.contentSizeStart),this.clear(),this.totalCount=i,this.scrollDirection=n,n==c.V){this.scrollView.content.setAnchorPoint(cc.v2(.5,1)),this.scrollView.content.setContentSize(cc.size(this.contentSizeStart.width,this.totalCount*e.height)),this.scrollView.content.setPosition(cc.v2(0,-this.totalCount*e.height/2));var h=Math.floor(this.contentSizeStart.height/e.height);this.itemCount=h+2,this.totalCount<=this.itemCount&&(this.itemCount=this.totalCount),this.itemDistance=e.height}else if(n==c.H){this.scrollView.content.setAnchorPoint(cc.v2(0,.5)),this.scrollView.content.setContentSize(cc.size(this.totalCount*e.width,this.contentSizeStart.height)),this.scrollView.content.setPosition(cc.v2(this.totalCount*e.width/2,0));var r=Math.floor(this.contentSizeStart.width/e.width);this.itemCount=r+2,this.totalCount<=this.itemCount&&(this.itemCount=this.totalCount),this.itemDistance=e.width}if(this.scrollView.scrollEvents.length<=0){var a=new cc.Component.EventHandler;a.target=this.node,a.component="UIScrollControl",a.handler="OnScroll",this.scrollView.scrollEvents.push(a)}this.isStartFlag,this.theMaxID=0,this.initShowAreaItems(t,s)}},n.clear=function(){this.scrollView.content.removeAllChildren(),this.childrenList=[]},n.initShowAreaItems=function(t,i){for(var e=0;e<this.itemCount;e++){var n=cc.v2(0,0),o=cc.instantiate(t);this.scrollView.content.addChild(o),o.active=!0,o.opacity=255,this.scrollDirection==c.V?n.y=-this.itemDistance/2-this.itemDistance*e:this.scrollDirection==c.H&&(n.x=this.itemDistance/2+this.itemDistance*e),o.name="cell_"+e,o.setAnchorPoint(cc.v2(.5,.5)),o.setPosition(n),this.onRefresh(o,e,e),this.childrenList.push(o)}i&&i(this.scrollView)},n.OnScroll=function(){var t=this.scrollView.getScrollOffset(),i=0;this.scrollDirection==c.V?i=t.y:this.scrollDirection==c.H&&(i=-t.x),this.refreshLayout(i)},n.refreshLayout=function(t){var i=t,e=this.totalCount*this.itemDistance;if(!(i<0||i+this.contentSize.height>=e)){for(var n=0,o=Math.floor(i/this.itemDistance),s=0;s<this.itemCount;s++){var c=this.childrenList[s];n=o+s,this.refreshItem(n,s,c)}this.theMaxID=o+this.itemCount}},n.refreshItem=function(t,i,e){if(!(t<0||t>=this.totalCount)&&null!=e){var n=cc.Vec2.ZERO;this.scrollDirection==c.H?n.x=this.itemDistance/2+this.itemDistance*t:this.scrollDirection==c.V&&(n.y=-this.itemDistance/2-this.itemDistance*t),e.setPosition(n),this.onRefresh(e,t,i)}},n.onRefresh=function(t,i,e){null!=this.refreshCB&&this.refreshCB(t,i,e)},e}(cc.Component))||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/UIShop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./eventManager.ts","./ShopItem.ts","./Enum.ts","./Utils.ts"],(function(e){var n,t,i,a,o,r,l,s,c,u,p,h,b,f,d,g,m;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,l=e.Label,s=e.Node,c=e.ScrollView,u=e.Prefab,p=e.instantiate,h=e.Component},function(e){b=e.DataManager},function(e){f=e.eventManager},function(e){d=e.ShopItem},function(e){g=e.CURRENT_SCENCE},function(e){m=e.formatCurrency}],execute:function(){var y,D,I,v,w,L,S,C,U,_,P,z,B,E,R,T,H,M,x,F,N;o._RF.push({},"ae11dWEX/tFTJ77ihQQ2x68","UIShop",void 0);var O=r.ccclass,V=r.property;e("UIShop",(y=O("UIShop"),D=V(l),I=V(l),v=V(l),w=V(l),L=V(s),S=V(s),C=V(s),U=V(c),_=V(u),y((B=n((z=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return n=e.call.apply(e,[this].concat(o))||this,i(n,"goldLabel",B,a(n)),i(n,"diamondLabel",E,a(n)),i(n,"chipBlueLabel",R,a(n)),i(n,"chipRedLabel",T,a(n)),i(n,"tabGold",H,a(n)),i(n,"tabDiamond",M,a(n)),i(n,"tabItem",x,a(n)),i(n,"scrollView",F,a(n)),i(n,"shopItemPrefab",N,a(n)),n.shopData=null,n.navigative="home",n.typeMoney="red",n}t(n,e);var o=n.prototype;return o.onLoad=function(){b.instance.UISHOP=this},o.onEnable=function(){b.instance.inGame=this,b.instance.CurrentScence=g.UI_SHOP,!this.shopData&&b.instance.wsClient&&b.instance.wsClient.send({shop:{get_data_shop:!0}}),this.setInfo()},o.onData=function(e){e.shop?(e=e.shop).get_data_shop&&(this.shopData=e.get_data_shop.shop,console.log("this.shopData:",this.shopData),this.showTab(null,"gold")):e.user&&(b.instance.userData.red=e.user.red,b.instance.userData.xu=e.user.xu,b.instance.userData.chipBlue=e.user.chipBlue,b.instance.userData.chipRed=e.user.chipRed,b.instance.userData.chipFriend=e.user.chipFriend,this.setInfo()),console.log("onData shop",e)},o.setInfo=function(){b.instance.userData&&(this.diamondLabel.string=m(b.instance.userData.red),this.goldLabel.string=m(b.instance.userData.xu),this.chipBlueLabel.string=m(b.instance.userData.chipBlue),this.chipRedLabel.string=m(b.instance.userData.chipRed),b.instance.UILobby.setInfo())},o.showTab=function(e,n){var t=this;this.scrollView.content.removeAllChildren(),this.shopData[n].forEach((function(e){var n=p(t.shopItemPrefab);n.getComponent(d).init({amount:e.amount,icon:t.getIconByName(e.icon),price:e.price,currency:e.currency,onBuy:function(){console.log("User wants to buy:",e),b.instance.wsClient.send({shop:{poker_nap:{data:e}}})}}),t.scrollView.content.addChild(n)}))},o.getIconByName=function(e){},o.btnClose=function(){"poker"==b.instance.UISHOP.navigative?f.dispatchEvent("ThemeGame"):"ThemePokerLobby"==b.instance.UISHOP.navigative?f.dispatchEvent(b.instance.UISHOP.navigative):f.dispatchEvent("ThemeLobby")},n}(h)).prototype,"goldLabel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(z.prototype,"diamondLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(z.prototype,"chipBlueLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(z.prototype,"chipRedLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(z.prototype,"tabGold",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(z.prototype,"tabDiamond",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(z.prototype,"tabItem",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(z.prototype,"scrollView",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(z.prototype,"shopItemPrefab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=z))||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIWallet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./eventManager.ts"],(function(n){var e,t,o,i,r,a,c,s,u,l,h,d,f,p;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized,r=n.asyncToGenerator,a=n.regeneratorRuntime},function(n){c=n.cclegacy,s=n._decorator,u=n.Sprite,l=n.Label,h=n.Node,d=n.Component},function(n){f=n.DataManager},function(n){p=n.eventManager}],execute:function(){var b,g,m,y,v,C,I,w,T,F,_,U,L,k,x;c._RF.push({},"18fa3wuS19JlajTYQisFR7X","UIWallet",void 0);var A=s.ccclass,W=s.property;n("UIWallet",(b=A("UIWallet"),g=W(u),m=W(l),y=W(l),v=W(l),C=W(h),I=W(l),b((F=e((T=function(n){function e(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=n.call.apply(n,[this].concat(r))||this,o(e,"avatar",F,i(e)),o(e,"username",_,i(e)),o(e,"usernameTele",U,i(e)),o(e,"money",L,i(e)),o(e,"btnConnect",k,i(e)),o(e,"connectLabel",x,i(e)),e.connectUI=void 0,e.cocosGameFi=void 0,e._gameFi=void 0,e._bTonInit=!1,e._tonAddressConfig=void 0,e.isShopBuyBox=!1,e}t(e,n);var c=e.prototype;return c.onLoad=function(){f.instance.UIWALLET=this},c.start=function(){if(f.instance.data&&f.instance.data.user){var n=f.instance.data.user;n&&(this.username.string=n.username,this.money.string=n.gold)}},c.btnClickConnect=function(){this.isConnected()?this.setGameFi(this.cocosGameFi):this.openModal()},c.setGameFi=function(n){if(this._gameFi=n,this._gameFi&&this._gameFi.walletConnector.connected){var e=this._gameFi.walletConnector.account.address;this.connectLabel.string=Address.parseRaw(e).toString({testOnly:!0,bounceable:!1}).substring(0,6)+"..."}else this.connectLabel.string="Unconnected";this.updateTelegramInfo()},c.updateTelegramInfo=function(){},c.initTonConnect=function(){var n=r(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),c.openModal=function(){var n=r(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this._bTonInit){n.next=2;break}return n.abrupt("return");case 2:console.log("this.isConnected()",this.isConnected()),this.isConnected()?this.connectUI.disconnect():this.connectUI.openModal();case 4:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),c.onConnect=function(){this.isConnected()?this.connectUI.disconnect():this.connectUI.openModal()},c.isConnected=function(){return this.connectUI?this.connectUI.connected:(console.error("ton ui not inited!"),!1)},c.updateConnect=function(){if(this.isConnected()){this.setGameFi(this.cocosGameFi);var n=this.connectUI.account.address;this.connectLabel.string=Address.parseRaw(n).toString({testOnly:!0,bounceable:!1}).substring(0,6)+"...",this.isShopBuyBox&&f.instance.UISHOP&&f.instance.UISHOP.callbackBuyTON(this.connectUI.account)}else this.connectLabel.string=""},c.onTransferTon=function(){var n=r(a().mark((function n(){var e,t,o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this._gameFi||null==(e=this._gameFi.walletConnector)||!e.connected){n.next=12;break}return t={to:Address.parse(this._tonAddressConfig.tonAddress),amount:toNano(.5)},n.prev=2,n.next=5,this._gameFi.transferTon(t);case 5:(o=n.sent)&&("success"===o.status?console.log("Giao dịch thành công:",o):console.error("Giao dịch thất bại:",o)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),console.error("Lỗi khi thực hiện giao dịch:",n.t0);case 12:case"end":return n.stop()}}),n,this,[[2,9]])})));return function(){return n.apply(this,arguments)}}(),c.onBuyWithTon=function(){console.log("onBuyWithTon---",this._tonAddressConfig.tonAddress);var n={amount:toNano(.01)};this._gameFi.buyWithTon(n)},c.backHome=function(){p.dispatchEvent("ThemeLobby")},c.update=function(n){},c.callbackWallet=function(n){console.log("callbackWallet:",n)},e}(d)).prototype,"avatar",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(T.prototype,"username",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(T.prototype,"usernameTele",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(T.prototype,"money",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(T.prototype,"btnConnect",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(T.prototype,"connectLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=T))||w));c._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){t({convertToRoman:function(t){var n=[{value:1,symbol:"I"},{value:2,symbol:"II"},{value:3,symbol:"III"},{value:4,symbol:"IV"},{value:5,symbol:"V"},{value:6,symbol:"VI"}].find((function(n){return n.value===t}));return n?n.symbol:""},countDays:function(t){var n=Date.now()-t;return Math.round(n/864e5)},formatCurrency:function(t){return null!=t?t>=1e6?(t/1e6).toFixed(t%1e6==0?0:1)+"M":t>=1e3?(t/1e3).toFixed(t%1e3==0?0:1)+"K":t.toString():""},formatNumber2:function(t){return t.toLocaleString("en-US")},formatWithDot:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},getData:function(t){var n=cc.sys.localStorage.getItem(t);return JSON.parse(n)},isValidName:function(t){return/^[a-zA-Z0-9_ ]{3,14}$/.test(t)},numberFormat:function(t){if(null==t||isNaN(t))return"0";t=parseInt(t).toString();var n=/(-?\d+)(\d{3})/;for(;n.test(t);)t=t.replace(n,"$1,$2");return t},parseURLParams:function(t){var n,e,r,o,a=t.indexOf("?")+1,u=t.indexOf("#")+1||t.length+1,i=t.slice(a,u-1),c=i.replace(/\+/g," ").split("&"),l={};if(i===t||""===i)return;for(n=0;n<c.length;n++)o=c[n].split("=",2),e=decodeURIComponent(o[0]),r=decodeURIComponent(o[1]),l.hasOwnProperty(e)||(l[e]=[]),l[e].push(2===o.length?r:null);return l},random:function(t,n){return Math.floor(Math.random()*(n-t+1))+t},setData:function(t,n){cc.sys.localStorage.setItem([t],JSON.stringify(n))},sortSpriteNameByNum:function(t){var n=function(t){return parseInt(t.match(/\d+/g)[0]||"0")};return t.sort((function(t,e){return n(t.name)-n(e.name)}))},uuid:function(){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(n){var e=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==n?e:3&e|8).toString(16)}))},validateUsername:function(t){if(t&&t.length<5)return!1;return/^[a-zA-Z0-9_-]+$/.test(t)}}),n._RF.push({},"f9181nwb+hBirJ54UQbjqYR","Utils",void 0),n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});